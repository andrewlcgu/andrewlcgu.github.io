<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>Andrewlcgu&#39;s Blog</title>
  <subtitle>人生如梦</subtitle>
  <link href="/atom.xml" rel="self"/>
  
  <link href="http://yoursite.com/"/>
  <updated>2018-12-09T06:34:24.488Z</updated>
  <id>http://yoursite.com/</id>
  
  <author>
    <name>andrewlcgu</name>
    
  </author>
  
  <generator uri="http://hexo.io/">Hexo</generator>
  
  <entry>
    <title>快速排序</title>
    <link href="http://yoursite.com/2018/12/09/quick-sort/"/>
    <id>http://yoursite.com/2018/12/09/quick-sort/</id>
    <published>2018-12-09T03:01:55.000Z</published>
    <updated>2018-12-09T06:34:24.488Z</updated>
    
    <content type="html">&lt;!-- toc --&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;#&amp;#x7B80;&amp;#x4ECB;&quot;&gt;&amp;#x7B80;&amp;#x4ECB;&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;#&amp;#x4EE3;&amp;#x7801;&amp;#x5B9E;&amp;#x73B0;&quot;&gt;&amp;#x4EE3;&amp;#x7801;&amp;#x5B9E;&amp;#x73B0;&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;#&amp;#x6027;&amp;#x80FD;&amp;#x5206;&amp;#x6790;&quot;&gt;&amp;#x6027;&amp;#x80FD;&amp;#x5206;&amp;#x6790;&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;!-- tocstop --&gt;
&lt;h2 id=&quot;&amp;#x7B80;&amp;#x4ECB;&quot;&gt;&lt;a href=&quot;#&amp;#x7B80;&amp;#x4ECB;&quot; class=&quot;headerlink&quot; title=&quot;&amp;#x7B80;&amp;#x4ECB;&quot;&gt;&lt;/a&gt;&amp;#x7B80;&amp;#x4ECB;&lt;/h2&gt;&lt;p&gt;&amp;#x5FEB;&amp;#x901F;&amp;#x6392;&amp;#x5E8F;&amp;#xFF08;Quick Sort&amp;#xFF09;&amp;#x662F;&amp;#x7531;&amp;#x56FE;&amp;#x7075;&amp;#x5956;&amp;#x83B7;&amp;#x5F97;&amp;#x8005;Tony Hoare&amp;#x8BBE;&amp;#x8BA1;&amp;#x51FA;&amp;#x6765;&amp;#xFF0C;&amp;#x88AB;&amp;#x5217;&amp;#x4E3A;20&amp;#x4E16;&amp;#x7EAA;&amp;#x5341;&amp;#x5927;&amp;#x7B97;&amp;#x6CD5;&amp;#x4E4B;&amp;#x4E00;&amp;#xFF0C;&amp;#x4EE5;&amp;#x201C;&amp;#x5FEB;&amp;#x901F;&amp;#x201D;&amp;#x547D;&amp;#x540D;&amp;#x8868;&amp;#x660E;&amp;#x8BE5;&amp;#x7B97;&amp;#x6CD5;&amp;#x5728;&amp;#x6574;&amp;#x4F53;&amp;#x6027;&amp;#x80FD;&amp;#x4E0A;&amp;#x662F;&amp;#x6392;&amp;#x5E8F;&amp;#x7B97;&amp;#x6CD5;&amp;#x7684;&amp;#x738B;&amp;#x8005;&amp;#x3002;&lt;br&gt;&amp;#x6838;&amp;#x5FC3;&amp;#x601D;&amp;#x60F3;&amp;#x662F;&amp;#xFF1A;&amp;#x901A;&amp;#x8FC7;&amp;#x4E00;&amp;#x8D9F;&amp;#x6392;&amp;#x5E8F;&amp;#x5C06;&amp;#x5F85;&amp;#x6392;&amp;#x5E8F;&amp;#x8BB0;&amp;#x5F55;&amp;#x5206;&amp;#x5272;&amp;#x6210;&amp;#x72EC;&amp;#x7ACB;&amp;#x7684;&amp;#x4E24;&amp;#x90E8;&amp;#x5206;&amp;#xFF0C;&amp;#x5176;&amp;#x4E2D;&amp;#x4E00;&amp;#x90E8;&amp;#x5206;&amp;#x8BB0;&amp;#x5F55;&amp;#x5173;&amp;#x952E;&amp;#x5B57;&amp;#x5747;&amp;#x6BD4;&amp;#x53E6;&amp;#x4E00;&amp;#x90E8;&amp;#x5206;&amp;#x8BB0;&amp;#x5F55;&amp;#x7684;&amp;#x5173;&amp;#x952E;&amp;#x5B57;&amp;#x5C0F;&amp;#xFF0C;&amp;#x5219;&amp;#x53EF;&amp;#x5206;&amp;#x522B;&amp;#x5BF9;&amp;#x8FD9;&amp;#x4E24;&amp;#x90E8;&amp;#x5206;&amp;#x8BB0;&amp;#x5F55;&amp;#x7EE7;&amp;#x7EED;&amp;#x8FDB;&amp;#x884C;&amp;#x6392;&amp;#x5E8F;&amp;#xFF0C;&amp;#x4EE5;&amp;#x8FBE;&amp;#x5230;&amp;#x6574;&amp;#x4E2A;&amp;#x5E8F;&amp;#x5217;&amp;#x6709;&amp;#x5E8F;&amp;#x7684;&amp;#x76EE;&amp;#x7684;&amp;#x3002;&amp;#x4E00;&amp;#x8D9F;&amp;#x6392;&amp;#x5E8F;&amp;#x8FC7;&amp;#x7A0B;&amp;#x793A;&amp;#x610F;&amp;#x56FE;&amp;#x5982;&amp;#x4E0B;&amp;#x3002;&lt;/p&gt;
&lt;img src=&quot;/2018/12/09/quick-sort/quick-sort_0.jpg&quot;&gt;
&lt;p&gt;&amp;#x4E00;&amp;#x8D9F;&amp;#x6392;&amp;#x5E8F;&amp;#x4E2D;&amp;#x9700;&amp;#x8981;&amp;#x9009;&amp;#x62E9;&amp;#x4E00;&amp;#x4E2A;&amp;#x5173;&amp;#x952E;&amp;#x5B57;&amp;#xFF0C;&amp;#x4F7F;&amp;#x5F97;&amp;#x5176;&amp;#x5DE6;&amp;#x8FB9;&amp;#x7684;&amp;#x503C;&amp;#x90FD;&amp;#x6BD4;&amp;#x5B83;&amp;#x5C0F;&amp;#xFF0C;&amp;#x53F3;&amp;#x8FB9;&amp;#x7684;&amp;#x503C;&amp;#x6BD4;&amp;#x5B83;&amp;#x5927; &amp;#xFF0C;&amp;#x8FD9;&amp;#x4E2A;&amp;#x5173;&amp;#x952E;&amp;#x5B57;&amp;#x79F0;&amp;#x4E3A;&amp;#x67A2;&amp;#x8F74;&amp;#xFF08;pivot&amp;#xFF09;&amp;#xFF0C;pivot&amp;#x53D6;&amp;#x503C;&amp;#x8D8A;&amp;#x662F;&amp;#x4F4D;&amp;#x4E8E;&amp;#x4E2D;&amp;#x95F4;&amp;#x5176;&amp;#x6392;&amp;#x5E8F;&amp;#x6027;&amp;#x80FD;&amp;#x8D8A;&amp;#x597D;&amp;#x3002;&lt;/p&gt;
&lt;h2 id=&quot;&amp;#x4EE3;&amp;#x7801;&amp;#x5B9E;&amp;#x73B0;&quot;&gt;&lt;a href=&quot;#&amp;#x4EE3;&amp;#x7801;&amp;#x5B9E;&amp;#x73B0;&quot; class=&quot;headerlink&quot; title=&quot;&amp;#x4EE3;&amp;#x7801;&amp;#x5B9E;&amp;#x73B0;&quot;&gt;&lt;/a&gt;&amp;#x4EE3;&amp;#x7801;&amp;#x5B9E;&amp;#x73B0;&lt;/h2&gt;&lt;figure class=&quot;highlight java&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;12&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;13&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;14&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;15&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;16&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;17&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;18&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;19&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;20&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;21&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;22&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;23&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;24&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;25&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;26&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;27&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;28&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;29&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;30&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;31&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;32&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;33&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;function&quot;&gt;fun &lt;span class=&quot;title&quot;&gt;quickSort&lt;/span&gt;&lt;span class=&quot;params&quot;&gt;(input: Array&amp;lt;Int&amp;gt;)&lt;/span&gt;&lt;/span&gt;{&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    quickSort(input)&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;}&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;function&quot;&gt;fun &lt;span class=&quot;title&quot;&gt;quickSort&lt;/span&gt;&lt;span class=&quot;params&quot;&gt;(array: Array&amp;lt;Int&amp;gt;, _start: Int, _end: Int)&lt;/span&gt; &lt;/span&gt;{&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;if&lt;/span&gt; (_start &amp;gt;= _end) {&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &lt;span class=&quot;keyword&quot;&gt;return&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    }&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    val pivot = partition(array, _start, _end)&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    quickSort(array, _start, pivot - &lt;span class=&quot;number&quot;&gt;1&lt;/span&gt;)&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    quickSort(array, pivot + &lt;span class=&quot;number&quot;&gt;1&lt;/span&gt;, _end)&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;}&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;function&quot;&gt;fun &lt;span class=&quot;title&quot;&gt;partition&lt;/span&gt;&lt;span class=&quot;params&quot;&gt;(array: Array&amp;lt;Int&amp;gt;, _start: Int, _end: Int)&lt;/span&gt;: Int &lt;/span&gt;{&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    val pivot = array[_start] &lt;span class=&quot;comment&quot;&gt;// pivot&amp;#x9009;&amp;#x7B2C;&amp;#x4E00;&amp;#x4E2A;&amp;#xFF0C;&amp;#x53EF;&amp;#x4F18;&amp;#x5316;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;var&lt;/span&gt; start = _start&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;var&lt;/span&gt; end = _end&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;while&lt;/span&gt; (start &amp;lt; end) {&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &lt;span class=&quot;keyword&quot;&gt;while&lt;/span&gt; (end &amp;gt; start &amp;amp;&amp;amp; array[end] &amp;gt;= pivot) {&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;            end--&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        }&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        array[start] = array[end]&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &lt;span class=&quot;keyword&quot;&gt;while&lt;/span&gt; (start &amp;lt; end &amp;amp;&amp;amp; array[start] &amp;lt;= pivot) {&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;            start++&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        }&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        array[end] = array[start]&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    }&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    array[start] = pivot&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;return&lt;/span&gt; start&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;}&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;h2 id=&quot;&amp;#x6027;&amp;#x80FD;&amp;#x5206;&amp;#x6790;&quot;&gt;&lt;a href=&quot;#&amp;#x6027;&amp;#x80FD;&amp;#x5206;&amp;#x6790;&quot; class=&quot;headerlink&quot; title=&quot;&amp;#x6027;&amp;#x80FD;&amp;#x5206;&amp;#x6790;&quot;&gt;&lt;/a&gt;&amp;#x6027;&amp;#x80FD;&amp;#x5206;&amp;#x6790;&lt;/h2&gt;&lt;p&gt;&amp;#x5FEB;&amp;#x901F;&amp;#x6392;&amp;#x5E8F;&amp;#x7684;&amp;#x65F6;&amp;#x95F4;&amp;#x6027;&amp;#x80FD;&amp;#x53D6;&amp;#x51B3;&amp;#x4E8E;&amp;#x9012;&amp;#x5F52;&amp;#x7684;&amp;#x6DF1;&amp;#x5EA6;&amp;#xFF0C;&amp;#x6700;&amp;#x4F18;&amp;#x7684;&amp;#x60C5;&amp;#x51B5;&amp;#x662F;Partition&amp;#x6BCF;&amp;#x6B21;&amp;#x90FD;&amp;#x5212;&amp;#x5206;&amp;#x5F97;&amp;#x6BD4;&amp;#x8F83;&amp;#x5747;&amp;#x5300;&amp;#xFF0C;&amp;#x5982;&amp;#x679C;&amp;#x6392;&amp;#x5E8F;n&amp;#x4E2A;&amp;#x5173;&amp;#x952E;&amp;#x5B57;&amp;#xFF0C;&amp;#x5176;&amp;#x9012;&amp;#x5F52;&amp;#x6811;&amp;#x7684;&amp;#x6DF1;&amp;#x5EA6;&amp;#x4E3A;$\lfloor log_2n+1\rfloor$&amp;#xFF0C;&amp;#x5373;&amp;#x4EC5;&amp;#x9700;&amp;#x9012;&amp;#x5F52;&amp;#x6B21;$log_2n$&amp;#xFF0C;&amp;#x6BCF;&amp;#x6B21;&amp;#x9700;&amp;#x8981;&amp;#x904D;&amp;#x5386;&amp;#x6574;&amp;#x4E2A;&amp;#x5E8F;&amp;#x5217;&amp;#xFF0C;&amp;#x9700;&amp;#x8981;$O(n)$&amp;#x7684;&amp;#x65F6;&amp;#x95F4;&amp;#xFF0C;&amp;#x6240;&amp;#x4EE5;&amp;#x6574;&amp;#x4E2A;&amp;#x5FEB;&amp;#x901F;&amp;#x6392;&amp;#x5E8F;&amp;#x7B97;&amp;#x6CD5;&amp;#x5728;&amp;#x6700;&amp;#x4F18;&amp;#x7684;&amp;#x60C5;&amp;#x51B5;&amp;#x4E0B;&amp;#x65F6;&amp;#x95F4;&amp;#x590D;&amp;#x6742;&amp;#x5EA6;&amp;#x4E3A;$O(nlogn)$&amp;#x3002;&amp;#x6700;&amp;#x574F;&amp;#x7684;&amp;#x60C5;&amp;#x51B5;&amp;#x662F;&amp;#x4E00;&amp;#x9897;&amp;#x659C;&amp;#x6811;&amp;#xFF0C;&amp;#x5176;&amp;#x6DF1;&amp;#x5EA6;&amp;#x4E3A;n&amp;#xFF0C;&amp;#x6240;&amp;#x4EE5;&amp;#x6700;&amp;#x574F;&amp;#x7684;&amp;#x60C5;&amp;#x51B5;&amp;#x5176;&amp;#x65F6;&amp;#x95F4;&amp;#x590D;&amp;#x6742;&amp;#x5EA6;&amp;#x4E3A;$O(n^2)$&amp;#x3002;&amp;#x5E73;&amp;#x5747;&amp;#x7684;&amp;#x60C5;&amp;#x51B5;&amp;#x4E0B;&amp;#xFF0C;&amp;#x53EF;&amp;#x4EE5;&amp;#x8BC1;&amp;#x660E;&amp;#x5176;&amp;#x6570;&amp;#x91CF;&amp;#x7EA7;&amp;#x4E3A;$O(log_2n)$&amp;#x3002;&amp;#x7531;&amp;#x4E8E;&amp;#x5176;&amp;#x5173;&amp;#x952E;&amp;#x5B57;&amp;#x6BD4;&amp;#x8F83;&amp;#x548C;&amp;#x4EA4;&amp;#x6362;&amp;#x662F;&amp;#x8DF3;&amp;#x8DC3;&amp;#x5F0F;&amp;#x7684;&amp;#xFF0C;&amp;#x56E0;&amp;#x6B64;&amp;#x5FEB;&amp;#x901F;&amp;#x6392;&amp;#x5E8F;&amp;#x662F;&amp;#x4E00;&amp;#x79CD;&amp;#x4E0D;&amp;#x7A33;&amp;#x5B9A;&amp;#x7684;&amp;#x6392;&amp;#x5E8F;&amp;#x7B97;&amp;#x6CD5;&amp;#x3002;&lt;/p&gt;
</content>
    
    <summary type="html">
    
      &lt;!-- toc --&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;#&amp;#x7B80;&amp;#x4ECB;&quot;&gt;&amp;#x7B80;&amp;#x4ECB;&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;#&amp;#x4EE3;&amp;#x7801;&amp;#x5B9E;&amp;#x73B0;&quot;&gt;&amp;#x4EE3;&amp;#x7801;
    
    </summary>
    
      <category term="算法与数据结构" scheme="http://yoursite.com/categories/%E7%AE%97%E6%B3%95%E4%B8%8E%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/"/>
    
    
      <category term="算法与数据结构" scheme="http://yoursite.com/tags/%E7%AE%97%E6%B3%95%E4%B8%8E%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/"/>
    
  </entry>
  
  <entry>
    <title>Retrofit2组件分析</title>
    <link href="http://yoursite.com/2018/11/19/retrofit2/"/>
    <id>http://yoursite.com/2018/11/19/retrofit2/</id>
    <published>2018-11-19T01:48:30.000Z</published>
    <updated>2018-11-19T01:55:41.658Z</updated>
    
    <content type="html">&lt;!-- toc --&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;#1-&amp;#x7B80;&amp;#x4ECB;&quot;&gt;1. &amp;#x7B80;&amp;#x4ECB;&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;#2-&amp;#x5173;&amp;#x952E;&amp;#x5206;&amp;#x6790;&quot;&gt;2. &amp;#x5173;&amp;#x952E;&amp;#x5206;&amp;#x6790;&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;#3-&amp;#x4E00;&amp;#x4E9B;&amp;#x7EC6;&amp;#x8282;&quot;&gt;3. &amp;#x4E00;&amp;#x4E9B;&amp;#x7EC6;&amp;#x8282;&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;!-- tocstop --&gt;
&lt;h2 id=&quot;1-&amp;#x7B80;&amp;#x4ECB;&quot;&gt;&lt;a href=&quot;#1-&amp;#x7B80;&amp;#x4ECB;&quot; class=&quot;headerlink&quot; title=&quot;1. &amp;#x7B80;&amp;#x4ECB;&quot;&gt;&lt;/a&gt;1. &amp;#x7B80;&amp;#x4ECB;&lt;/h2&gt;&lt;p&gt;Retrofit2&amp;#x662F;&amp;#x7531;Square&amp;#x516C;&amp;#x53F8;&amp;#x5F00;&amp;#x6E90;&amp;#x7684;HTTP&amp;#x7F51;&amp;#x7EDC;&amp;#x8BF7;&amp;#x6C42;&amp;#x6846;&amp;#x67B6;&amp;#x7684;&amp;#x5C01;&amp;#x88C5;&amp;#xFF0C;&amp;#x6700;&amp;#x8FD1;&amp;#x9605;&amp;#x8BFB;v2.4.0&amp;#x6E90;&amp;#x7801;&amp;#xFF0C;&amp;#x5728;&amp;#x6B64;&amp;#x8BB0;&amp;#x5F55;&amp;#x4E00;&amp;#x4E0B;&amp;#x3002;&lt;br&gt;&amp;#x5B98;&amp;#x65B9;&amp;#x4F7F;&amp;#x7528;&amp;#x7684;Demo&amp;#xFF1A;&lt;br&gt;&lt;figure class=&quot;highlight java&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;12&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;13&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;14&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;class&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;interface&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;GitHubService&lt;/span&gt; &lt;/span&gt;{&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  &lt;span class=&quot;meta&quot;&gt;@GET&lt;/span&gt;(&lt;span class=&quot;string&quot;&gt;&amp;quot;users/{user}/repos&amp;quot;&lt;/span&gt;)&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  Call&amp;lt;List&amp;lt;Repo&amp;gt;&amp;gt; listRepos(&lt;span class=&quot;meta&quot;&gt;@Path&lt;/span&gt;(&lt;span class=&quot;string&quot;&gt;&amp;quot;user&amp;quot;&lt;/span&gt;) String user);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;}&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;Retrofit retrofit = &lt;span class=&quot;keyword&quot;&gt;new&lt;/span&gt; Retrofit.Builder()&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    .baseUrl(&lt;span class=&quot;string&quot;&gt;&amp;quot;https://api.github.com/&amp;quot;&lt;/span&gt;)&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    .build();&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;GitHubService service = retrofit.create(GitHubService.class);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;Call&amp;lt;List&amp;lt;Repo&amp;gt;&amp;gt; repos = service.listRepos(&lt;span class=&quot;string&quot;&gt;&amp;quot;octocat&amp;quot;&lt;/span&gt;);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;// SYNCHRONOUS&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;repos.execute()&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;//  ASYNCHRONOUS&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;repos.enqueue(...)&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;a id=&quot;more&quot;&gt;&lt;/a&gt;
&lt;h2 id=&quot;2-&amp;#x5173;&amp;#x952E;&amp;#x5206;&amp;#x6790;&quot;&gt;&lt;a href=&quot;#2-&amp;#x5173;&amp;#x952E;&amp;#x5206;&amp;#x6790;&quot; class=&quot;headerlink&quot; title=&quot;2. &amp;#x5173;&amp;#x952E;&amp;#x5206;&amp;#x6790;&quot;&gt;&lt;/a&gt;2. &amp;#x5173;&amp;#x952E;&amp;#x5206;&amp;#x6790;&lt;/h2&gt;&lt;p&gt;&amp;#x5173;&amp;#x952E;&amp;#x4EE3;&amp;#x7801;&amp;#x662F;&lt;code&gt;Retrofit#create(final Class&amp;lt;T&amp;gt; service)&lt;/code&gt;&amp;#xFF0C;&amp;#x6838;&amp;#x5FC3;&amp;#x5C31;&amp;#x662F;&amp;#x901A;&amp;#x8FC7;&amp;#x52A8;&amp;#x6001;&amp;#x4EE3;&amp;#x7406;&amp;#x628A;&amp;#x5BA2;&amp;#x6237;&amp;#x7AEF;&amp;#x5B9A;&amp;#x4E49;&amp;#x7684;interface&amp;#x6784;&amp;#x5EFA;&amp;#x51FA;&lt;code&gt;HttpServiceMethod&lt;/code&gt;&amp;#x5BF9;&amp;#x8C61;&amp;#xFF0C;&amp;#x91CD;&amp;#x8981;&amp;#x7684;&amp;#x6210;&amp;#x5458;&amp;#x53D8;&amp;#x91CF;&amp;#x6709;:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;callFactory : okhttp.Call.Factory&lt;/code&gt;  &amp;#x8D1F;&amp;#x8D23;&amp;#x5E95;&amp;#x5C42;HTTP&amp;#x7F51;&amp;#x7EDC;&amp;#x8BF7;&amp;#x6C42;&amp;#xFF0C;&amp;#x9ED8;&amp;#x8BA4;&amp;#x662F;OkHttp&amp;#x7EC4;&amp;#x4EF6;&lt;/li&gt;
&lt;li&gt;&lt;code&gt;requestFactory : RequestFactory&lt;/code&gt;  &amp;#x89E3;&amp;#x6790;&amp;#x5404;&amp;#x79CD;&amp;#x6CE8;&amp;#x89E3;&amp;#x751F;&amp;#x6210;HTTP Request&amp;#x7684;&amp;#x53C2;&amp;#x6570;&lt;/li&gt;
&lt;li&gt;&lt;code&gt;callAdapter : CallAdapter&amp;lt;ResponseT, ReturnT&amp;gt;&lt;/code&gt; &amp;#x7528;&amp;#x4E8E;&amp;#x628A;&lt;code&gt;ResponseT``&amp;#x8F6C;&amp;#x5316;&amp;#x6210;``ReturnT&lt;/code&gt;&amp;#xFF0C;&lt;code&gt;CallAdapter.Factory&lt;/code&gt;&amp;#x662F;&amp;#x5176;&amp;#x5DE5;&amp;#x5382;&amp;#x7C7B;&amp;#x3002;Retrofit&amp;#x9ED8;&amp;#x8BA4;&amp;#x5B9E;&amp;#x73B0;&amp;#x53EF;&amp;#x67E5;&amp;#x770B;&lt;code&gt;ExecutorCallAdapterFactory&lt;/code&gt;&amp;#x7C7B;&amp;#xFF0C;&amp;#x5982;&amp;#x679C;interface&amp;#x51FD;&amp;#x6570;&amp;#x8FD4;&amp;#x56DE;&lt;code&gt;Call&amp;lt;?&amp;gt;&lt;/code&gt;&amp;#x65F6;&amp;#xFF0C;&amp;#x9ED8;&amp;#x8BA4;&amp;#x4F7F;&amp;#x7528;&amp;#x8BE5;Adapter&amp;#xFF0C;&amp;#x5B9E;&amp;#x73B0;&amp;#x4E86;&lt;code&gt;OkHttpCall&lt;/code&gt;&amp;#x5230;&lt;code&gt;ExecutorCallbackCall&lt;/code&gt;&amp;#x7684;&amp;#x8F6C;&amp;#x5316;&amp;#xFF0C;&amp;#x524D;&amp;#x8005;&amp;#x8868;&amp;#x793A;&amp;#x5E95;&amp;#x5C42;&amp;#x5177;&amp;#x4F53;HTTP&amp;#x8BF7;&amp;#x6C42;&amp;#xFF0C;&amp;#x540E;&amp;#x8005;&amp;#x7528;&amp;#x4E8E;&amp;#x628A;&amp;#x56DE;&amp;#x8C03;&amp;#x4ECE;&amp;#x975E;&amp;#x4E3B;&amp;#x7EBF;&amp;#x7A0B;&amp;#x5207;&amp;#x6362;&amp;#x5230;&amp;#x4E3B;&amp;#x7EBF;&amp;#x7A0B;&amp;#xFF0C;&amp;#x6240;&amp;#x4EE5;&amp;#x5F02;&amp;#x6B65;&amp;#x8BF7;&amp;#x6C42;&amp;#x7684;&amp;#x56DE;&amp;#x8C03;&amp;#x90FD;&amp;#x662F;&amp;#x5728;&amp;#x4E3B;&amp;#x7EBF;&amp;#x7A0B;&amp;#x4E2D;&amp;#x3002;&lt;/li&gt;
&lt;li&gt;&lt;code&gt;responseConverter : Converter&amp;lt;ResponseBody, ResponseT&amp;gt;&lt;/code&gt; &amp;#x7528;&amp;#x4E8E;HTTP&amp;#x8BF7;&amp;#x6C42;&amp;#x8FD4;&amp;#x56DE;&amp;#x7684;ResponseBody&amp;#x8F6C;&amp;#x5316;&amp;#x6210;ResponseT&amp;#x5BF9;&amp;#x8C61;&amp;#xFF0C;&amp;#x901A;&amp;#x5E38;&amp;#x4F7F;&amp;#x7528;gson&amp;#x4F20;&amp;#x8F93;&amp;#x6570;&amp;#x636E;&amp;#xFF0C;&amp;#x6240;&amp;#x4EE5;&amp;#x63D0;&amp;#x4F9B;&lt;code&gt;GsonResponseBodyConverter&lt;/code&gt;&amp;#x3002;&amp;#x7CFB;&amp;#x7EDF;&amp;#x540C;&amp;#x6837;&amp;#x63D0;&amp;#x4F9B;&amp;#x5DE5;&amp;#x5382;&amp;#x7C7B;&lt;code&gt;Converter.Factory&lt;/code&gt;:&lt;/li&gt;
&lt;/ul&gt;
&lt;figure class=&quot;highlight java&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;12&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;13&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;14&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;15&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;16&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;17&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;18&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;19&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;20&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;abstract&lt;/span&gt; &lt;span class=&quot;class&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;Factory&lt;/span&gt; &lt;/span&gt;{&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;   &lt;span class=&quot;comment&quot;&gt;/**&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;    * &amp;#x7528;&amp;#x4E8E;ResponseBody =&amp;gt; type&amp;#x7C7B;&amp;#x578B;(&amp;#x6BD4;&amp;#x5982;&amp;#x4F7F;&amp;#x7528;Gson&amp;#x8FDB;&amp;#x884C;&amp;#x89E3;&amp;#x6790;)&amp;#xFF0C;&amp;#x5982;&amp;#x679C;&amp;#x8FD4;&amp;#x56DE;null&amp;#x5219;&amp;#x8868;&amp;#x793A;Factory&amp;#x4E0D;&amp;#x652F;&amp;#x6301;&amp;#x8BE5;type&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;    */&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;   &lt;span class=&quot;keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;meta&quot;&gt;@Nullable&lt;/span&gt; Converter&amp;lt;ResponseBody, ?&amp;gt; responseBodyConverter(Type type,&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;       Annotation[] annotations, Retrofit retrofit) {...}&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;   &lt;span class=&quot;comment&quot;&gt;/**&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;    * HTTP Request&amp;#x751F;&amp;#x6210;&amp;#x65F6;&amp;#xFF0C;type&amp;#x7C7B;&amp;#x578B; =&amp;gt; RequestBody&amp;#xFF0C;&amp;#x5982;&amp;#x679C;&amp;#x8FD4;&amp;#x56DE;null&amp;#x8868;&amp;#x793A;Factory&amp;#x4E0D;&amp;#x652F;&amp;#x6301;&amp;#x8BE5;type&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;    * &amp;#x7528;&amp;#x4E8E;&amp;#x4F7F;&amp;#x7528;&lt;span class=&quot;doctag&quot;&gt;@Body&lt;/span&gt;/&lt;span class=&quot;doctag&quot;&gt;@Part&lt;/span&gt;/&lt;span class=&quot;doctag&quot;&gt;@PartMap&lt;/span&gt;&amp;#x6CE8;&amp;#x89E3;&amp;#x7684;&amp;#x53C2;&amp;#x6570;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;    */&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;   &lt;span class=&quot;keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;meta&quot;&gt;@Nullable&lt;/span&gt; Converter&amp;lt;?, RequestBody&amp;gt; requestBodyConverter(Type type,&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;       Annotation[] parameterAnnotations, Annotation[] methodAnnotations, Retrofit retrofit) {...}&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;   &lt;span class=&quot;comment&quot;&gt;/**&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;    * HTTP Request&amp;#x751F;&amp;#x6210;&amp;#x65F6;&amp;#xFF0C;type&amp;#x7C7B;&amp;#x578B; =&amp;gt; RequestBody&amp;#xFF0C;&amp;#x5982;&amp;#x679C;&amp;#x8FD4;&amp;#x56DE;null&amp;#x8868;&amp;#x793A;Factory&amp;#x4E0D;&amp;#x652F;&amp;#x6301;&amp;#x8BE5;type&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;    * &amp;#x7528;&amp;#x4E8E;&amp;#x4F7F;&amp;#x7528;&lt;span class=&quot;doctag&quot;&gt;@Field&lt;/span&gt;/&lt;span class=&quot;doctag&quot;&gt;@FieldMap&lt;/span&gt;/&lt;span class=&quot;doctag&quot;&gt;@Header&lt;/span&gt;/&lt;span class=&quot;doctag&quot;&gt;@HeaderMap&lt;/span&gt;/&lt;span class=&quot;doctag&quot;&gt;@Path&lt;/span&gt;/&lt;span class=&quot;doctag&quot;&gt;@Query&lt;/span&gt;/&lt;span class=&quot;doctag&quot;&gt;@QueryMap&lt;/span&gt;&amp;#x6CE8;&amp;#x89E3;&amp;#x7684;&amp;#x53C2;&amp;#x6570;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;    */&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;   &lt;span class=&quot;keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;meta&quot;&gt;@Nullable&lt;/span&gt; Converter&amp;lt;?, String&amp;gt; stringConverter(Type type, Annotation[] annotations,&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;       Retrofit retrofit) {...}&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;&amp;#x5177;&amp;#x4F53;&amp;#x53C2;&amp;#x8003;Retrofit&amp;#x9ED8;&amp;#x8BA4;&amp;#x5B9E;&amp;#x73B0;&lt;code&gt;BuiltInConverters&lt;/code&gt;&amp;#x3002;Demo&amp;#x4E2D;&lt;code&gt;Call&amp;lt;List&amp;lt;Repo&amp;gt;&amp;gt;#execute()&lt;/code&gt;&amp;#x53EF;&amp;#x6839;&amp;#x636E;&lt;code&gt;ExecutorCallbackCall#execute() -&amp;gt; OkHttpCall#execute()&lt;/code&gt;&amp;#x7684;&amp;#x6D41;&amp;#x7A0B;&amp;#x67E5;&amp;#x770B;&amp;#x6E90;&amp;#x7801;&amp;#x3002;&lt;/p&gt;
&lt;h2 id=&quot;3-&amp;#x4E00;&amp;#x4E9B;&amp;#x7EC6;&amp;#x8282;&quot;&gt;&lt;a href=&quot;#3-&amp;#x4E00;&amp;#x4E9B;&amp;#x7EC6;&amp;#x8282;&quot; class=&quot;headerlink&quot; title=&quot;3. &amp;#x4E00;&amp;#x4E9B;&amp;#x7EC6;&amp;#x8282;&quot;&gt;&lt;/a&gt;3. &amp;#x4E00;&amp;#x4E9B;&amp;#x7EC6;&amp;#x8282;&lt;/h2&gt;&lt;ul&gt;
&lt;li&gt;URL&amp;#x62FC;&amp;#x63A5;&lt;br&gt;&lt;code&gt;Retrofit.Builder#baseUrl()&lt;/code&gt;&amp;#x53EF;&amp;#x4EE5;&amp;#x6307;&amp;#x5B9A;Base URL&amp;#xFF0C;&amp;#x5176;&amp;#x5FC5;&amp;#x987B;&amp;#x4EE5;&amp;#x201D;/&amp;#x201C;&amp;#x7ED3;&amp;#x5C3E;&amp;#xFF1B;&amp;#x901A;&amp;#x8FC7;&lt;code&gt;@GET(xxx)/@Url xxx&lt;/code&gt;&amp;#x7B49;&amp;#x53EF;&amp;#x4EE5;&amp;#x6307;&amp;#x5B9A;Endpoint(&lt;code&gt;@Url&lt;/code&gt;&amp;#x4F18;&amp;#x5148;&amp;#x7EA7;&amp;#x9AD8;&amp;#x4E8E;&lt;code&gt;@Get(xxx)&lt;/code&gt;)&amp;#xFF0C;&amp;#x4E24;&amp;#x8005;&amp;#x62FC;&amp;#x63A5;&amp;#x5F62;&amp;#x6210;&amp;#x8BF7;&amp;#x6C42;&amp;#x7684;URL&amp;#xFF0C;&amp;#x5171;&amp;#x6709;&amp;#x4EE5;&amp;#x4E0B;&amp;#x51E0;&amp;#x79CD;&amp;#x60C5;&amp;#x51B5;:&lt;/li&gt;
&lt;/ul&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th style=&quot;text-align:left&quot;&gt;Base URL&lt;/th&gt;
&lt;th style=&quot;text-align:left&quot;&gt;Endpoint&lt;/th&gt;
&lt;th style=&quot;text-align:left&quot;&gt;Result&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td style=&quot;text-align:left&quot;&gt;&lt;code&gt;http://example.com/api/&lt;/code&gt;&lt;/td&gt;
&lt;td style=&quot;text-align:left&quot;&gt;&lt;code&gt;foo/bar&lt;/code&gt;(&amp;#x76F8;&amp;#x5BF9;&amp;#x8DEF;&amp;#x5F84;)&lt;/td&gt;
&lt;td style=&quot;text-align:left&quot;&gt;&lt;code&gt;http://example.com/api/foo/bar/&lt;/code&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&quot;text-align:left&quot;&gt;&lt;code&gt;http://example.com/api/&lt;/code&gt;&lt;/td&gt;
&lt;td style=&quot;text-align:left&quot;&gt;&lt;code&gt;/foo/bar&lt;/code&gt;&amp;#xFF08;&amp;#x7EDD;&amp;#x5BF9;&amp;#x8DEF;&amp;#x5F84;&amp;#xFF09;&lt;/td&gt;
&lt;td style=&quot;text-align:left&quot;&gt;&lt;code&gt;http://example.com/foo/bar/&lt;/code&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&quot;text-align:left&quot;&gt;&lt;code&gt;http://example.com/api/&lt;/code&gt;&lt;/td&gt;
&lt;td style=&quot;text-align:left&quot;&gt;&lt;code&gt;https://foo.com/bar&lt;/code&gt;(&amp;#x5B8C;&amp;#x6574;URL)&lt;/td&gt;
&lt;td style=&quot;text-align:left&quot;&gt;&lt;code&gt;https://foo.com/bar&lt;/code&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&quot;text-align:left&quot;&gt;&lt;code&gt;http://example.com/api/&lt;/code&gt;&lt;/td&gt;
&lt;td style=&quot;text-align:left&quot;&gt;&lt;code&gt;//foo.com/bar&lt;/code&gt;(&amp;#x65E0;scheme)&lt;/td&gt;
&lt;td style=&quot;text-align:left&quot;&gt;&lt;code&gt;http://foo.com/bar&lt;/code&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;ul&gt;
&lt;li&gt;HTTP&amp;#x6CE8;&amp;#x89E3;&lt;/li&gt;
&lt;/ul&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th style=&quot;text-align:left&quot;&gt;Annotation&lt;/th&gt;
&lt;th style=&quot;text-align:left&quot;&gt;&amp;#x8BF4;&amp;#x660E;&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td style=&quot;text-align:left&quot;&gt;&lt;code&gt;@GET/@PUT/@POST/@PATCH/@DELETE/@HEAD/@OPTION&lt;/code&gt;&lt;/td&gt;
&lt;td style=&quot;text-align:left&quot;&gt;&amp;#x4F5C;&amp;#x7528;&amp;#x4E8E;&amp;#x51FD;&amp;#x6570;&amp;#xFF0C;&amp;#x8868;&amp;#x793A;7&amp;#x79CD;HTTP&amp;#x8BF7;&amp;#x6C42;&amp;#x7C7B;&amp;#x578B;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&quot;text-align:left&quot;&gt;&lt;code&gt;@HTTP&lt;/code&gt;&lt;/td&gt;
&lt;td style=&quot;text-align:left&quot;&gt;&amp;#x4F5C;&amp;#x7528;&amp;#x4E8E;&amp;#x51FD;&amp;#x6570;&amp;#xFF0C;&amp;#x81EA;&amp;#x5B9A;&amp;#x4E49;HTTP&amp;#x8BF7;&amp;#x6C42;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&quot;text-align:left&quot;&gt;&lt;code&gt;@FormUrlEncoded&lt;/code&gt;&lt;/td&gt;
&lt;td style=&quot;text-align:left&quot;&gt;&amp;#x4F5C;&amp;#x7528;&amp;#x4E8E;&amp;#x51FD;&amp;#x6570;&amp;#xFF0C;&amp;#x6807;&amp;#x660E;request&amp;#x4F7F;&amp;#x7528;url encode,Content-Type&amp;#x4E3A;application/x-www-form-urlencoded&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&quot;text-align:left&quot;&gt;&lt;code&gt;@Field/@FieldMap&lt;/code&gt;&lt;/td&gt;
&lt;td style=&quot;text-align:left&quot;&gt;&amp;#x4F5C;&amp;#x7528;&amp;#x4E8E;&amp;#x51FD;&amp;#x6570;&amp;#x53C2;&amp;#x6570;&amp;#xFF0C;&amp;#x914D;&amp;#x5408;&lt;code&gt;@FormUrlEncoded&lt;/code&gt;&amp;#x4F7F;&amp;#x7528;&amp;#xFF0C;&amp;#x8868;&amp;#x793A;Named pair&amp;#x3002;&amp;#x9ED8;&amp;#x8BA4;&amp;#x4F7F;&amp;#x7528;Url encode&amp;#x7F16;&amp;#x7801;&amp;#xFF0C;&amp;#x901A;&amp;#x8FC7;&lt;code&gt;encoded=true&lt;/code&gt;&amp;#x53EF;&amp;#x5173;&amp;#x95ED;&amp;#x3002;&lt;code&gt;@Field&lt;/code&gt;&amp;#x652F;&amp;#x6301;&amp;#x53D8;&amp;#x957F;&amp;#x53C2;&amp;#x6570;&amp;#xFF0C;&amp;#x6BD4;&amp;#x5982;&lt;code&gt;@Field(&amp;quot;name&amp;quot;) String... names&lt;/code&gt; &amp;#x8F6C;&amp;#x5316;&amp;#x4E3A; &lt;code&gt;name=para0&amp;amp;name=para1...&lt;/code&gt;&amp;#x3002;&amp;#x6CE8;&amp;#x610F;null&amp;#x503C;&amp;#x4F1A;&amp;#x88AB;&amp;#x5FFD;&amp;#x7565;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&quot;text-align:left&quot;&gt;&lt;code&gt;@Headers/@Header/@HeaderMap&lt;/code&gt;&lt;/td&gt;
&lt;td style=&quot;text-align:left&quot;&gt;&amp;#x7528;&amp;#x4E8E;request&amp;#x589E;&amp;#x52A0;Header&amp;#x53C2;&amp;#x6570;&amp;#xFF0C;&amp;#x5176;&amp;#x4E2D;&lt;code&gt;@Headers&lt;/code&gt;&amp;#x7528;&amp;#x4E8E;&amp;#x51FD;&amp;#x6570;&amp;#xFF0C;&amp;#x5176;&amp;#x4ED6;&amp;#x4E24;&amp;#x4E2A;&amp;#x7528;&amp;#x4E8E;&amp;#x51FD;&amp;#x6570;&amp;#x53C2;&amp;#x6570;&amp;#x3002;&amp;#x6CE8;&amp;#x610F;&amp;#x76F8;&amp;#x540C;Header&amp;#x4E0D;&amp;#x4F1A;override&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&quot;text-align:left&quot;&gt;&lt;code&gt;@Query/@queryMap/@QueryName&lt;/code&gt;&lt;/td&gt;
&lt;td style=&quot;text-align:left&quot;&gt;&amp;#x4F5C;&amp;#x7528;&amp;#x4E8E;&amp;#x51FD;&amp;#x6570;&amp;#x53C2;&amp;#x6570;&amp;#xFF0C;&amp;#x8868;&amp;#x793A;query parameter&amp;#x3002;&amp;#x9ED8;&amp;#x8BA4;&amp;#x4F7F;&amp;#x7528;Url encode&amp;#x7F16;&amp;#x7801;&amp;#xFF0C;&amp;#x901A;&amp;#x8FC7;&lt;code&gt;encoded=true&lt;/code&gt;&amp;#x53EF;&amp;#x5173;&amp;#x95ED;&amp;#x3002;&lt;code&gt;@QueryName&lt;/code&gt;&amp;#x7528;&amp;#x4E8E;&amp;#x6CA1;&amp;#x6709;value&amp;#x7684;&amp;#x60C5;&amp;#x51B5;&amp;#xFF0C;&lt;code&gt;@Query/@QueryName&lt;/code&gt;&amp;#x652F;&amp;#x6301;&amp;#x53D8;&amp;#x957F;&amp;#x53C2;&amp;#x6570;&amp;#xFF0C;null&amp;#x503C;&amp;#x540C;&amp;#x6837;&amp;#x4F1A;&amp;#x88AB;&amp;#x5FFD;&amp;#x7565;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&quot;text-align:left&quot;&gt;&lt;code&gt;@Body&lt;/code&gt;&lt;/td&gt;
&lt;td style=&quot;text-align:left&quot;&gt;&amp;#x4F5C;&amp;#x7528;&amp;#x4E8E;&amp;#x51FD;&amp;#x6570;&amp;#x53C2;&amp;#x6570;&amp;#xFF0C;&amp;#x7528;&amp;#x9014;&amp;#x662F;PUST/PUT&amp;#x8BF7;&amp;#x6C42;&amp;#x65F6;&amp;#x4E0D;&amp;#x4F7F;&amp;#x7528;form&amp;#x8868;&amp;#x5355;&amp;#xFF0C;&amp;#x76F4;&amp;#x63A5;&amp;#x63A7;&amp;#x5236;request body&amp;#xFF0C;&amp;#x9700;&amp;#x8981;&amp;#x6709;&amp;#x5BF9;&amp;#x5E94;&amp;#x7684;converter&amp;#x7C7B;&amp;#x914D;&amp;#x5408;&amp;#xFF0C;&amp;#x9ED8;&amp;#x8BA4;&amp;#x662F;&amp;#x652F;&amp;#x6301;okhttp &lt;code&gt;RequestBody&lt;/code&gt;&amp;#x7C7B;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&quot;text-align:left&quot;&gt;&lt;code&gt;@Path&lt;/code&gt;&lt;/td&gt;
&lt;td style=&quot;text-align:left&quot;&gt;URL Path&amp;#x5360;&amp;#x4F4D;&amp;#x7B26;&amp;#x53C2;&amp;#x6570;&amp;#xFF0C;&amp;#x6BD4;&amp;#x5982;&lt;br&gt;&lt;code&gt;@GET(&amp;quot;/image/{id}&amp;quot;) Call&amp;lt;ResponseBody&amp;gt; example(@Path(&amp;quot;id&amp;quot;) int id);&lt;/code&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&quot;text-align:left&quot;&gt;&lt;code&gt;@Url&lt;/code&gt;&lt;/td&gt;
&lt;td style=&quot;text-align:left&quot;&gt;&amp;#x4F5C;&amp;#x7528;&amp;#x4E8E;&amp;#x51FD;&amp;#x6570;&amp;#x53C2;&amp;#x6570;&amp;#xFF0C;&amp;#x53EF;&amp;#x52A8;&amp;#x6001;&amp;#x4FEE;&amp;#x6539;base URL&amp;#xFF0C;&amp;#x4F18;&amp;#x5148;&amp;#x7EA7;&amp;#x6700;&amp;#x9AD8;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&quot;text-align:left&quot;&gt;&lt;code&gt;@Streaming&lt;/code&gt;&lt;/td&gt;
&lt;td style=&quot;text-align:left&quot;&gt;&amp;#x4F5C;&amp;#x7528;&amp;#x4E8E;&amp;#x51FD;&amp;#x6570;&amp;#xFF0C;Retofit&amp;#x9ED8;&amp;#x8BA4;&amp;#x4F1A;&amp;#x628A;reponse body&amp;#x653E;&amp;#x4E8E;&amp;#x5185;&amp;#x5B58;&amp;#x4E2D;&amp;#xFF0C;&amp;#x4F7F;&amp;#x7528;&lt;code&gt;@Streaming&lt;/code&gt;&amp;#x53EF;&amp;#x4EE5;&amp;#x76F4;&amp;#x63A5;&amp;#x8FD4;&amp;#x56DE;&amp;#x5E95;&amp;#x5C42;okhttp.ResponseBody&amp;#x5BF9;&amp;#x8C61;&amp;#xFF0C;&amp;#x6CE8;&amp;#x610F;&amp;#x9700;&amp;#x8981;&amp;#x624B;&amp;#x52A8;&amp;#x63A7;&amp;#x5236;close&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&quot;text-align:left&quot;&gt;&lt;code&gt;@Multipart&lt;/code&gt;&lt;/td&gt;
&lt;td style=&quot;text-align:left&quot;&gt;&amp;#x4F5C;&amp;#x7528;&amp;#x4E8E;&amp;#x51FD;&amp;#x6570;&amp;#xFF0C;&amp;#x6807;&amp;#x660E;request body&amp;#x662F;multi-part&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&quot;text-align:left&quot;&gt;&lt;code&gt;@Part/@PartMap&lt;/code&gt;&lt;/td&gt;
&lt;td style=&quot;text-align:left&quot;&gt;&amp;#x4F5C;&amp;#x7528;&amp;#x4E8E;&amp;#x51FD;&amp;#x6570;&amp;#x53C2;&amp;#x6570;&amp;#xFF0C;&amp;#x901A;&amp;#x8FC7;value&amp;#x8BBE;&amp;#x7F6E;&amp;#x6BCF;&amp;#x4E2A;part&amp;#x7684;name&amp;#xFF0C;encode&amp;#x8BBE;&amp;#x7F6E;&amp;#x6BCF;&amp;#x4E2A;part&amp;#x7684;Content-Transfer-Encoding&amp;#x3002;&amp;#x9ED8;&amp;#x8BA4;&amp;#x652F;&amp;#x6301;&amp;#x53C2;&amp;#x6570;&amp;#x7C7B;&amp;#x578B;MultipartBody.Part&amp;#x548C;RequestBody&amp;#xFF0C;&amp;#x5176;&amp;#x4ED6;&amp;#x7C7B;&amp;#x578B;&amp;#x9700;&amp;#x8981;converter&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;&amp;#x5982;&amp;#x679C;&amp;#x4E0D;&amp;#x5173;&amp;#x5FC3;&amp;#x7F51;&amp;#x7EDC;&amp;#x8BF7;&amp;#x6C42;&amp;#x8FD4;&amp;#x56DE;&amp;#x7684;&amp;#x6570;&amp;#x636E;&amp;#xFF0C;&amp;#x53EF;&amp;#x4F7F;&amp;#x7528;&lt;code&gt;Call&amp;lt;Void&amp;gt;/Call&amp;lt;Unit&amp;gt;&lt;/code&gt;&amp;#x3002;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;&amp;#x6574;&amp;#x4F53;Retrofit2&amp;#x53EF;&amp;#x6269;&amp;#x5C55;&amp;#x6027;&amp;#x975E;&amp;#x5E38;&amp;#x597D;&amp;#xFF0C;&amp;#x5404;&amp;#x79CD;&amp;#x53C2;&amp;#x6570;&amp;#x7684;&amp;#x8F6C;&amp;#x5316;/&amp;#x8FD4;&amp;#x56DE;&amp;#x6570;&amp;#x636E;&amp;#x7684;&amp;#x89E3;&amp;#x6790;&amp;#x901A;&amp;#x8FC7;&lt;code&gt;Converter.Factory/Converter&lt;/code&gt;&amp;#x63A5;&amp;#x53E3;&amp;#x5B9E;&amp;#x73B0;&amp;#xFF0C;&amp;#x53C2;&amp;#x8003;&lt;code&gt;com.squareup.retrofit2:converter-gson&lt;/code&gt;&amp;#x5BF9;Gson&amp;#x7684;&amp;#x652F;&amp;#x6301;&amp;#x3002;&amp;#x5982;&amp;#x679C;&amp;#x5BF9;&amp;#x8FD4;&amp;#x56DE;&amp;#x6570;&amp;#x636E;&amp;#x7684;&amp;#x627F;&amp;#x8F7D;&amp;#x7C7B;&amp;#x578B;&amp;#x6709;&amp;#x6240;&amp;#x8981;&amp;#x6C42;&amp;#xFF0C;&amp;#x53EF;&amp;#x5B9E;&amp;#x73B0;&lt;code&gt;CallAdapter.Factory/CallAdapter&lt;/code&gt;&amp;#x63A5;&amp;#x53E3;&amp;#xFF0C;&amp;#x6BD4;&amp;#x5982;&amp;#x7F51;&amp;#x7EDC;&amp;#x8BF7;&amp;#x6C42;&amp;#x8FD4;&amp;#x56DE;&amp;#x4E00;&amp;#x4E2A;LiveData&amp;#x5BF9;&amp;#x8C61;&amp;#xFF0C;&amp;#x4ECE;google sample&amp;#x622A;&amp;#x53D6;&amp;#x5982;&amp;#x4E0B;(&amp;#x53EF;&amp;#x7528;&amp;#x4E8E;&amp;#x81EA;&amp;#x5DF1;&amp;#x5DE5;&amp;#x7A0B;&amp;#x4E2D;)&amp;#xFF1A;&lt;/p&gt;
&lt;figure class=&quot;highlight java&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;12&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;13&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;14&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;15&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;16&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;17&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;18&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;19&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;20&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;21&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;22&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;23&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;24&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;25&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;26&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;27&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;28&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;29&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;30&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;31&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;32&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;33&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;34&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;35&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;36&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;37&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;38&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;39&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;40&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;41&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;42&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;43&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;44&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;45&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;46&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;47&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;class LiveDataCallAdapterFactory : Factory() {&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;function&quot;&gt;override fun &lt;span class=&quot;title&quot;&gt;get&lt;/span&gt;&lt;span class=&quot;params&quot;&gt;(&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;params&quot;&gt;        returnType: Type,&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;params&quot;&gt;        annotations: Array&amp;lt;Annotation&amp;gt;,&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;params&quot;&gt;        retrofit: Retrofit&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;params&quot;&gt;    )&lt;/span&gt;: CallAdapter&amp;lt;*, *&amp;gt;? &lt;/span&gt;{&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &lt;span class=&quot;keyword&quot;&gt;if&lt;/span&gt; (Factory.getRawType(returnType) != LiveData::&lt;span class=&quot;class&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;class&lt;/span&gt;.&lt;span class=&quot;title&quot;&gt;java&lt;/span&gt;) &lt;/span&gt;{&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;            &lt;span class=&quot;keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;null&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        }&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        val observableType = Factory.getParameterUpperBound(&lt;span class=&quot;number&quot;&gt;0&lt;/span&gt;, returnType as ParameterizedType)&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        val rawObservableType = Factory.getRawType(observableType)&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &lt;span class=&quot;keyword&quot;&gt;if&lt;/span&gt; (rawObservableType != ApiResponse::&lt;span class=&quot;class&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;class&lt;/span&gt;.&lt;span class=&quot;title&quot;&gt;java&lt;/span&gt;) &lt;/span&gt;{   &lt;span class=&quot;comment&quot;&gt;// &amp;#x7F51;&amp;#x7EDC;&amp;#x8FD4;&amp;#x56DE;&amp;#x6570;&amp;#x636E;&amp;#x89E3;&amp;#x6790;&amp;#x4E3A;ApiResponse&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;            &lt;span class=&quot;keyword&quot;&gt;throw&lt;/span&gt; IllegalArgumentException(&lt;span class=&quot;string&quot;&gt;&amp;quot;type must be a resource&amp;quot;&lt;/span&gt;)&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        }&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &lt;span class=&quot;keyword&quot;&gt;if&lt;/span&gt; (observableType !is ParameterizedType) {&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;            &lt;span class=&quot;keyword&quot;&gt;throw&lt;/span&gt; IllegalArgumentException(&lt;span class=&quot;string&quot;&gt;&amp;quot;resource must be parameterized&amp;quot;&lt;/span&gt;)&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        }&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        val bodyType = Factory.getParameterUpperBound(&lt;span class=&quot;number&quot;&gt;0&lt;/span&gt;, observableType)&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &lt;span class=&quot;keyword&quot;&gt;return&lt;/span&gt; LiveDataCallAdapter&amp;lt;Any&amp;gt;(bodyType)&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    }&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;}&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;class LiveDataCallAdapter&amp;lt;R&amp;gt;(private val responseType: Type) :&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    CallAdapter&amp;lt;R, LiveData&amp;lt;ApiResponse&amp;lt;R&amp;gt;&amp;gt;&amp;gt; {&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;function&quot;&gt;override fun &lt;span class=&quot;title&quot;&gt;responseType&lt;/span&gt;&lt;span class=&quot;params&quot;&gt;()&lt;/span&gt; &lt;/span&gt;= responseType&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;function&quot;&gt;override fun &lt;span class=&quot;title&quot;&gt;adapt&lt;/span&gt;&lt;span class=&quot;params&quot;&gt;(call: Call&amp;lt;R&amp;gt;)&lt;/span&gt;: LiveData&amp;lt;ApiResponse&amp;lt;R&amp;gt;&amp;gt; &lt;/span&gt;{&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &lt;span class=&quot;keyword&quot;&gt;return&lt;/span&gt; object : LiveData&amp;lt;ApiResponse&amp;lt;R&amp;gt;&amp;gt;() {&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;            &lt;span class=&quot;keyword&quot;&gt;private&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;var&lt;/span&gt; started = AtomicBoolean(&lt;span class=&quot;keyword&quot;&gt;false&lt;/span&gt;)&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;            &lt;span class=&quot;function&quot;&gt;override fun &lt;span class=&quot;title&quot;&gt;onActive&lt;/span&gt;&lt;span class=&quot;params&quot;&gt;()&lt;/span&gt; &lt;/span&gt;{&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;                &lt;span class=&quot;keyword&quot;&gt;super&lt;/span&gt;.onActive()&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;                &lt;span class=&quot;keyword&quot;&gt;if&lt;/span&gt; (started.compareAndSet(&lt;span class=&quot;keyword&quot;&gt;false&lt;/span&gt;, &lt;span class=&quot;keyword&quot;&gt;true&lt;/span&gt;)) {&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;                    call.enqueue(object : Callback&amp;lt;R&amp;gt; {&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;                        &lt;span class=&quot;function&quot;&gt;override fun &lt;span class=&quot;title&quot;&gt;onResponse&lt;/span&gt;&lt;span class=&quot;params&quot;&gt;(call: Call&amp;lt;R&amp;gt;, response: Response&amp;lt;R&amp;gt;)&lt;/span&gt; &lt;/span&gt;{&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;                            postValue(ApiResponse.create(response))&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;                        }&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;                        &lt;span class=&quot;function&quot;&gt;override fun &lt;span class=&quot;title&quot;&gt;onFailure&lt;/span&gt;&lt;span class=&quot;params&quot;&gt;(call: Call&amp;lt;R&amp;gt;, throwable: Throwable)&lt;/span&gt; &lt;/span&gt;{&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;                            postValue(ApiResponse.create(throwable))&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;                        }&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;                    })&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;                }&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;            }&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        }&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    }&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;}&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/li&gt;
&lt;/ul&gt;
</content>
    
    <summary type="html">
    
      &lt;!-- toc --&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;#1-简介&quot;&gt;1. 简介&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;#2-关键分析&quot;&gt;2. 关键分析&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;#3-一些细节&quot;&gt;3. 一些细节&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;!-- tocstop --&gt;
&lt;h2 id=&quot;1-简介&quot;&gt;&lt;a href=&quot;#1-简介&quot; class=&quot;headerlink&quot; title=&quot;1. 简介&quot;&gt;&lt;/a&gt;1. 简介&lt;/h2&gt;&lt;p&gt;Retrofit2是由Square公司开源的HTTP网络请求框架的封装，最近阅读v2.4.0源码，在此记录一下。&lt;br&gt;官方使用的Demo：&lt;br&gt;&lt;figure class=&quot;highlight java&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;12&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;13&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;14&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;class&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;interface&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;GitHubService&lt;/span&gt; &lt;/span&gt;&amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  &lt;span class=&quot;meta&quot;&gt;@GET&lt;/span&gt;(&lt;span class=&quot;string&quot;&gt;&quot;users/&amp;#123;user&amp;#125;/repos&quot;&lt;/span&gt;)&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  Call&amp;lt;List&amp;lt;Repo&amp;gt;&amp;gt; listRepos(&lt;span class=&quot;meta&quot;&gt;@Path&lt;/span&gt;(&lt;span class=&quot;string&quot;&gt;&quot;user&quot;&lt;/span&gt;) String user);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;Retrofit retrofit = &lt;span class=&quot;keyword&quot;&gt;new&lt;/span&gt; Retrofit.Builder()&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    .baseUrl(&lt;span class=&quot;string&quot;&gt;&quot;https://api.github.com/&quot;&lt;/span&gt;)&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    .build();&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;GitHubService service = retrofit.create(GitHubService.class);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;Call&amp;lt;List&amp;lt;Repo&amp;gt;&amp;gt; repos = service.listRepos(&lt;span class=&quot;string&quot;&gt;&quot;octocat&quot;&lt;/span&gt;);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;// SYNCHRONOUS&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;repos.execute()&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;//  ASYNCHRONOUS&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;repos.enqueue(...)&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
    
    </summary>
    
      <category term="Android学习笔记" scheme="http://yoursite.com/categories/Android%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/"/>
    
    
      <category term="Android" scheme="http://yoursite.com/tags/Android/"/>
    
  </entry>
  
  <entry>
    <title>okhttp组件学习</title>
    <link href="http://yoursite.com/2018/10/29/okhttp/"/>
    <id>http://yoursite.com/2018/10/29/okhttp/</id>
    <published>2018-10-29T07:34:43.000Z</published>
    <updated>2018-10-29T07:58:49.721Z</updated>
    
    <content type="html">&lt;!-- toc --&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;#&amp;#x7B80;&amp;#x4ECB;&quot;&gt;&amp;#x7B80;&amp;#x4ECB;&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;#&amp;#x7F51;&amp;#x7EDC;&amp;#x8BF7;&amp;#x6C42;&amp;#x961F;&amp;#x5217;-dispatcher&quot;&gt;&amp;#x7F51;&amp;#x7EDC;&amp;#x8BF7;&amp;#x6C42;&amp;#x961F;&amp;#x5217; Dispatcher&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;#socket&amp;#x8FDE;&amp;#x63A5;&amp;#x6C60;-connectionpool&quot;&gt;Socket&amp;#x8FDE;&amp;#x63A5;&amp;#x6C60; ConnectionPool&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;#&amp;#x7F13;&amp;#x5B58;&amp;#x7BA1;&amp;#x7406;&quot;&gt;&amp;#x7F13;&amp;#x5B58;&amp;#x7BA1;&amp;#x7406;&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;#https&quot;&gt;HTTPS&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;!-- tocstop --&gt;
&lt;h2 id=&quot;&amp;#x7B80;&amp;#x4ECB;&quot;&gt;&lt;a href=&quot;#&amp;#x7B80;&amp;#x4ECB;&quot; class=&quot;headerlink&quot; title=&quot;&amp;#x7B80;&amp;#x4ECB;&quot;&gt;&lt;/a&gt;&amp;#x7B80;&amp;#x4ECB;&lt;/h2&gt;&lt;p&gt;OkHttp&amp;#x662F;&amp;#x4E00;&amp;#x4E2A;HTTP&amp;#x5BA2;&amp;#x6237;&amp;#x7AEF;&amp;#x7EC4;&amp;#x4EF6;,&amp;#x8981;&amp;#x6C42;Android2.3&amp;#x4EE5;&amp;#x4E0A;&amp;#x6216;&amp;#x8005;JDK1.7&amp;#x4EE5;&amp;#x4E0A;,&amp;#x6700;&amp;#x8FD1;&amp;#x91CD;&amp;#x65B0;&amp;#x8BFB;&amp;#x5176;&amp;#x6E90;&amp;#x7801;,&amp;#x5BF9;&amp;#x611F;&amp;#x5174;&amp;#x8DA3;&amp;#x7684;&amp;#x90E8;&amp;#x5206;&amp;#x8BB0;&amp;#x5F55;&amp;#x4E00;&amp;#x4E0B;.&lt;/p&gt;
&lt;h2 id=&quot;&amp;#x7F51;&amp;#x7EDC;&amp;#x8BF7;&amp;#x6C42;&amp;#x961F;&amp;#x5217;-dispatcher&quot;&gt;&lt;a href=&quot;#&amp;#x7F51;&amp;#x7EDC;&amp;#x8BF7;&amp;#x6C42;&amp;#x961F;&amp;#x5217;-Dispatcher&quot; class=&quot;headerlink&quot; title=&quot;&amp;#x7F51;&amp;#x7EDC;&amp;#x8BF7;&amp;#x6C42;&amp;#x961F;&amp;#x5217; Dispatcher&quot;&gt;&lt;/a&gt;&amp;#x7F51;&amp;#x7EDC;&amp;#x8BF7;&amp;#x6C42;&amp;#x961F;&amp;#x5217; Dispatcher&lt;/h2&gt;&lt;ul&gt;
&lt;li&gt;&lt;p&gt;&lt;code&gt;Call#execute()&lt;/code&gt;&amp;#x540C;&amp;#x6B65;&amp;#x8BF7;&amp;#x6C42;&amp;#x524D;&amp;#x4F1A;&amp;#x8FDB;&amp;#x5165;&lt;code&gt;Dispacher#runningSyncCalls&lt;/code&gt;&amp;#x961F;&amp;#x5217;,&amp;#x5B8C;&amp;#x6210;&amp;#x540E;remove&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;&lt;code&gt;Call#enqueue()&lt;/code&gt;&amp;#x5F02;&amp;#x6B65;&amp;#x8BF7;&amp;#x6C42;&amp;#x4F1A;&amp;#x8FDB;&amp;#x5165;&lt;code&gt;Dispatchder#runningAsyncCalls&lt;/code&gt;&amp;#x961F;&amp;#x5217;,&amp;#x8FD9;&amp;#x91CC;&amp;#x6709;&amp;#x9650;&amp;#x5236;&amp;#x6761;&amp;#x4EF6;&amp;#xFF1A;&lt;code&gt;maxRequests&amp;lt;=64 &amp;amp;&amp;amp; maxRequestsPerHost&amp;lt;=5&lt;/code&gt;,&amp;#x4E0D;&amp;#x6EE1;&amp;#x8DB3;&amp;#x5219;&amp;#x653E;&amp;#x5165;&lt;code&gt;Dispatcher#readyAsyncCalls&lt;/code&gt;,&amp;#x8FD9;&amp;#x4E9B;&amp;#x503C;&amp;#x53EF;&amp;#x901A;&amp;#x8FC7;&lt;code&gt;#setMaxRequests()&lt;/code&gt;&amp;#x548C;&lt;code&gt;#setMaxRequestsPerHost()&lt;/code&gt;&amp;#x8BBE;&amp;#x7F6E;. &lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;&amp;#x5F02;&amp;#x6B65;&amp;#x6267;&amp;#x884C;&amp;#x7684;&amp;#x7EBF;&amp;#x7A0B;&amp;#x6C60;&amp;#x9ED8;&amp;#x8BA4;&amp;#x8BBE;&amp;#x7F6E;&amp;#x4E3A;: &lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th style=&quot;text-align:left&quot;&gt;CorePoolSize&lt;/th&gt;
&lt;th style=&quot;text-align:left&quot;&gt;MaximumPoolSize&lt;/th&gt;
&lt;th style=&quot;text-align:left&quot;&gt;KeepAliveTime&lt;/th&gt;
&lt;th style=&quot;text-align:left&quot;&gt;WorkQueue&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td style=&quot;text-align:left&quot;&gt;0&lt;/td&gt;
&lt;td style=&quot;text-align:left&quot;&gt;Integer.MAX_VALUE&lt;/td&gt;
&lt;td style=&quot;text-align:left&quot;&gt;60s&lt;/td&gt;
&lt;td style=&quot;text-align:left&quot;&gt;SynchronousQueue&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;Dispatcher#setIdleCallback()&lt;/code&gt;&amp;#x7528;&amp;#x4E8E;&amp;#x8BBE;&amp;#x7F6E;&amp;#x5728;&amp;#x540C;&amp;#x6B65;&amp;#x8BF7;&amp;#x6C42;&amp;#x961F;&amp;#x5217;&amp;#x548C;&amp;#x5F02;&amp;#x6B65;&amp;#x8BF7;&amp;#x6C42;&amp;#x961F;&amp;#x5217;&amp;#x5747;&amp;#x4E3A;&amp;#x7A7A;&amp;#x65F6;&amp;#x6267;&amp;#x884C;&amp;#x4E00;&amp;#x6B21;callback&lt;/li&gt;
&lt;/ul&gt;
&lt;a id=&quot;more&quot;&gt;&lt;/a&gt;
&lt;h2 id=&quot;socket&amp;#x8FDE;&amp;#x63A5;&amp;#x6C60;-connectionpool&quot;&gt;&lt;a href=&quot;#Socket&amp;#x8FDE;&amp;#x63A5;&amp;#x6C60;-ConnectionPool&quot; class=&quot;headerlink&quot; title=&quot;Socket&amp;#x8FDE;&amp;#x63A5;&amp;#x6C60; ConnectionPool&quot;&gt;&lt;/a&gt;Socket&amp;#x8FDE;&amp;#x63A5;&amp;#x6C60; ConnectionPool&lt;/h2&gt;&lt;p&gt;HTTP&amp;#x548C;HTTP/2&amp;#x8BF7;&amp;#x6C42;&amp;#x76F8;&amp;#x540C;&amp;#x5730;&amp;#x5740;&amp;#x65F6;&amp;#x4F1A;&amp;#x5171;&amp;#x4EAB;&amp;#x4E00;&amp;#x4E2A;Connection.&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;&lt;code&gt;ConnectionPool#maxIdleConnections&lt;/code&gt;&amp;#x7528;&amp;#x4E8E;&amp;#x6807;&amp;#x8BC6;&amp;#x8FDE;&amp;#x63A5;&amp;#x6C60;&amp;#x4E2D;&amp;#x6700;&amp;#x591A;&amp;#x53EF;&amp;#x7A7A;&amp;#x95F2;&amp;#x7684;&amp;#x8FDE;&amp;#x63A5;&amp;#x6570;,&amp;#x9ED8;&amp;#x8BA4;&amp;#x662F;5&lt;/p&gt;
&lt;p&gt;&lt;code&gt;ConnectionPool#keepAliveDurationNs&lt;/code&gt;&amp;#x6807;&amp;#x8BC6;&amp;#x8FDE;&amp;#x63A5;&amp;#x53EF;&amp;#x7A7A;&amp;#x95F2;&amp;#x7684;&amp;#x6700;&amp;#x5927;&amp;#x65F6;&amp;#x95F4;,&amp;#x9ED8;&amp;#x8BA4;&amp;#x662F;5min&lt;/p&gt;
&lt;p&gt;&amp;#x901A;&amp;#x8FC7;&lt;code&gt;ConnectionPool#cleanupRunnable&lt;/code&gt;&amp;#x5BF9;&amp;#x8FC7;&amp;#x671F;&amp;#x8FDE;&amp;#x63A5;&amp;#x8FDB;&amp;#x884C;remove&amp;#x64CD;&amp;#x4F5C;.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h2 id=&quot;&amp;#x7F13;&amp;#x5B58;&amp;#x7BA1;&amp;#x7406;&quot;&gt;&lt;a href=&quot;#&amp;#x7F13;&amp;#x5B58;&amp;#x7BA1;&amp;#x7406;&quot; class=&quot;headerlink&quot; title=&quot;&amp;#x7F13;&amp;#x5B58;&amp;#x7BA1;&amp;#x7406;&quot;&gt;&lt;/a&gt;&amp;#x7F13;&amp;#x5B58;&amp;#x7BA1;&amp;#x7406;&lt;/h2&gt;&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;&lt;code&gt;CacheInterceptor&lt;/code&gt;&lt;/strong&gt; &lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&amp;#x7528;&amp;#x4E8E;request&amp;#x7F13;&amp;#x5B58;&amp;#x5B9E;&amp;#x73B0;,&amp;#x5176;&amp;#x4E2D;&amp;#x5BF9;request&amp;#x83B7;&amp;#x53D6;&amp;#x7F13;&amp;#x5B58;response&amp;#x662F;&amp;#x901A;&amp;#x8FC7;&lt;code&gt;CacheStrategy&lt;/code&gt;&amp;#x5B9E;&amp;#x73B0;&amp;#x7684;,&amp;#x53D1;&amp;#x9001;request&amp;#x65F6;&amp;#x53EF;&amp;#x901A;&amp;#x8FC7;&amp;#x8BBE;&amp;#x7F6E;&lt;code&gt;CacheControl&lt;/code&gt;(&amp;#x4E5F;&amp;#x5C31;&amp;#x662F;&amp;#x5934;&amp;#x90E8;Cache-Control&amp;#x5B57;&amp;#x6BB5;)&amp;#x5B9E;&amp;#x73B0;&amp;#x7F13;&amp;#x5B58;&amp;#x63A7;&amp;#x5236;,&amp;#x5176;&amp;#x4E2D;&amp;#x5185;&amp;#x7F6E;&amp;#x4E24;&amp;#x79CD;&amp;#x7B56;&amp;#x7565;:&lt;/p&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th style=&quot;text-align:left&quot;&gt;&lt;code&gt;FORCE_NETWORK&lt;/code&gt;&lt;/th&gt;
&lt;th style=&quot;text-align:left&quot;&gt;&lt;code&gt;FORCE_CACHE&lt;/code&gt;&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td style=&quot;text-align:left&quot;&gt;&amp;#x5F3A;&amp;#x5236;&amp;#x7F51;&amp;#x7EDC;&amp;#x8BF7;&amp;#x6C42;&lt;/td&gt;
&lt;td style=&quot;text-align:left&quot;&gt;&amp;#x5F3A;&amp;#x5236;&amp;#x4EC5;&amp;#x4F7F;&amp;#x7528;&amp;#x7F13;&amp;#x5B58;&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;&amp;#x5224;&amp;#x65AD;&amp;#x7F13;&amp;#x5B58;&amp;#x7684;response&amp;#x662F;&amp;#x5426;&amp;#x53EF;&amp;#x7528;&lt;/strong&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;1.&amp;#x5982;&amp;#x679C;request Header&amp;#x548C;response Header&amp;#x5B58;&amp;#x5728;&lt;code&gt;Cache-Control:no-store&lt;/code&gt;&amp;#x5219;&amp;#x4E0D;&amp;#x4F7F;&amp;#x7528;&amp;#x7F13;&amp;#x5B58;(&amp;#x5982;&amp;#x679C;response HTTP Code&amp;#x4E3A;302/307&amp;#x65F6;,&amp;#x8FD8;&amp;#x9700;&amp;#x5224;&amp;#x65AD;Header&amp;#x662F;&amp;#x5426;&amp;#x5B58;&amp;#x5728;&lt;code&gt;Expires&lt;/code&gt;&amp;#x6216;&amp;#x8005;Cache-Control&amp;#x503C;&amp;#x662F;&amp;#x4E0D;&amp;#x662F;&lt;code&gt;max-age/public/private&lt;/code&gt;)&lt;/p&gt;
&lt;p&gt;2.&amp;#x5982;&amp;#x679C;request Header&amp;#x5B58;&amp;#x5728;&lt;code&gt;If-Modified-Since&lt;/code&gt;&amp;#x6216;&lt;code&gt;If-None-Match&lt;/code&gt;&amp;#x5219;&amp;#x9700;&amp;#x8981;&amp;#x8FDB;&amp;#x884C;Conditional Request&lt;/p&gt;
&lt;p&gt;3.&amp;#x5982;&amp;#x679C;response Header&amp;#x5B58;&amp;#x5728;&lt;code&gt;Cache-control: immutable&lt;/code&gt;&amp;#x5219;&amp;#x4F7F;&amp;#x7528;&amp;#x7F13;&amp;#x5B58;&lt;/p&gt;
&lt;p&gt;4.&amp;#x6839;&amp;#x636E;Refreshness&amp;#x5224;&amp;#x65AD;&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;a.&amp;#x6839;&amp;#x636E;RFC7234-4.2.3&amp;#x8BA1;&amp;#x7B97;response&amp;#x7684;current_age&lt;/p&gt;
&lt;p&gt;b.&amp;#x8BA1;&amp;#x7B97;response&amp;#x7684;freshness_time. &amp;#x8BA1;&amp;#x7B97;&amp;#x8BE5;&amp;#x503C;&amp;#x6240;&amp;#x4F7F;&amp;#x7528;&amp;#x5B57;&amp;#x6BB5;&amp;#x7684;&amp;#x4F18;&amp;#x5148;&amp;#x7EA7;&amp;#x4E3A;&lt;code&gt;Cache-Control:max-age &amp;gt; Date &amp;gt; Last-Modified&lt;/code&gt;; &amp;#x5982;&amp;#x679C;request&amp;#x8BBE;&amp;#x7F6E;&amp;#x4E86;&lt;code&gt;Cache-Control:max-age&lt;/code&gt;&amp;#x5219;freshness_time&amp;#x53D6;&amp;#x4E0A;&amp;#x8FF0;&amp;#x4E24;&amp;#x4E2A;&amp;#x503C;&amp;#x7684;&amp;#x6700;&amp;#x5C0F;&amp;#x503C;&lt;/p&gt;
&lt;p&gt;c.request&amp;#x7684;&lt;code&gt;Cache-Control:min-fresh&lt;/code&gt;&amp;#x503C;min_fresh_value(&amp;#x65E0;&amp;#x5219;&amp;#x4E3A;0)&lt;/p&gt;
&lt;p&gt;d.&amp;#x5982;&amp;#x679C;response&amp;#x6CA1;&amp;#x6709;&amp;#x8BBE;&amp;#x7F6E;&lt;code&gt;Cache-control: must-revalidate&lt;/code&gt;&amp;#x5219;&amp;#x53D6;request&lt;code&gt;Cache-Control: max-stale&lt;/code&gt;&amp;#x503C;max_stale_value(&amp;#x65E0;&amp;#x5219;&amp;#x4E3A;0)&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;&amp;#x5982;&amp;#x679C;&amp;#x6EE1;&amp;#x8DB3;&lt;code&gt;current_age + min_fresh_value &amp;lt; freshness_time + max_stale_value&lt;/code&gt;&amp;#x5219;&amp;#x76F4;&amp;#x63A5;&amp;#x4F7F;&amp;#x7528;&amp;#x7F13;&amp;#x5B58;&lt;/p&gt;
&lt;p&gt;5.&amp;#x4E0A;&amp;#x8FF0;&amp;#x6761;&amp;#x4EF6;&amp;#x4E0D;&amp;#x6EE1;&amp;#x8DB3;&amp;#x5219;&amp;#x53D1;&amp;#x9001;Condition request. Header condition&amp;#x53D6;&amp;#x503C;&amp;#x7684;&amp;#x4F18;&amp;#x5148;&amp;#x7EA7;&amp;#x4E3A;:&lt;code&gt;If-None-Match:&amp;lt;Etag-Value&amp;gt;&lt;/code&gt; &amp;gt; &lt;code&gt;If-Modified-Since:&amp;lt;Last-Modified-Value&amp;gt;&lt;/code&gt; &amp;gt; &lt;code&gt;If-Modified-Since:Date-Value&amp;gt;&lt;/code&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;Cache&amp;#x672C;&amp;#x5730;&amp;#x5B58;&amp;#x50A8;&lt;/strong&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&amp;#x672C;&amp;#x5730;Cache&amp;#x7684;&amp;#x5E95;&amp;#x5C42;&amp;#x5B9E;&amp;#x73B0;&amp;#x662F;&lt;code&gt;DiskLruCache&lt;/code&gt;,&amp;#x5305;&amp;#x62EC;&amp;#x4E00;&amp;#x4E2A;&amp;#x65E5;&amp;#x5FD7;&amp;#x6587;&amp;#x4EF6;(journal)&amp;#x548C;&amp;#x82E5;&amp;#x5E72;&amp;#x5B58;&amp;#x50A8;&amp;#x6587;&amp;#x4EF6;&amp;#x7EC4;&amp;#x6210;.&amp;#x65E5;&amp;#x5FD7;&amp;#x6587;&amp;#x4EF6;&amp;#x7684;&amp;#x903B;&amp;#x8F91;&amp;#x7ED3;&amp;#x6784;&amp;#x5982;&amp;#x4E0B;:&lt;br&gt;&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;12&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;13&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;libcore.io.DiskLruCache     // &amp;quot;magic number&amp;quot;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;1                           // cache version &lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;201105                      // application version&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2                           // value count&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;                            // &amp;#x7A7A;&amp;#x884C;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;CLEAN 3400330d1dfc7f3f7f4b8d4d803dfcf6 832 21054&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;DIRTY 335c4c6028171cfddfbaae1a9c313c52&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;CLEAN 335c4c6028171cfddfbaae1a9c313c52 3934 2342&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;REMOVE 335c4c6028171cfddfbaae1a9c313c52&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;DIRTY 1ab96a171faeeee38496d8b330771a7a&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;CLEAN 1ab96a171faeeee38496d8b330771a7a 1600 234&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;READ 335c4c6028171cfddfbaae1a9c313c52&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;READ 3400330d1dfc7f3f7f4b8d4d803dfcf6&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;&amp;#x6BCF;&amp;#x4E00;&amp;#x884C;&amp;#x65E5;&amp;#x5FD7;&amp;#x8BB0;&amp;#x5F55;&amp;#x7531;&amp;#x4E09;&amp;#x90E8;&amp;#x5206;&amp;#x7EC4;&amp;#x6210;:&lt;/p&gt;
&lt;p&gt;1.&lt;strong&gt;State&lt;/strong&gt;&lt;/p&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th style=&quot;text-align:left&quot;&gt;state&lt;/th&gt;
&lt;th style=&quot;text-align:left&quot;&gt;description&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td style=&quot;text-align:left&quot;&gt;DIRTY&lt;/td&gt;
&lt;td style=&quot;text-align:left&quot;&gt;&amp;#x7F13;&amp;#x5B58;&amp;#x6587;&amp;#x4EF6;&amp;#x5F00;&amp;#x59CB;&amp;#x88AB;&amp;#x7F16;&amp;#x8F91;&amp;#x7684;&amp;#x72B6;&amp;#x6001;(create/update)&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&quot;text-align:left&quot;&gt;CLEAN&lt;/td&gt;
&lt;td style=&quot;text-align:left&quot;&gt;&amp;#x7F13;&amp;#x5B58;&amp;#x6587;&amp;#x4EF6;&amp;#x66F4;&amp;#x65B0;&amp;#x5B8C;&amp;#x6210;&amp;#x7684;&amp;#x72B6;&amp;#x6001;(commit)&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&quot;text-align:left&quot;&gt;READ&lt;/td&gt;
&lt;td style=&quot;text-align:left&quot;&gt;&amp;#x8BFB;&amp;#x53D6;&amp;#x7F13;&amp;#x5B58;&amp;#x6587;&amp;#x4EF6;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&quot;text-align:left&quot;&gt;REMOVE&lt;/td&gt;
&lt;td style=&quot;text-align:left&quot;&gt;&amp;#x79FB;&amp;#x9664;&amp;#x8BE5;&amp;#x7F13;&amp;#x5B58;&amp;#x6587;&amp;#x4EF6;&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;p&gt;&amp;#x6587;&amp;#x4EF6;&amp;#x64CD;&amp;#x4F5C;&amp;#x91C7;&amp;#x7528;&amp;#x4E8B;&amp;#x52A1;&amp;#x5904;&amp;#x7406;&amp;#x65B9;&amp;#x5F0F;,&amp;#x5373;&amp;#x4FEE;&amp;#x6539;&amp;#x6587;&amp;#x4EF6;&amp;#x524D;&amp;#x5148;&amp;#x5199;&amp;#x5165;&amp;#x4E00;&amp;#x4E2A;&amp;#x540C;&amp;#x540D;tmp&amp;#x6587;&amp;#x4EF6;,&amp;#x5F53;&amp;#x6240;&amp;#x6709;&amp;#x5185;&amp;#x5BB9;&amp;#x5199;&amp;#x5B8C;&amp;#x540E;&amp;#x5C06;tmp &amp;#x6587;&amp;#x4EF6;&amp;#x7684;&amp;#x6269;&amp;#x5C55;&amp;#x540D;&amp;#x53BB;&amp;#x6389;&amp;#x4EE5;&amp;#x8986;&amp;#x76D6;&amp;#x539F;&amp;#x6709;&amp;#x6587;&amp;#x4EF6;.&amp;#x6240;&amp;#x4EE5;&amp;#x901A;&amp;#x5E38;DIRTY&amp;#x540E;&amp;#x4F1A;&amp;#x8DDF;&amp;#x7740;CLEAN/REMOVE,&amp;#x5982;&amp;#x679C;&amp;#x4E0D;&amp;#x5B58;&amp;#x5728;,&amp;#x5219;&amp;#x8868;&amp;#x660E;&amp;#x8FD9;&amp;#x662F;&amp;#x4E00;&amp;#x6761;&amp;#x65E0;&amp;#x6548;&amp;#x8BB0;&amp;#x5F55;.&lt;/p&gt;
&lt;p&gt;2.&lt;strong&gt;Key&lt;/strong&gt;:  OKHttp&amp;#x4F7F;&amp;#x7528;url&amp;#x7684;md5&amp;#x503C;&lt;/p&gt;
&lt;p&gt;3.&lt;strong&gt;optional state-specific values&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;OkHttp&amp;#x8BBE;&amp;#x7F6E;value count&amp;#x4E3A;2(&amp;#x5BF9;&amp;#x5E94;&amp;#x7B2C;&amp;#x56DB;&amp;#x884C;),&amp;#x6240;&amp;#x4EE5;&amp;#x662F;&amp;#x4E24;&amp;#x4E2A;&amp;#x503C;. &amp;#x8BE5;&amp;#x503C;&amp;#x8868;&amp;#x793A;&amp;#x7F13;&amp;#x5B58;&amp;#x7684;&amp;#x6587;&amp;#x4EF6;&amp;#x5927;&amp;#x5C0F;(&amp;#x5355;&amp;#x4F4D;:byte).&amp;#x4E24;&amp;#x4E2A;&amp;#x7F13;&amp;#x5B58;&amp;#x7684;&amp;#x6587;&amp;#x4EF6;&amp;#x540D;&amp;#x548C;&amp;#x5185;&amp;#x5BB9;:&lt;/p&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th style=&quot;text-align:left&quot;&gt;&amp;#x6587;&amp;#x4EF6;&amp;#x540D;&lt;/th&gt;
&lt;th style=&quot;text-align:left&quot;&gt;&amp;#x5185;&amp;#x5BB9;&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td style=&quot;text-align:left&quot;&gt;&lt;code&gt;&amp;lt;Key_value&amp;gt;.0&lt;/code&gt;&lt;/td&gt;
&lt;td style=&quot;text-align:left&quot;&gt;&amp;#x5305;&amp;#x62EC;request/response Header&amp;#x7B49;&amp;#x7684;METADATA&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&quot;text-align:left&quot;&gt;&lt;code&gt;&amp;lt;Key_value&amp;gt;.1&lt;/code&gt;&lt;/td&gt;
&lt;td style=&quot;text-align:left&quot;&gt;response body&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;p&gt;Cache&amp;#x521D;&amp;#x59CB;&amp;#x5316;&amp;#x65F6;&amp;#x8BFB;&amp;#x53D6;&amp;#x65E5;&amp;#x5FD7;&amp;#x6587;&amp;#x4EF6;,&amp;#x4F7F;&amp;#x7528;LinkedHashMap&amp;#x5728;&amp;#x5185;&amp;#x5B58;&amp;#x4E2D;&amp;#x751F;&amp;#x6210;&amp;#x7F13;&amp;#x5B58;&amp;#x6587;&amp;#x4EF6;&amp;#x7684;&amp;#x7D22;&amp;#x5F15;,&amp;#x5176;&amp;#x4E2D;Key&amp;#x662F;url&amp;#x7684;md5&amp;#x503C;,Value&amp;#x662F;&amp;#x4FDD;&amp;#x5B58;&amp;#x7F13;&amp;#x5B58;&amp;#x6587;&amp;#x4EF6;File&amp;#x7684;Entry&amp;#x5BF9;&amp;#x8C61;.&lt;br&gt;LinkedHashMap&amp;#x521D;&amp;#x59CB;&amp;#x5316;&amp;#x65F6;&amp;#x8BBE;&amp;#x7F6E;accessOrder&amp;#x4E3A;true,&amp;#x5F53;&amp;#x7F13;&amp;#x5B58;&amp;#x6587;&amp;#x4EF6;&amp;#x8D85;&amp;#x8FC7;&amp;#x5BA2;&amp;#x6237;&amp;#x7AEF;&amp;#x8BBE;&amp;#x7F6E;&amp;#x7684;&amp;#x6700;&amp;#x5927;&amp;#x503C;&amp;#x65F6;,&amp;#x53EA;&amp;#x9700;&amp;#x8981;remove&amp;#x5934;&amp;#x90E8;&amp;#x5BF9;&amp;#x8C61;&amp;#x5C31;&amp;#x5B9E;&amp;#x73B0;&amp;#x4E86;LRU&amp;#x7B97;&amp;#x6CD5;.&lt;br&gt;&amp;#x540C;&amp;#x65F6;,&amp;#x5F53;&amp;#x65E5;&amp;#x5FD7;&amp;#x6587;&amp;#x4EF6;&amp;#x8BB0;&amp;#x5F55;&amp;#x6761;&amp;#x6570;&amp;#x5927;&amp;#x4E8E;&amp;#x9608;&amp;#x503C;(2000)&amp;#x5E76;&amp;#x4E14;&amp;#x8BB0;&amp;#x5F55;&amp;#x6761;&amp;#x6570;&amp;#x5927;&amp;#x4E8E;LinkedHashMap&amp;#x7684;size&amp;#x65F6;&amp;#x9700;&amp;#x8981;&amp;#x8FDB;&amp;#x884C;&amp;#x91CD;&amp;#x5EFA;,&amp;#x5176;&amp;#x903B;&amp;#x8F91;&amp;#x662F;&amp;#x904D;&amp;#x5386;LinkedHashMap,&amp;#x6839;&amp;#x636E;&amp;#x5176;&amp;#x662F;&amp;#x5426;&amp;#x6B63;&amp;#x5728;&amp;#x7F16;&amp;#x8F91;&amp;#x6765;&amp;#x5199;&amp;#x5165;DIRTY&amp;#x6216;CLEAN&amp;#x8BB0;&amp;#x5F55;.&lt;br&gt;&lt;/p&gt;
&lt;p&gt;&amp;#x53E6;&amp;#x5916;,&lt;code&gt;DiskLruCache#get()&lt;/code&gt;&amp;#x8FD4;&amp;#x56DE;&amp;#x4E00;&amp;#x4E2A;&lt;code&gt;DiskLruCache#Snapshot&lt;/code&gt;&amp;#x5BF9;&amp;#x8C61;,&amp;#x8868;&amp;#x793A;&amp;#x7F13;&amp;#x5B58;Entry&amp;#x7684;&amp;#x67D0;&amp;#x4E00;&amp;#x7248;&amp;#x672C;,&amp;#x7531;Entry&amp;#x6210;&amp;#x5458;&amp;#x53D8;&amp;#x91CF;sequenceNumber&amp;#x8868;&amp;#x793A;.&amp;#x4FEE;&amp;#x6539;&amp;#x6570;&amp;#x636E;&amp;#x65F6;&amp;#x4F1A;&amp;#x6BD4;&amp;#x8F83;&lt;code&gt;Snapshot#sequenceNumber&lt;/code&gt;&amp;#x4E0E;&amp;#x5BF9;&amp;#x5E94;&amp;#x7684;&lt;code&gt;Entry#sequenceNumber&lt;/code&gt;,&amp;#x5982;&amp;#x679C;&amp;#x4E0D;&amp;#x76F8;&amp;#x7B49;&amp;#x5219;&amp;#x8BF4;&amp;#x660E;&amp;#x7F13;&amp;#x5B58;&amp;#x7248;&amp;#x672C;&amp;#x5DF2;&amp;#x5931;&amp;#x6548;,&amp;#x65E0;&amp;#x6CD5;&amp;#x8FDB;&amp;#x884C;&amp;#x7F16;&amp;#x8F91;.&lt;/p&gt;
&lt;h2 id=&quot;https&quot;&gt;&lt;a href=&quot;#HTTPS&quot; class=&quot;headerlink&quot; title=&quot;HTTPS&quot;&gt;&lt;/a&gt;HTTPS&lt;/h2&gt;&lt;p&gt;1.&amp;#x901A;&amp;#x8FC7;&lt;code&gt;ConnectionSpec&lt;/code&gt;&amp;#x53EF;&amp;#x4EE5;&amp;#x6307;&amp;#x5B9A;tls&amp;#x7248;&amp;#x672C;&amp;#x53F7;&amp;#x548C;&amp;#x652F;&amp;#x6301;&amp;#x7684;cipher suites,&amp;#x5F53;&amp;#x524D;&amp;#x7248;&amp;#x672C;&amp;#x914D;&amp;#x7F6E;&amp;#x53C2;&amp;#x8003;&lt;code&gt;ConnectionSpec#MODERN_TLS&lt;/code&gt;,&amp;#x5176;&amp;#x4E2D;&amp;#x9ED8;&amp;#x8BA4;&amp;#x5141;&amp;#x8BB8;tls1.0~tls1.3,&amp;#x800C;&amp;#x4E14;&amp;#x5141;&amp;#x8BB8;&amp;#x534F;&amp;#x5546;&amp;#x5931;&amp;#x8D25;&amp;#x65F6;&amp;#x5C1D;&amp;#x8BD5;&amp;#x660E;&amp;#x6587;&amp;#x4F20;&amp;#x8F93;.&lt;/p&gt;
&lt;p&gt;2.&amp;#x63D0;&amp;#x4F9B;&lt;code&gt;Certificate Pinning&lt;/code&gt;&amp;#x80FD;&amp;#x529B;,&amp;#x7B80;&amp;#x5355;&amp;#x7684;&amp;#x8BF4;&amp;#x5C31;&amp;#x662F;&amp;#x5BF9;&amp;#x670D;&amp;#x52A1;&amp;#x7AEF;&amp;#x63D0;&amp;#x4F9B;&amp;#x8BC1;&amp;#x4E66;&amp;#x7684;&amp;#x516C;&amp;#x94A5;&amp;#x8FDB;&amp;#x884C;&amp;#x6821;&amp;#x9A8C;,&amp;#x5B98;&amp;#x65B9;Demo&amp;#x5982;&amp;#x4E0B;:&lt;br&gt;&lt;figure class=&quot;highlight java&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;CertificatePinning&lt;/span&gt;&lt;span class=&quot;params&quot;&gt;()&lt;/span&gt; &lt;/span&gt;{&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  client = &lt;span class=&quot;keyword&quot;&gt;new&lt;/span&gt; OkHttpClient.Builder()&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;      .certificatePinner(&lt;span class=&quot;keyword&quot;&gt;new&lt;/span&gt; CertificatePinner.Builder()&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;          .add(&lt;span class=&quot;string&quot;&gt;&amp;quot;publicobject.com&amp;quot;&lt;/span&gt;,&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;          &lt;span class=&quot;string&quot;&gt;&amp;quot;sha256/afwiKY3RxoMmLkuRW1l7QsPZTJPwDS2pdDROQjXw8ig=&amp;quot;&lt;/span&gt;) &lt;span class=&quot;comment&quot;&gt;// &amp;#x670D;&amp;#x52A1;&amp;#x7AEF;&amp;#x8BC1;&amp;#x4E66;&amp;#x7684;&amp;#x516C;&amp;#x94A5;hash&amp;#x503C;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;          .build())&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;      .build();&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;}&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;3.&amp;#x81EA;&amp;#x5B9A;&amp;#x4E49;&amp;#x4FE1;&amp;#x4EFB;&amp;#x8BC1;&amp;#x4E66;&lt;br&gt;&amp;#x5E95;&amp;#x5C42;&amp;#x5B9E;&amp;#x73B0;&amp;#x662F;&amp;#x57FA;&amp;#x4E8E;JSSE&amp;#x6846;&amp;#x67B6;,&amp;#x4F7F;&amp;#x7528;&amp;#x81EA;&amp;#x6709;&amp;#x8BC1;&amp;#x4E66;&amp;#x6784;&amp;#x5EFA;X509TrustManager&amp;#x5BF9;&amp;#x8C61;&amp;#x5373;&amp;#x53EF;,&amp;#x5B98;&amp;#x65B9;Demo&amp;#x5982;&amp;#x4E0B;:&lt;br&gt;&lt;figure class=&quot;highlight java&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;12&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;13&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;14&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;15&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;16&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;17&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;18&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;19&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;20&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;21&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;22&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;23&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;24&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;25&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;26&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;27&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;28&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;29&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;30&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;31&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;32&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;33&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;34&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;35&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;36&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;37&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;38&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;39&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;40&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;41&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;42&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;43&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;44&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;45&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;46&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;47&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;48&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;49&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;50&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;51&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;52&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;53&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;54&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;55&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;56&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;57&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;58&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;59&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;// generate X509Manager by custom certification&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;private&lt;/span&gt; X509TrustManager &lt;span class=&quot;title&quot;&gt;trustManagerForCertificates&lt;/span&gt;&lt;span class=&quot;params&quot;&gt;(InputStream in)&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;function&quot;&gt;      &lt;span class=&quot;keyword&quot;&gt;throws&lt;/span&gt; GeneralSecurityException &lt;/span&gt;{&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    CertificateFactory certificateFactory = CertificateFactory.getInstance(&lt;span class=&quot;string&quot;&gt;&amp;quot;X.509&amp;quot;&lt;/span&gt;);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    Collection&amp;lt;? extends Certificate&amp;gt; certificates = certificateFactory.generateCertificates(in);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;if&lt;/span&gt; (certificates.isEmpty()) {&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;      &lt;span class=&quot;keyword&quot;&gt;throw&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;new&lt;/span&gt; IllegalArgumentException(&lt;span class=&quot;string&quot;&gt;&amp;quot;expected non-empty set of trusted certificates&amp;quot;&lt;/span&gt;);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    }&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;comment&quot;&gt;// Put the certificates a key store.&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;char&lt;/span&gt;[] password = &lt;span class=&quot;string&quot;&gt;&amp;quot;password&amp;quot;&lt;/span&gt;.toCharArray(); &lt;span class=&quot;comment&quot;&gt;// Any password will work.&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    KeyStore keyStore = newEmptyKeyStore(password);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;int&lt;/span&gt; index = &lt;span class=&quot;number&quot;&gt;0&lt;/span&gt;;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;for&lt;/span&gt; (Certificate certificate : certificates) {&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;      String certificateAlias = Integer.toString(index++);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;      keyStore.setCertificateEntry(certificateAlias, certificate);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    }&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;comment&quot;&gt;// Use it to build an X509 trust manager.&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    KeyManagerFactory keyManagerFactory = KeyManagerFactory.getInstance(&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        KeyManagerFactory.getDefaultAlgorithm());&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    keyManagerFactory.init(keyStore, password);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    TrustManagerFactory trustManagerFactory = TrustManagerFactory.getInstance(&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        TrustManagerFactory.getDefaultAlgorithm());&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    trustManagerFactory.init(keyStore);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    TrustManager[] trustManagers = trustManagerFactory.getTrustManagers();&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;if&lt;/span&gt; (trustManagers.length != &lt;span class=&quot;number&quot;&gt;1&lt;/span&gt; || !(trustManagers[&lt;span class=&quot;number&quot;&gt;0&lt;/span&gt;] &lt;span class=&quot;keyword&quot;&gt;instanceof&lt;/span&gt; X509TrustManager)) {&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;      &lt;span class=&quot;keyword&quot;&gt;throw&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;new&lt;/span&gt; IllegalStateException(&lt;span class=&quot;string&quot;&gt;&amp;quot;Unexpected default trust managers:&amp;quot;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;          + Arrays.toString(trustManagers));&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    }&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;return&lt;/span&gt; (X509TrustManager) trustManagers[&lt;span class=&quot;number&quot;&gt;0&lt;/span&gt;];&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  }&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  &lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;private&lt;/span&gt; KeyStore &lt;span class=&quot;title&quot;&gt;newEmptyKeyStore&lt;/span&gt;&lt;span class=&quot;params&quot;&gt;(&lt;span class=&quot;keyword&quot;&gt;char&lt;/span&gt;[] password)&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;throws&lt;/span&gt; GeneralSecurityException &lt;/span&gt;{&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;try&lt;/span&gt; {&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;      KeyStore keyStore = KeyStore.getInstance(KeyStore.getDefaultType());&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;      InputStream in = &lt;span class=&quot;keyword&quot;&gt;null&lt;/span&gt;; &lt;span class=&quot;comment&quot;&gt;// By convention, &amp;apos;null&amp;apos; creates an empty key store.&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;      keyStore.load(in, password);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;      &lt;span class=&quot;keyword&quot;&gt;return&lt;/span&gt; keyStore;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    } &lt;span class=&quot;keyword&quot;&gt;catch&lt;/span&gt; (IOException e) {&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;      &lt;span class=&quot;keyword&quot;&gt;throw&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;new&lt;/span&gt; AssertionError(e);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    }&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  }&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;comment&quot;&gt;// client &lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    X509TrustManager trustManager;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    SSLSocketFactory sslSocketFactory;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;try&lt;/span&gt; {&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;      trustManager = trustManagerForCertificates(trustedCertificatesInputStream());&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;      SSLContext sslContext = SSLContext.getInstance(&lt;span class=&quot;string&quot;&gt;&amp;quot;TLS&amp;quot;&lt;/span&gt;);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;      sslContext.init(&lt;span class=&quot;keyword&quot;&gt;null&lt;/span&gt;, &lt;span class=&quot;keyword&quot;&gt;new&lt;/span&gt; TrustManager[] { trustManager }, &lt;span class=&quot;keyword&quot;&gt;null&lt;/span&gt;);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;      sslSocketFactory = sslContext.getSocketFactory();&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    } &lt;span class=&quot;keyword&quot;&gt;catch&lt;/span&gt; (GeneralSecurityException e) {&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;      &lt;span class=&quot;keyword&quot;&gt;throw&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;new&lt;/span&gt; RuntimeException(e);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    }&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    client = &lt;span class=&quot;keyword&quot;&gt;new&lt;/span&gt; OkHttpClient.Builder()&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        .sslSocketFactory(sslSocketFactory, trustManager)&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        .build();&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
</content>
    
    <summary type="html">
    
      &lt;!-- toc --&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;#简介&quot;&gt;简介&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;#网络请求队列-dispatcher&quot;&gt;网络请求队列 Dispatcher&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;#socket连接池-connectionpool&quot;&gt;Socket连接池 ConnectionPool&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;#缓存管理&quot;&gt;缓存管理&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;#https&quot;&gt;HTTPS&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;!-- tocstop --&gt;
&lt;h2 id=&quot;简介&quot;&gt;&lt;a href=&quot;#简介&quot; class=&quot;headerlink&quot; title=&quot;简介&quot;&gt;&lt;/a&gt;简介&lt;/h2&gt;&lt;p&gt;OkHttp是一个HTTP客户端组件,要求Android2.3以上或者JDK1.7以上,最近重新读其源码,对感兴趣的部分记录一下.&lt;/p&gt;
&lt;h2 id=&quot;网络请求队列-Dispatcher&quot;&gt;&lt;a href=&quot;#网络请求队列-Dispatcher&quot; class=&quot;headerlink&quot; title=&quot;网络请求队列 Dispatcher&quot;&gt;&lt;/a&gt;网络请求队列 Dispatcher&lt;/h2&gt;&lt;ul&gt;
&lt;li&gt;&lt;p&gt;&lt;code&gt;Call#execute()&lt;/code&gt;同步请求前会进入&lt;code&gt;Dispacher#runningSyncCalls&lt;/code&gt;队列,完成后remove&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;&lt;code&gt;Call#enqueue()&lt;/code&gt;异步请求会进入&lt;code&gt;Dispatchder#runningAsyncCalls&lt;/code&gt;队列,这里有限制条件：&lt;code&gt;maxRequests&amp;lt;=64 &amp;amp;&amp;amp; maxRequestsPerHost&amp;lt;=5&lt;/code&gt;,不满足则放入&lt;code&gt;Dispatcher#readyAsyncCalls&lt;/code&gt;,这些值可通过&lt;code&gt;#setMaxRequests()&lt;/code&gt;和&lt;code&gt;#setMaxRequestsPerHost()&lt;/code&gt;设置. &lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;异步执行的线程池默认设置为: &lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th style=&quot;text-align:left&quot;&gt;CorePoolSize&lt;/th&gt;
&lt;th style=&quot;text-align:left&quot;&gt;MaximumPoolSize&lt;/th&gt;
&lt;th style=&quot;text-align:left&quot;&gt;KeepAliveTime&lt;/th&gt;
&lt;th style=&quot;text-align:left&quot;&gt;WorkQueue&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td style=&quot;text-align:left&quot;&gt;0&lt;/td&gt;
&lt;td style=&quot;text-align:left&quot;&gt;Integer.MAX_VALUE&lt;/td&gt;
&lt;td style=&quot;text-align:left&quot;&gt;60s&lt;/td&gt;
&lt;td style=&quot;text-align:left&quot;&gt;SynchronousQueue&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;Dispatcher#setIdleCallback()&lt;/code&gt;用于设置在同步请求队列和异步请求队列均为空时执行一次callback&lt;/li&gt;
&lt;/ul&gt;
    
    </summary>
    
      <category term="Android学习笔记" scheme="http://yoursite.com/categories/Android%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/"/>
    
    
      <category term="Android" scheme="http://yoursite.com/tags/Android/"/>
    
  </entry>
  
  <entry>
    <title>设计模式笔记</title>
    <link href="http://yoursite.com/2017/04/05/design-pattern-note/"/>
    <id>http://yoursite.com/2017/04/05/design-pattern-note/</id>
    <published>2017-04-05T12:26:30.000Z</published>
    <updated>2017-04-05T13:57:26.000Z</updated>
    
    <content type="html">&lt;h2 id=&quot;&amp;#x9762;&amp;#x5411;&amp;#x5BF9;&amp;#x8C61;&amp;#x516D;&amp;#x5927;&amp;#x539F;&amp;#x5219;&quot;&gt;&lt;a href=&quot;#&amp;#x9762;&amp;#x5411;&amp;#x5BF9;&amp;#x8C61;&amp;#x516D;&amp;#x5927;&amp;#x539F;&amp;#x5219;&quot; class=&quot;headerlink&quot; title=&quot;&amp;#x9762;&amp;#x5411;&amp;#x5BF9;&amp;#x8C61;&amp;#x516D;&amp;#x5927;&amp;#x539F;&amp;#x5219;&quot;&gt;&lt;/a&gt;&amp;#x9762;&amp;#x5411;&amp;#x5BF9;&amp;#x8C61;&amp;#x516D;&amp;#x5927;&amp;#x539F;&amp;#x5219;&lt;/h2&gt;&lt;ol&gt;
&lt;li&gt;Single Responsibility Principle&lt;/li&gt;
&lt;li&gt;Open Close Principle&lt;/li&gt;
&lt;li&gt;Liskov Substitution Principle&lt;/li&gt;
&lt;li&gt;Dependence Inversion Principle&lt;/li&gt;
&lt;li&gt;Interface Segregation Principle&lt;/li&gt;
&lt;li&gt;Law of Demeter&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id=&quot;&amp;#x8BBE;&amp;#x8BA1;&amp;#x6A21;&amp;#x5F0F;&amp;#x53EF;&amp;#x590D;&amp;#x7528;&amp;#x9762;&amp;#x5411;&amp;#x5BF9;&amp;#x8C61;&amp;#x8F6F;&amp;#x4EF6;&amp;#x7684;&amp;#x57FA;&amp;#x7840;23&amp;#x79CD;&amp;#x8BBE;&amp;#x8BA1;&amp;#x6A21;&amp;#x5F0F;&quot;&gt;&lt;a href=&quot;#&amp;#x300A;&amp;#x8BBE;&amp;#x8BA1;&amp;#x6A21;&amp;#x5F0F;-&amp;#x53EF;&amp;#x590D;&amp;#x7528;&amp;#x9762;&amp;#x5411;&amp;#x5BF9;&amp;#x8C61;&amp;#x8F6F;&amp;#x4EF6;&amp;#x7684;&amp;#x57FA;&amp;#x7840;&amp;#x300B;23&amp;#x79CD;&amp;#x8BBE;&amp;#x8BA1;&amp;#x6A21;&amp;#x5F0F;&amp;#xFF1A;&quot; class=&quot;headerlink&quot; title=&quot;&amp;#x300A;&amp;#x8BBE;&amp;#x8BA1;&amp;#x6A21;&amp;#x5F0F;:&amp;#x53EF;&amp;#x590D;&amp;#x7528;&amp;#x9762;&amp;#x5411;&amp;#x5BF9;&amp;#x8C61;&amp;#x8F6F;&amp;#x4EF6;&amp;#x7684;&amp;#x57FA;&amp;#x7840;&amp;#x300B;23&amp;#x79CD;&amp;#x8BBE;&amp;#x8BA1;&amp;#x6A21;&amp;#x5F0F;&amp;#xFF1A;&quot;&gt;&lt;/a&gt;&amp;#x300A;&amp;#x8BBE;&amp;#x8BA1;&amp;#x6A21;&amp;#x5F0F;:&amp;#x53EF;&amp;#x590D;&amp;#x7528;&amp;#x9762;&amp;#x5411;&amp;#x5BF9;&amp;#x8C61;&amp;#x8F6F;&amp;#x4EF6;&amp;#x7684;&amp;#x57FA;&amp;#x7840;&amp;#x300B;23&amp;#x79CD;&amp;#x8BBE;&amp;#x8BA1;&amp;#x6A21;&amp;#x5F0F;&amp;#xFF1A;&lt;/h2&gt;&lt;h2 id=&quot;&amp;#x521B;&amp;#x5EFA;&amp;#x578B;&amp;#x6A21;&amp;#x5F0F;&quot;&gt;&lt;a href=&quot;#&amp;#x521B;&amp;#x5EFA;&amp;#x578B;&amp;#x6A21;&amp;#x5F0F;&quot; class=&quot;headerlink&quot; title=&quot;&amp;#x521B;&amp;#x5EFA;&amp;#x578B;&amp;#x6A21;&amp;#x5F0F;&quot;&gt;&lt;/a&gt;&amp;#x521B;&amp;#x5EFA;&amp;#x578B;&amp;#x6A21;&amp;#x5F0F;&lt;/h2&gt;&lt;h3 id=&quot;&amp;#x5355;&amp;#x4F8B;&amp;#x6A21;&amp;#x5F0F;singleton&quot;&gt;&lt;a href=&quot;#&amp;#x5355;&amp;#x4F8B;&amp;#x6A21;&amp;#x5F0F;-Singleton&quot; class=&quot;headerlink&quot; title=&quot;&amp;#x5355;&amp;#x4F8B;&amp;#x6A21;&amp;#x5F0F;(Singleton)&quot;&gt;&lt;/a&gt;&amp;#x5355;&amp;#x4F8B;&amp;#x6A21;&amp;#x5F0F;(Singleton)&lt;/h3&gt;&lt;img src=&quot;/2017/04/05/design-pattern-note/pic_0.png&quot;&gt;
&lt;a id=&quot;more&quot;&gt;&lt;/a&gt;
&lt;p&gt;&lt;strong&gt;Tips:&lt;/strong&gt; &amp;#x4E2A;&amp;#x4EBA;&amp;#x63A8;&amp;#x8350;Java&amp;#x4E2D;&amp;#x4F7F;&amp;#x7528;&amp;#x679A;&amp;#x4E3E;&amp;#x5B9E;&amp;#x73B0;&lt;/p&gt;
&lt;h3 id=&quot;&amp;#x6784;&amp;#x5EFA;&amp;#x8005;&amp;#x6A21;&amp;#x5F0F;builder&quot;&gt;&lt;a href=&quot;#&amp;#x6784;&amp;#x5EFA;&amp;#x8005;&amp;#x6A21;&amp;#x5F0F;-Builder&quot; class=&quot;headerlink&quot; title=&quot;&amp;#x6784;&amp;#x5EFA;&amp;#x8005;&amp;#x6A21;&amp;#x5F0F;(Builder)&quot;&gt;&lt;/a&gt;&amp;#x6784;&amp;#x5EFA;&amp;#x8005;&amp;#x6A21;&amp;#x5F0F;(Builder)&lt;/h3&gt;&lt;img src=&quot;/2017/04/05/design-pattern-note/pic_1.png&quot;&gt;
&lt;p&gt;&lt;strong&gt;Tips:&lt;/strong&gt; &amp;#x901A;&amp;#x5E38;&amp;#x4F5C;&amp;#x4E3A;&amp;#x914D;&amp;#x7F6E;&amp;#x7C7B;&amp;#x7684;&amp;#x6784;&amp;#x5EFA;&amp;#x5668;&amp;#xFF0C;&amp;#x907F;&amp;#x514D;&amp;#x8FC7;&amp;#x591A;&amp;#x7684;setter&amp;#x65B9;&amp;#x6CD5;&amp;#xFF0C;&amp;#x5B9E;&amp;#x73B0;&amp;#x94FE;&amp;#x5F0F;&amp;#x8C03;&amp;#x7528;&lt;/p&gt;
&lt;h3 id=&quot;&amp;#x539F;&amp;#x578B;&amp;#x6A21;&amp;#x5F0F;prototype&quot;&gt;&lt;a href=&quot;#&amp;#x539F;&amp;#x578B;&amp;#x6A21;&amp;#x5F0F;-Prototype&quot; class=&quot;headerlink&quot; title=&quot;&amp;#x539F;&amp;#x578B;&amp;#x6A21;&amp;#x5F0F;(Prototype)&quot;&gt;&lt;/a&gt;&amp;#x539F;&amp;#x578B;&amp;#x6A21;&amp;#x5F0F;(Prototype)&lt;/h3&gt;&lt;img src=&quot;/2017/04/05/design-pattern-note/pic_2.png&quot;&gt;
&lt;p&gt;&lt;strong&gt;Tips:&lt;/strong&gt; Java&amp;#x7684;Object#clone()&amp;#x5B9E;&amp;#x73B0;&amp;#x8BE5;&amp;#x6A21;&amp;#x5F0F;&amp;#xFF0C;&amp;#x6700;&amp;#x7EC8;&amp;#x4F7F;&amp;#x7528;JNI&amp;#x8FDB;&amp;#x884C;&amp;#x5B57;&amp;#x8282;&amp;#x590D;&amp;#x5236;&amp;#x53BB;&amp;#x521B;&amp;#x5EFA;&amp;#x65B0;&amp;#x5BF9;&amp;#x8C61;&lt;/p&gt;
&lt;h3 id=&quot;&amp;#x5DE5;&amp;#x5382;&amp;#x65B9;&amp;#x6CD5;&amp;#x6A21;&amp;#x5F0F;factory-method&quot;&gt;&lt;a href=&quot;#&amp;#x5DE5;&amp;#x5382;&amp;#x65B9;&amp;#x6CD5;&amp;#x6A21;&amp;#x5F0F;-Factory-Method&quot; class=&quot;headerlink&quot; title=&quot;&amp;#x5DE5;&amp;#x5382;&amp;#x65B9;&amp;#x6CD5;&amp;#x6A21;&amp;#x5F0F;(Factory Method)&quot;&gt;&lt;/a&gt;&amp;#x5DE5;&amp;#x5382;&amp;#x65B9;&amp;#x6CD5;&amp;#x6A21;&amp;#x5F0F;(Factory Method)&lt;/h3&gt;&lt;img src=&quot;/2017/04/05/design-pattern-note/pic_3.png&quot;&gt;
&lt;p&gt;&lt;strong&gt;Tips:&lt;/strong&gt; Java&amp;#x4F7F;&amp;#x7528;&amp;#x5DE5;&amp;#x5382;&amp;#x6A21;&amp;#x5F0F;&amp;#x901A;&amp;#x5E38;&amp;#x4F34;&amp;#x968F;&amp;#x7740;&amp;#x53CD;&amp;#x5C04;&amp;#x673A;&amp;#x5236;&lt;/p&gt;
&lt;h3 id=&quot;&amp;#x62BD;&amp;#x8C61;&amp;#x5DE5;&amp;#x5382;&amp;#x6A21;&amp;#x5F0F;abstract-factory&quot;&gt;&lt;a href=&quot;#&amp;#x62BD;&amp;#x8C61;&amp;#x5DE5;&amp;#x5382;&amp;#x6A21;&amp;#x5F0F;-Abstract-Factory&quot; class=&quot;headerlink&quot; title=&quot;&amp;#x62BD;&amp;#x8C61;&amp;#x5DE5;&amp;#x5382;&amp;#x6A21;&amp;#x5F0F;(Abstract Factory)&quot;&gt;&lt;/a&gt;&amp;#x62BD;&amp;#x8C61;&amp;#x5DE5;&amp;#x5382;&amp;#x6A21;&amp;#x5F0F;(Abstract Factory)&lt;/h3&gt;&lt;img src=&quot;/2017/04/05/design-pattern-note/pic_4.png&quot;&gt;
&lt;p&gt;&lt;strong&gt;Tips:&lt;/strong&gt; AbstractFactory&amp;#x8981;&amp;#x4FDD;&amp;#x8BC1;&amp;#x7ED3;&amp;#x6784;&amp;#x7A33;&amp;#x5B9A;&amp;#x6027;&lt;/p&gt;
&lt;h2 id=&quot;&amp;#x884C;&amp;#x4E3A;&amp;#x8BBE;&amp;#x8BA1;&amp;#x6A21;&amp;#x5F0F;&quot;&gt;&lt;a href=&quot;#&amp;#x884C;&amp;#x4E3A;&amp;#x8BBE;&amp;#x8BA1;&amp;#x6A21;&amp;#x5F0F;&quot; class=&quot;headerlink&quot; title=&quot;&amp;#x884C;&amp;#x4E3A;&amp;#x8BBE;&amp;#x8BA1;&amp;#x6A21;&amp;#x5F0F;&quot;&gt;&lt;/a&gt;&amp;#x884C;&amp;#x4E3A;&amp;#x8BBE;&amp;#x8BA1;&amp;#x6A21;&amp;#x5F0F;&lt;/h2&gt;&lt;h3 id=&quot;&amp;#x7B56;&amp;#x7565;&amp;#x6A21;&amp;#x5F0F;strategy&quot;&gt;&lt;a href=&quot;#&amp;#x7B56;&amp;#x7565;&amp;#x6A21;&amp;#x5F0F;-Strategy&quot; class=&quot;headerlink&quot; title=&quot;&amp;#x7B56;&amp;#x7565;&amp;#x6A21;&amp;#x5F0F;(Strategy)&quot;&gt;&lt;/a&gt;&amp;#x7B56;&amp;#x7565;&amp;#x6A21;&amp;#x5F0F;(Strategy)&lt;/h3&gt;&lt;img src=&quot;/2017/04/05/design-pattern-note/pic_5.png&quot;&gt;
&lt;p&gt;&lt;strong&gt;Tips:&lt;/strong&gt; &amp;#x7CFB;&amp;#x7EDF;&amp;#x4E2D;&amp;#x67D0;&amp;#x4E2A;&amp;#x7C7B;&amp;#x7684;&amp;#x67D0;&amp;#x4E00;&amp;#x884C;&amp;#x4E3A;&amp;#x5B58;&amp;#x5728;&amp;#x591A;&amp;#x79CD;&amp;#x5B9E;&amp;#x73B0;&amp;#x65B9;&amp;#x5F0F;&amp;#xFF0C;&amp;#x800C;&amp;#x4E14;&amp;#x8FD9;&amp;#x4E9B;&amp;#x5B9E;&amp;#x73B0;&amp;#x65B9;&amp;#x5F0F;&amp;#x53EF;&amp;#x4EE5;&amp;#x4E92;&amp;#x6362;&amp;#x65F6;&amp;#x4F7F;&amp;#x7528;&amp;#x7B56;&amp;#x7565;&amp;#x6A21;&amp;#x5F0F;&lt;/p&gt;
&lt;h3 id=&quot;&amp;#x72B6;&amp;#x6001;&amp;#x6A21;&amp;#x5F0F;state&quot;&gt;&lt;a href=&quot;#&amp;#x72B6;&amp;#x6001;&amp;#x6A21;&amp;#x5F0F;-State&quot; class=&quot;headerlink&quot; title=&quot;&amp;#x72B6;&amp;#x6001;&amp;#x6A21;&amp;#x5F0F;(State)&quot;&gt;&lt;/a&gt;&amp;#x72B6;&amp;#x6001;&amp;#x6A21;&amp;#x5F0F;(State)&lt;/h3&gt;&lt;img src=&quot;/2017/04/05/design-pattern-note/pic_6.png&quot;&gt;
&lt;p&gt;&lt;strong&gt;Tips:&lt;/strong&gt; &amp;#x7CFB;&amp;#x7EDF;&amp;#x4E2D;&amp;#x67D0;&amp;#x4E2A;&amp;#x7C7B;&amp;#x7684;&amp;#x5BF9;&amp;#x8C61;&amp;#x5B58;&amp;#x5728;&amp;#x591A;&amp;#x79CD;&amp;#x72B6;&amp;#x6001;&amp;#xFF0C;&amp;#x4E0D;&amp;#x540C;&amp;#x72B6;&amp;#x6001;&amp;#x4E0B;&amp;#x884C;&amp;#x4E3A;&amp;#x6709;&amp;#x5DEE;&amp;#x5F02;&amp;#xFF0C;&amp;#x800C;&amp;#x4E14;&amp;#x8FD9;&amp;#x4E9B;&amp;#x72B6;&amp;#x6001;&amp;#x4E4B;&amp;#x95F4;&amp;#x53EF;&amp;#x4EE5;&amp;#x53D1;&amp;#x751F;&amp;#x8F6C;&amp;#x6362;&amp;#x65F6;&amp;#x4F7F;&amp;#x7528;&amp;#x72B6;&amp;#x6001;&amp;#x6A21;&amp;#x5F0F;&lt;/p&gt;
&lt;h3 id=&quot;&amp;#x8D23;&amp;#x4EFB;&amp;#x94FE;&amp;#x6A21;&amp;#x5F0F;chain-of-responsibility&quot;&gt;&lt;a href=&quot;#&amp;#x8D23;&amp;#x4EFB;&amp;#x94FE;&amp;#x6A21;&amp;#x5F0F;-Chain-of-Responsibility&quot; class=&quot;headerlink&quot; title=&quot;&amp;#x8D23;&amp;#x4EFB;&amp;#x94FE;&amp;#x6A21;&amp;#x5F0F;(Chain of Responsibility)&quot;&gt;&lt;/a&gt;&amp;#x8D23;&amp;#x4EFB;&amp;#x94FE;&amp;#x6A21;&amp;#x5F0F;(Chain of Responsibility)&lt;/h3&gt;&lt;img src=&quot;/2017/04/05/design-pattern-note/pic_7.png&quot;&gt;
&lt;h3 id=&quot;&amp;#x89E3;&amp;#x91CA;&amp;#x5668;&amp;#x6A21;&amp;#x5F0F;interpreter&quot;&gt;&lt;a href=&quot;#&amp;#x89E3;&amp;#x91CA;&amp;#x5668;&amp;#x6A21;&amp;#x5F0F;-Interpreter&quot; class=&quot;headerlink&quot; title=&quot;&amp;#x89E3;&amp;#x91CA;&amp;#x5668;&amp;#x6A21;&amp;#x5F0F;(Interpreter)&quot;&gt;&lt;/a&gt;&amp;#x89E3;&amp;#x91CA;&amp;#x5668;&amp;#x6A21;&amp;#x5F0F;(Interpreter)&lt;/h3&gt;&lt;img src=&quot;/2017/04/05/design-pattern-note/pic_8.png&quot;&gt;
&lt;h3 id=&quot;&amp;#x547D;&amp;#x4EE4;&amp;#x6A21;&amp;#x5F0F;command&quot;&gt;&lt;a href=&quot;#&amp;#x547D;&amp;#x4EE4;&amp;#x6A21;&amp;#x5F0F;-Command&quot; class=&quot;headerlink&quot; title=&quot;&amp;#x547D;&amp;#x4EE4;&amp;#x6A21;&amp;#x5F0F;(Command)&quot;&gt;&lt;/a&gt;&amp;#x547D;&amp;#x4EE4;&amp;#x6A21;&amp;#x5F0F;(Command)&lt;/h3&gt;&lt;img src=&quot;/2017/04/05/design-pattern-note/pic_9.png&quot;&gt;
&lt;p&gt;&lt;strong&gt;&amp;#x4F18;&amp;#x52BF;:&lt;/strong&gt; &amp;#x964D;&amp;#x4F4E;&amp;#x7CFB;&amp;#x7EDF;&amp;#x8026;&amp;#x5408;&amp;#x5EA6;&amp;#xFF0C;&amp;#x65B9;&amp;#x4FBF;&amp;#x589E;&amp;#x52A0;&amp;#x65B0;&amp;#x7684;&amp;#x547D;&amp;#x4EE4;&amp;#xFF0C;&amp;#x53EF;&amp;#x4EE5;&amp;#x5BB9;&amp;#x6613;&amp;#x5730;&amp;#x8BBE;&amp;#x8BA1;&amp;#x4E00;&amp;#x4E2A;&amp;#x547D;&amp;#x4EE4;&amp;#x961F;&amp;#x5217;&amp;#xFF0C;&amp;#x65B9;&amp;#x4FBF;&amp;#x5B9E;&amp;#x73B0;&amp;#x5BF9;&amp;#x8BF7;&amp;#x6C42;&amp;#x7684;&amp;#x64A4;&amp;#x9500;&amp;#x548C;&amp;#x6062;&amp;#x590D;&lt;/p&gt;
&lt;h3 id=&quot;&amp;#x89C2;&amp;#x5BDF;&amp;#x8005;&amp;#x6A21;&amp;#x5F0F;observer&quot;&gt;&lt;a href=&quot;#&amp;#x89C2;&amp;#x5BDF;&amp;#x8005;&amp;#x6A21;&amp;#x5F0F;-Observer&quot; class=&quot;headerlink&quot; title=&quot;&amp;#x89C2;&amp;#x5BDF;&amp;#x8005;&amp;#x6A21;&amp;#x5F0F;(Observer)&quot;&gt;&lt;/a&gt;&amp;#x89C2;&amp;#x5BDF;&amp;#x8005;&amp;#x6A21;&amp;#x5F0F;(Observer)&lt;/h3&gt;&lt;img src=&quot;/2017/04/05/design-pattern-note/pic_10.png&quot;&gt;
&lt;h3 id=&quot;&amp;#x5907;&amp;#x5FD8;&amp;#x5F55;&amp;#x6A21;&amp;#x5F0F;memento&quot;&gt;&lt;a href=&quot;#&amp;#x5907;&amp;#x5FD8;&amp;#x5F55;&amp;#x6A21;&amp;#x5F0F;-Memento&quot; class=&quot;headerlink&quot; title=&quot;&amp;#x5907;&amp;#x5FD8;&amp;#x5F55;&amp;#x6A21;&amp;#x5F0F;(Memento)&quot;&gt;&lt;/a&gt;&amp;#x5907;&amp;#x5FD8;&amp;#x5F55;&amp;#x6A21;&amp;#x5F0F;(Memento)&lt;/h3&gt;&lt;img src=&quot;/2017/04/05/design-pattern-note/pic_11.png&quot;&gt;
&lt;h3 id=&quot;&amp;#x8FED;&amp;#x4EE3;&amp;#x5668;&amp;#x6A21;&amp;#x5F0F;iterator&quot;&gt;&lt;a href=&quot;#&amp;#x8FED;&amp;#x4EE3;&amp;#x5668;&amp;#x6A21;&amp;#x5F0F;-Iterator&quot; class=&quot;headerlink&quot; title=&quot;&amp;#x8FED;&amp;#x4EE3;&amp;#x5668;&amp;#x6A21;&amp;#x5F0F;(Iterator)&quot;&gt;&lt;/a&gt;&amp;#x8FED;&amp;#x4EE3;&amp;#x5668;&amp;#x6A21;&amp;#x5F0F;(Iterator)&lt;/h3&gt;&lt;img src=&quot;/2017/04/05/design-pattern-note/pic_12.png&quot;&gt;
&lt;h3 id=&quot;&amp;#x6A21;&amp;#x677F;&amp;#x65B9;&amp;#x6CD5;&amp;#x6A21;&amp;#x5F0F;template-method&quot;&gt;&lt;a href=&quot;#&amp;#x6A21;&amp;#x677F;&amp;#x65B9;&amp;#x6CD5;&amp;#x6A21;&amp;#x5F0F;-Template-Method&quot; class=&quot;headerlink&quot; title=&quot;&amp;#x6A21;&amp;#x677F;&amp;#x65B9;&amp;#x6CD5;&amp;#x6A21;&amp;#x5F0F;(Template Method)&quot;&gt;&lt;/a&gt;&amp;#x6A21;&amp;#x677F;&amp;#x65B9;&amp;#x6CD5;&amp;#x6A21;&amp;#x5F0F;(Template Method)&lt;/h3&gt;&lt;img src=&quot;/2017/04/05/design-pattern-note/pic_13.png&quot;&gt;
&lt;h3 id=&quot;&amp;#x8BBF;&amp;#x95EE;&amp;#x8005;&amp;#x6A21;&amp;#x5F0F;visitor&quot;&gt;&lt;a href=&quot;#&amp;#x8BBF;&amp;#x95EE;&amp;#x8005;&amp;#x6A21;&amp;#x5F0F;-Visitor&quot; class=&quot;headerlink&quot; title=&quot;&amp;#x8BBF;&amp;#x95EE;&amp;#x8005;&amp;#x6A21;&amp;#x5F0F;(Visitor)&quot;&gt;&lt;/a&gt;&amp;#x8BBF;&amp;#x95EE;&amp;#x8005;&amp;#x6A21;&amp;#x5F0F;(Visitor)&lt;/h3&gt;&lt;img src=&quot;/2017/04/05/design-pattern-note/pic_14.png&quot;&gt;
&lt;p&gt;&lt;strong&gt;&amp;#x6CE8;&amp;#x610F;:&lt;/strong&gt; &amp;#x5BF9;&amp;#x8C61;&amp;#x7ED3;&amp;#x6784;&amp;#x8981;&amp;#x7A33;&amp;#x5B9A;&lt;/p&gt;
&lt;h3 id=&quot;&amp;#x4E2D;&amp;#x4ECB;&amp;#x8005;&amp;#x6A21;&amp;#x5F0F;mediator&quot;&gt;&lt;a href=&quot;#&amp;#x4E2D;&amp;#x4ECB;&amp;#x8005;&amp;#x6A21;&amp;#x5F0F;-Mediator&quot; class=&quot;headerlink&quot; title=&quot;&amp;#x4E2D;&amp;#x4ECB;&amp;#x8005;&amp;#x6A21;&amp;#x5F0F;(Mediator)&quot;&gt;&lt;/a&gt;&amp;#x4E2D;&amp;#x4ECB;&amp;#x8005;&amp;#x6A21;&amp;#x5F0F;(Mediator)&lt;/h3&gt;&lt;img src=&quot;/2017/04/05/design-pattern-note/pic_15.png&quot;&gt;
&lt;p&gt;&lt;strong&gt;&amp;#x4F18;&amp;#x52BF;:&lt;/strong&gt; &amp;#x7B80;&amp;#x5316;&amp;#x5BF9;&amp;#x8C61;&amp;#x95F4;&amp;#x7684;&amp;#x4EA4;&amp;#x4E92;&amp;#xFF0C;&amp;#x65B9;&amp;#x4FBF;&amp;#x5BF9;&amp;#x8C61;&amp;#x95F4;&amp;#x7684;&amp;#x4EA4;&amp;#x4E92;&amp;#x8FDB;&amp;#x884C;&amp;#x8FDB;&amp;#x4E00;&amp;#x6B65;&amp;#x63A7;&amp;#x5236;&lt;/p&gt;
&lt;h2 id=&quot;&amp;#x7ED3;&amp;#x6784;&amp;#x578B;&amp;#x8BBE;&amp;#x8BA1;&amp;#x6A21;&amp;#x5F0F;&quot;&gt;&lt;a href=&quot;#&amp;#x7ED3;&amp;#x6784;&amp;#x578B;&amp;#x8BBE;&amp;#x8BA1;&amp;#x6A21;&amp;#x5F0F;&quot; class=&quot;headerlink&quot; title=&quot;&amp;#x7ED3;&amp;#x6784;&amp;#x578B;&amp;#x8BBE;&amp;#x8BA1;&amp;#x6A21;&amp;#x5F0F;&quot;&gt;&lt;/a&gt;&amp;#x7ED3;&amp;#x6784;&amp;#x578B;&amp;#x8BBE;&amp;#x8BA1;&amp;#x6A21;&amp;#x5F0F;&lt;/h2&gt;&lt;h3 id=&quot;&amp;#x4EE3;&amp;#x7406;&amp;#x6A21;&amp;#x5F0F;proxy&quot;&gt;&lt;a href=&quot;#&amp;#x4EE3;&amp;#x7406;&amp;#x6A21;&amp;#x5F0F;-Proxy&quot; class=&quot;headerlink&quot; title=&quot;&amp;#x4EE3;&amp;#x7406;&amp;#x6A21;&amp;#x5F0F;(Proxy)&quot;&gt;&lt;/a&gt;&amp;#x4EE3;&amp;#x7406;&amp;#x6A21;&amp;#x5F0F;(Proxy)&lt;/h3&gt;&lt;img src=&quot;/2017/04/05/design-pattern-note/pic_16.png&quot;&gt;
&lt;h3 id=&quot;&amp;#x7EC4;&amp;#x5408;&amp;#x6A21;&amp;#x5F0F;composite&quot;&gt;&lt;a href=&quot;#&amp;#x7EC4;&amp;#x5408;&amp;#x6A21;&amp;#x5F0F;-Composite&quot; class=&quot;headerlink&quot; title=&quot;&amp;#x7EC4;&amp;#x5408;&amp;#x6A21;&amp;#x5F0F;(Composite)&quot;&gt;&lt;/a&gt;&amp;#x7EC4;&amp;#x5408;&amp;#x6A21;&amp;#x5F0F;(Composite)&lt;/h3&gt;&lt;img src=&quot;/2017/04/05/design-pattern-note/pic_17.png&quot;&gt;
&lt;h3 id=&quot;&amp;#x9002;&amp;#x914D;&amp;#x5668;&amp;#x6A21;&amp;#x5F0F;adapter&quot;&gt;&lt;a href=&quot;#&amp;#x9002;&amp;#x914D;&amp;#x5668;&amp;#x6A21;&amp;#x5F0F;-Adapter&quot; class=&quot;headerlink&quot; title=&quot;&amp;#x9002;&amp;#x914D;&amp;#x5668;&amp;#x6A21;&amp;#x5F0F;(Adapter)&quot;&gt;&lt;/a&gt;&amp;#x9002;&amp;#x914D;&amp;#x5668;&amp;#x6A21;&amp;#x5F0F;(Adapter)&lt;/h3&gt;&lt;img src=&quot;/2017/04/05/design-pattern-note/pic_18.png&quot;&gt;
&lt;h3 id=&quot;&amp;#x88C5;&amp;#x9970;&amp;#x8005;&amp;#x6A21;&amp;#x5F0F;decorator&quot;&gt;&lt;a href=&quot;#&amp;#x88C5;&amp;#x9970;&amp;#x8005;&amp;#x6A21;&amp;#x5F0F;-Decorator&quot; class=&quot;headerlink&quot; title=&quot;&amp;#x88C5;&amp;#x9970;&amp;#x8005;&amp;#x6A21;&amp;#x5F0F;(Decorator)&quot;&gt;&lt;/a&gt;&amp;#x88C5;&amp;#x9970;&amp;#x8005;&amp;#x6A21;&amp;#x5F0F;(Decorator)&lt;/h3&gt;&lt;img src=&quot;/2017/04/05/design-pattern-note/pic_19.png&quot;&gt;
&lt;p&gt;&lt;strong&gt;&amp;#x4F18;&amp;#x52BF;:&lt;/strong&gt; &amp;#x63D0;&amp;#x4F9B;&amp;#x6BD4;&amp;#x7EE7;&amp;#x627F;&amp;#x66F4;&amp;#x591A;&amp;#x7684;&amp;#x7075;&amp;#x6D3B;&amp;#x6027;&lt;/p&gt;
&lt;h3 id=&quot;&amp;#x4EAB;&amp;#x5143;&amp;#x6A21;&amp;#x5F0F;flyweight&quot;&gt;&lt;a href=&quot;#&amp;#x4EAB;&amp;#x5143;&amp;#x6A21;&amp;#x5F0F;-Flyweight&quot; class=&quot;headerlink&quot; title=&quot;&amp;#x4EAB;&amp;#x5143;&amp;#x6A21;&amp;#x5F0F;(Flyweight)&quot;&gt;&lt;/a&gt;&amp;#x4EAB;&amp;#x5143;&amp;#x6A21;&amp;#x5F0F;(Flyweight)&lt;/h3&gt;&lt;img src=&quot;/2017/04/05/design-pattern-note/pic_20.png&quot;&gt;
&lt;p&gt;&lt;strong&gt;&amp;#x89E3;&amp;#x91CA;:&lt;/strong&gt; &amp;#x7C7B;&amp;#x4F3C;&amp;#x4E8E;&amp;#x5BF9;&amp;#x8C61;&amp;#x7F13;&amp;#x51B2;&amp;#x6C60;,&amp;#x901A;&amp;#x5E38;&amp;#x5355;&amp;#x94FE;&amp;#x8868;&amp;#x5B9E;&amp;#x73B0;,&amp;#x628A;&amp;#x5185;&amp;#x90E8;&amp;#x72B6;&amp;#x6001;&amp;#x548C;&amp;#x5916;&amp;#x90E8;&amp;#x72B6;&amp;#x6001;&amp;#x5206;&amp;#x79BB;,&amp;#x4E3B;&amp;#x8981;&amp;#x662F;&amp;#x4E3A;&amp;#x4E86;&amp;#x51CF;&amp;#x5C11;&amp;#x5185;&amp;#x5B58;&amp;#x4E2D;&amp;#x5BF9;&amp;#x8C61;&amp;#x7684;&amp;#x6570;&amp;#x91CF;&lt;/p&gt;
&lt;h3 id=&quot;&amp;#x5916;&amp;#x89C2;&amp;#x6A21;&amp;#x5F0F;facade&quot;&gt;&lt;a href=&quot;#&amp;#x5916;&amp;#x89C2;&amp;#x6A21;&amp;#x5F0F;-Facade&quot; class=&quot;headerlink&quot; title=&quot;&amp;#x5916;&amp;#x89C2;&amp;#x6A21;&amp;#x5F0F;(Facade)&quot;&gt;&lt;/a&gt;&amp;#x5916;&amp;#x89C2;&amp;#x6A21;&amp;#x5F0F;(Facade)&lt;/h3&gt;&lt;img src=&quot;/2017/04/05/design-pattern-note/pic_21.png&quot;&gt;
&lt;h3 id=&quot;&amp;#x6865;&amp;#x8FDE;&amp;#x63A5;&amp;#x6A21;&amp;#x5F0F;bridge&quot;&gt;&lt;a href=&quot;#&amp;#x6865;&amp;#x8FDE;&amp;#x63A5;&amp;#x6A21;&amp;#x5F0F;-Bridge&quot; class=&quot;headerlink&quot; title=&quot;&amp;#x6865;&amp;#x8FDE;&amp;#x63A5;&amp;#x6A21;&amp;#x5F0F;(Bridge)&quot;&gt;&lt;/a&gt;&amp;#x6865;&amp;#x8FDE;&amp;#x63A5;&amp;#x6A21;&amp;#x5F0F;(Bridge)&lt;/h3&gt;&lt;img src=&quot;/2017/04/05/design-pattern-note/pic_22.png&quot;&gt;
&lt;p&gt;&lt;strong&gt;&amp;#x4F18;&amp;#x52BF;:&lt;/strong&gt; &amp;#x6865;&amp;#x63A5;&amp;#x6A21;&amp;#x5F0F;&amp;#x63D0;&amp;#x9AD8;&amp;#x4E86;&amp;#x7CFB;&amp;#x7EDF;&amp;#x7684;&amp;#x53EF;&amp;#x6269;&amp;#x5145;&amp;#x6027;&amp;#xFF0C;&amp;#x5728;&amp;#x4E24;&amp;#x4E2A;&amp;#x53D8;&amp;#x5316;&amp;#x7EF4;&amp;#x5EA6;&amp;#x4E2D;&amp;#x4EFB;&amp;#x610F;&amp;#x6269;&amp;#x5C55;&amp;#x4E00;&amp;#x4E2A;&amp;#x7EF4;&amp;#x5EA6;&amp;#xFF0C;&amp;#x90FD;&amp;#x4E0D;&amp;#x9700;&amp;#x8981;&amp;#x4FEE;&amp;#x6539;&amp;#x539F;&amp;#x6709;&amp;#x7CFB;&amp;#x7EDF;&lt;/p&gt;
</content>
    
    <summary type="html">
    
      &lt;h2 id=&quot;面向对象六大原则&quot;&gt;&lt;a href=&quot;#面向对象六大原则&quot; class=&quot;headerlink&quot; title=&quot;面向对象六大原则&quot;&gt;&lt;/a&gt;面向对象六大原则&lt;/h2&gt;&lt;ol&gt;
&lt;li&gt;Single Responsibility Principle&lt;/li&gt;
&lt;li&gt;Open Close Principle&lt;/li&gt;
&lt;li&gt;Liskov Substitution Principle&lt;/li&gt;
&lt;li&gt;Dependence Inversion Principle&lt;/li&gt;
&lt;li&gt;Interface Segregation Principle&lt;/li&gt;
&lt;li&gt;Law of Demeter&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id=&quot;《设计模式-可复用面向对象软件的基础》23种设计模式：&quot;&gt;&lt;a href=&quot;#《设计模式-可复用面向对象软件的基础》23种设计模式：&quot; class=&quot;headerlink&quot; title=&quot;《设计模式:可复用面向对象软件的基础》23种设计模式：&quot;&gt;&lt;/a&gt;《设计模式:可复用面向对象软件的基础》23种设计模式：&lt;/h2&gt;&lt;h2 id=&quot;创建型模式&quot;&gt;&lt;a href=&quot;#创建型模式&quot; class=&quot;headerlink&quot; title=&quot;创建型模式&quot;&gt;&lt;/a&gt;创建型模式&lt;/h2&gt;&lt;h3 id=&quot;单例模式-Singleton&quot;&gt;&lt;a href=&quot;#单例模式-Singleton&quot; class=&quot;headerlink&quot; title=&quot;单例模式(Singleton)&quot;&gt;&lt;/a&gt;单例模式(Singleton)&lt;/h3&gt;&lt;img src=&quot;/2017/04/05/design-pattern-note/pic_0.png&quot;&gt;
    
    </summary>
    
      <category term="读书笔记" scheme="http://yoursite.com/categories/%E8%AF%BB%E4%B9%A6%E7%AC%94%E8%AE%B0/"/>
    
    
      <category term="理论知识" scheme="http://yoursite.com/tags/%E7%90%86%E8%AE%BA%E7%9F%A5%E8%AF%86/"/>
    
  </entry>
  
  <entry>
    <title>读书笔记</title>
    <link href="http://yoursite.com/2017/03/14/read-note/"/>
    <id>http://yoursite.com/2017/03/14/read-note/</id>
    <published>2017-03-14T01:55:44.000Z</published>
    <updated>2017-04-05T13:54:09.000Z</updated>
    
    <content type="html">&lt;p&gt;&amp;#x8BB0;&amp;#x5F55;&amp;#x8BFB;&amp;#x4E66;&amp;#x8FC7;&amp;#x7A0B;&amp;#xFF0C;&amp;#x56DE;&amp;#x5FC6;&amp;#x611F;&amp;#x89E6;&amp;#x8BDD;&amp;#x8BED;&lt;/p&gt;
&lt;a id=&quot;more&quot;&gt;&lt;/a&gt;
&lt;h3 id=&quot;&amp;#x4E07;&amp;#x4E07;&amp;#x6CA1;&amp;#x60F3;&amp;#x5230;&amp;#x7528;&amp;#x7406;&amp;#x5DE5;&amp;#x79D1;&amp;#x601D;&amp;#x7EF4;&amp;#x7406;&amp;#x89E3;&amp;#x4E16;&amp;#x754C;2017-03-04&amp;#x5DF2;&amp;#x8BFB;&quot;&gt;&lt;a href=&quot;#&amp;#x4E07;&amp;#x4E07;&amp;#x6CA1;&amp;#x60F3;&amp;#x5230;&amp;#xFF1A;&amp;#x7528;&amp;#x7406;&amp;#x5DE5;&amp;#x79D1;&amp;#x601D;&amp;#x7EF4;&amp;#x7406;&amp;#x89E3;&amp;#x4E16;&amp;#x754C;-2017-03-04&amp;#x5DF2;&amp;#x8BFB;&quot; class=&quot;headerlink&quot; title=&quot;&amp;#x4E07;&amp;#x4E07;&amp;#x6CA1;&amp;#x60F3;&amp;#x5230;&amp;#xFF1A;&amp;#x7528;&amp;#x7406;&amp;#x5DE5;&amp;#x79D1;&amp;#x601D;&amp;#x7EF4;&amp;#x7406;&amp;#x89E3;&amp;#x4E16;&amp;#x754C;(2017-03-04&amp;#x5DF2;&amp;#x8BFB;)&quot;&gt;&lt;/a&gt;&amp;#x4E07;&amp;#x4E07;&amp;#x6CA1;&amp;#x60F3;&amp;#x5230;&amp;#xFF1A;&amp;#x7528;&amp;#x7406;&amp;#x5DE5;&amp;#x79D1;&amp;#x601D;&amp;#x7EF4;&amp;#x7406;&amp;#x89E3;&amp;#x4E16;&amp;#x754C;(2017-03-04&amp;#x5DF2;&amp;#x8BFB;)&lt;/h3&gt;&lt;img src=&quot;/2017/03/14/read-note/pic_0.jpg&quot;&gt;
&lt;ol&gt;
&lt;li&gt;&lt;p&gt;&amp;#x771F;&amp;#x6B63;&amp;#x7684;&amp;#x7EC3;&amp;#x4E60;&amp;#x4E0D;&amp;#x662F;&amp;#x4E3A;&amp;#x4E86;&amp;#x5B8C;&amp;#x6210;&amp;#x8FD0;&amp;#x52A8;&amp;#x91CF;&amp;#xFF0C;&amp;#x7EC3;&amp;#x4E60;&amp;#x7684;&amp;#x7CBE;&amp;#x9AD3;&amp;#x662F;&amp;#x8981;&amp;#x6301;&amp;#x7EED;&amp;#x5730;&amp;#x505A;&amp;#x81EA;&amp;#x5DF1;&amp;#x505A;&amp;#x4E0D;&amp;#x597D;&amp;#x7684;&amp;#x4E8B;&amp;#x3002;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;&amp;#x4E00;&amp;#x4E2A;&amp;#x771F;&amp;#x6B63;&amp;#x7684;&amp;#x667A;&amp;#x8005;&amp;#x4E0D;&amp;#x4F1A;&amp;#x8BA9;&amp;#x4E0A;&amp;#x7F51;&amp;#x5360;&amp;#x7528;&amp;#x8BFB;&amp;#x4E66;&amp;#x65F6;&amp;#x95F4;&amp;#xFF0C;&amp;#x4ED6;&amp;#x5E94;&amp;#x8BE5;&amp;#x7ECF;&amp;#x5E38;&amp;#x80FD;&amp;#x591F;&amp;#x5E73;&amp;#x9759;&amp;#x7684;&amp;#x6DF1;&amp;#x5165;&amp;#x601D;&amp;#x8003;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;&amp;#x8BFB;&amp;#x4E66;&amp;#x7684;&amp;#x76EE;&amp;#x7684;&amp;#x662F;&amp;#x83B7;&amp;#x5F97;&amp;#x89C1;&amp;#x8BC6;&amp;#x4EE5;&amp;#x53CA;&amp;#x5B66;&amp;#x4E60;&amp;#x9AD8;&amp;#x6C34;&amp;#x5E73;&amp;#x7684;&amp;#x601D;&amp;#x7EF4;&amp;#x65B9;&amp;#x6CD5;&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;h3 id=&quot;&amp;#x817E;&amp;#x8BAF;&amp;#x4F20;2017-03-20&amp;#x5DF2;&amp;#x8BFB;&quot;&gt;&lt;a href=&quot;#&amp;#x817E;&amp;#x8BAF;&amp;#x4F20;-2017-03-20&amp;#x5DF2;&amp;#x8BFB;&quot; class=&quot;headerlink&quot; title=&quot;&amp;#x817E;&amp;#x8BAF;&amp;#x4F20;(2017-03-20&amp;#x5DF2;&amp;#x8BFB;)&quot;&gt;&lt;/a&gt;&amp;#x817E;&amp;#x8BAF;&amp;#x4F20;(2017-03-20&amp;#x5DF2;&amp;#x8BFB;)&lt;/h3&gt;&lt;img src=&quot;/2017/03/14/read-note/pic_1.jpg&quot;&gt;
&lt;ol&gt;
&lt;li&gt;&lt;p&gt;&amp;#x9A6C;&amp;#x5316;&amp;#x817E;&amp;#x65E5;&amp;#x540E;&amp;#x5BF9;&amp;#x6211;&amp;#x8BF4;&amp;#xFF1A;&amp;#x201C;&amp;#x6211;&amp;#x4EEC;&amp;#x6700;&amp;#x7EC8;&amp;#x662F;&amp;#x9760;C&amp;#x6253;&amp;#x5929;&amp;#x4E0B;&amp;#x7684;&amp;#x3002;&amp;#x201D; (P10)&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;&amp;#x4EA7;&amp;#x54C1;&amp;#x89C2;(P223)&lt;/p&gt;
&lt;p&gt; a. &amp;#x4EFB;&amp;#x4F55;&amp;#x4EA7;&amp;#x54C1;&amp;#x90FD;&amp;#x6709;&amp;#x6838;&amp;#x5FC3;&amp;#x529F;&amp;#x80FD;&amp;#xFF0C;&amp;#x6838;&amp;#x5FC3;&amp;#x80FD;&amp;#x529B;&amp;#x8981;&amp;#x505A;&amp;#x5230;&amp;#x6781;&amp;#x81F4;&amp;#x3002;&lt;/p&gt;
&lt;p&gt; b. &amp;#x4EA7;&amp;#x54C1;&amp;#x53E3;&amp;#x7891;&amp;#x3002;&amp;#x6BCF;&amp;#x4E2A;&amp;#x529F;&amp;#x80FD;&amp;#x4E0D;&amp;#x4E00;&amp;#x5B9A;&amp;#x8981;&amp;#x7528;&amp;#x7684;&amp;#x591A;&amp;#x624D;&amp;#x662F;&amp;#x597D;&amp;#xFF0C;&amp;#x800C;&amp;#x662F;&amp;#x7528;&amp;#x4E86;&amp;#x7684;&amp;#x4EBA;&amp;#x90FD;&amp;#x89C9;&amp;#x5F97;&amp;#x597D;&amp;#x624D;&amp;#x662F;&amp;#x771F;&amp;#x6B63;&amp;#x7684;&amp;#x597D;&lt;/p&gt;
&lt;p&gt; c. &amp;#x8BBE;&amp;#x8BA1;&amp;#x4E0A;: &amp;#x4E0D;&amp;#x5F3A;&amp;#x8FEB;&amp;#x7528;&amp;#x6237;&amp;#xFF1B;&amp;#x4E0D;&amp;#x4E3A;1%&amp;#x7684;&amp;#x9700;&amp;#x6C42;&amp;#x9A9A;&amp;#x6270;99%&amp;#x7684;&amp;#x7528;&amp;#x6237;&amp;#xFF1B;&amp;#x6DE1;&amp;#x6DE1;&amp;#x7684;&amp;#x7F8E;&amp;#x672F;&amp;#xFF0C;&amp;#x70B9;&amp;#x5230;&amp;#x5373;&amp;#x6B62;&amp;#xFF1B;&amp;#x4E0D;&amp;#x80FD;&amp;#x523B;&amp;#x610F;&amp;#x5730;&amp;#x8FCE;&amp;#x5408;&amp;#x4F4E;&amp;#x9F84;&amp;#x5316;&lt;/p&gt;
&lt;p&gt; d. &amp;#x4EA7;&amp;#x54C1;&amp;#x6574;&amp;#x4F53;&amp;#x7B56;&amp;#x7565;: &amp;#x4EA4;&amp;#x4E92;&amp;#x529F;&amp;#x80FD;(Don&amp;#x2019;t make me think!)&amp;#xFF1B;&amp;#x7F8E;&amp;#x672F;&amp;#x5448;&amp;#x73B0;(&amp;#x5C3D;&amp;#x53EF;&amp;#x80FD;&amp;#x7B80;&amp;#x5355;)&amp;#xFF1B;&amp;#x4EA7;&amp;#x54C1;&amp;#x8BBE;&amp;#x8BA1;(&amp;#x8BA9;&amp;#x529F;&amp;#x80FD;&amp;#x5B58;&amp;#x5728;&amp;#x4E8E;&amp;#x65E0;&amp;#x5F62;&amp;#x4E4B;&amp;#x4E2D;)&amp;#xFF1B;&amp;#x8FD0;&amp;#x8425;&amp;#x8981;&amp;#x6C42;(&amp;#x4E0D;&amp;#x7A33;&amp;#x5B9A;&amp;#x4F1A;&amp;#x529F;&amp;#x4E8F;&amp;#x4E00;&amp;#x7BD1;!)&amp;#xFF1B;&amp;#x603B;&amp;#x4F53;&amp;#x8981;&amp;#x6C42;(&amp;#x5FEB;&amp;#x901F;&amp;#xFF0C;&amp;#x7A33;&amp;#x5B9A;&amp;#xFF0C;&amp;#x529F;&amp;#x80FD;&amp;#x5F3A;&amp;#xFF0C;&amp;#x4F53;&amp;#x9A8C;&amp;#x597D;&amp;#xFF01;)&amp;#xFF1B;&amp;#x53D1;&amp;#x73B0;&amp;#x9700;&amp;#x6C42;(&amp;#x52E4;&amp;#x770B;BBS&amp;#x548C;Blog)&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
</content>
    
    <summary type="html">
    
      &lt;p&gt;记录读书过程，回忆感触话语&lt;/p&gt;
    
    </summary>
    
      <category term="read-note" scheme="http://yoursite.com/categories/read-note/"/>
    
    
      <category term="读书笔记" scheme="http://yoursite.com/tags/%E8%AF%BB%E4%B9%A6%E7%AC%94%E8%AE%B0/"/>
    
  </entry>
  
  <entry>
    <title>greenDAO组件分析</title>
    <link href="http://yoursite.com/2017/03/13/greenDAO-analysis/"/>
    <id>http://yoursite.com/2017/03/13/greenDAO-analysis/</id>
    <published>2017-03-13T07:32:14.000Z</published>
    <updated>2017-03-13T07:48:49.000Z</updated>
    
    <content type="html">&lt;!-- toc --&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;#&amp;#x7B80;&amp;#x4ECB;&quot;&gt;&amp;#x7B80;&amp;#x4ECB;&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;#&amp;#x5EFA;&amp;#x6A21;&quot;&gt;&amp;#x5EFA;&amp;#x6A21;&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;#&amp;#x6838;&amp;#x5FC3;&amp;#x529F;&amp;#x80FD;&amp;#x5B9E;&amp;#x73B0;&quot;&gt;&amp;#x6838;&amp;#x5FC3;&amp;#x529F;&amp;#x80FD;&amp;#x5B9E;&amp;#x73B0;&lt;/a&gt;&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;#a-master&amp;#x7C7B;&quot;&gt;a. Master&amp;#x7C7B;&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;#b-daosession&amp;#x7C7B;&quot;&gt;b. DaoSession&amp;#x7C7B;&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;#c-&amp;#x76F8;&amp;#x5E94;java-pojo&amp;#x7684;dao&amp;#x5BF9;&amp;#x8C61;&quot;&gt;c. &amp;#x76F8;&amp;#x5E94;java POJO&amp;#x7684;Dao&amp;#x5BF9;&amp;#x8C61;&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;#d-java-pojo&amp;#x5BF9;&amp;#x8C61;&quot;&gt;d. java POJO&amp;#x5BF9;&amp;#x8C61;&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;#&amp;#x5176;&amp;#x4ED6;&amp;#x7EC6;&amp;#x8282;&quot;&gt;&amp;#x5176;&amp;#x4ED6;&amp;#x7EC6;&amp;#x8282;&lt;/a&gt;&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;#1-mn&amp;#x5173;&amp;#x7CFB;&quot;&gt;1. m:n&amp;#x5173;&amp;#x7CFB;&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;#2-&amp;#x67E5;&amp;#x8BE2;query&quot;&gt;2. &amp;#x67E5;&amp;#x8BE2;Query&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;#3-&amp;#x7EBF;&amp;#x7A0B;&amp;#x5B89;&amp;#x5168;&quot;&gt;3. &amp;#x7EBF;&amp;#x7A0B;&amp;#x5B89;&amp;#x5168;&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;#&amp;#x603B;&amp;#x7ED3;&quot;&gt;&amp;#x603B;&amp;#x7ED3;&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;#&amp;#x53C2;&amp;#x8003;&quot;&gt;&amp;#x53C2;&amp;#x8003;&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;!-- tocstop --&gt;
&lt;h2 id=&quot;&amp;#x7B80;&amp;#x4ECB;&quot;&gt;&lt;a href=&quot;#&amp;#x7B80;&amp;#x4ECB;&quot; class=&quot;headerlink&quot; title=&quot;&amp;#x7B80;&amp;#x4ECB;&quot;&gt;&lt;/a&gt;&amp;#x7B80;&amp;#x4ECB;&lt;/h2&gt;&lt;p&gt;greenDAO&amp;#x662F;&amp;#x4E00;&amp;#x4E2A;&amp;#x5F00;&amp;#x6E90;&amp;#x7684;&amp;#x9488;&amp;#x5BF9;Android SQLite&amp;#x6570;&amp;#x636E;&amp;#x5E93;&amp;#x7684;ORM&amp;#x7EC4;&amp;#x4EF6;&amp;#xFF0C;&amp;#x6839;&amp;#x636E;&amp;#x5B98;&amp;#x65B9;&amp;#x4FE1;&amp;#x606F;&amp;#xFF0C;&amp;#x5176;&amp;#x4E3B;&amp;#x8981;&amp;#x7279;&amp;#x70B9;&amp;#x6709;&amp;#x6027;&amp;#x80FD;&amp;#x597D;&amp;#xFF0C;&amp;#x5305;&amp;#x5C0F;(&amp;lt;100KB)&amp;#x7B49;&amp;#xFF0C;&amp;#x672C;&amp;#x6587;&amp;#x4E3B;&amp;#x8981;&amp;#x5206;&amp;#x6790;greenDAO&amp;#x8BBE;&amp;#x8BA1;&amp;#x539F;&amp;#x7406;&amp;#x548C;&amp;#x601D;&amp;#x60F3;&amp;#xFF0C;&amp;#x4E3A;&amp;#x4ECA;&amp;#x540E;&amp;#x6211;&amp;#x4EEC;&amp;#x81EA;&amp;#x5DF1;&amp;#x4F7F;&amp;#x7528;&amp;#x548C;&amp;#x5F00;&amp;#x53D1;ORM&amp;#x7EC4;&amp;#x4EF6;&amp;#x63D0;&amp;#x4F9B;&amp;#x6307;&amp;#x5BFC;&amp;#x3002;&lt;/p&gt;
&lt;h2 id=&quot;&amp;#x5EFA;&amp;#x6A21;&quot;&gt;&lt;a href=&quot;#&amp;#x5EFA;&amp;#x6A21;&quot; class=&quot;headerlink&quot; title=&quot;&amp;#x5EFA;&amp;#x6A21;&quot;&gt;&lt;/a&gt;&amp;#x5EFA;&amp;#x6A21;&lt;/h2&gt;&lt;p&gt;ORM&amp;#x7EC4;&amp;#x4EF6;&amp;#x53EF;&amp;#x4EE5;&amp;#x4F7F;&amp;#x6211;&amp;#x4EEC;&amp;#x6446;&amp;#x8131;&amp;#x67AF;&amp;#x71E5;&amp;#x7684;&amp;#x5404;&amp;#x79CD;SQL&amp;#x64CD;&amp;#x4F5C;&amp;#xFF0C;&amp;#x4F7F;&amp;#x6211;&amp;#x4EEC;&amp;#x4E13;&amp;#x5FC3;&amp;#x4E8E;&amp;#x5BF9;&amp;#x8C61;&amp;#x64CD;&amp;#x4F5C;&amp;#x3002;&amp;#x7B2C;&amp;#x4E00;&amp;#x6B65;&amp;#x5C31;&amp;#x662F;&amp;#x5982;&amp;#x4F55;&amp;#x8FDB;&amp;#x884C;&amp;#x5EFA;&amp;#x6A21;&amp;#xFF0C;&amp;#x5047;&amp;#x8BBE;&amp;#x6211;&amp;#x4EEC;&amp;#x9700;&amp;#x8981;&amp;#x521B;&amp;#x5EFA;&amp;#x5982;&amp;#x4E0B;&amp;#x6570;&amp;#x636E;&amp;#x5E93;:&lt;/p&gt;
&lt;img src=&quot;/2017/03/13/greenDAO-analysis/db.png&quot;&gt;
&lt;p&gt;&amp;#x6309;&amp;#x7167;greenDAO&amp;#x89C4;&amp;#x8303;&amp;#xFF0C;&amp;#x6211;&amp;#x4EEC;&amp;#x9700;&amp;#x8981;&amp;#x6839;&amp;#x636E;&amp;#x6570;&amp;#x636E;&amp;#x5E93;schema&amp;#x521B;&amp;#x5EFA;&amp;#x5982;&amp;#x4E0B;&amp;#x4E24;&amp;#x4E2A;&amp;#x5B9E;&amp;#x4F53;&amp;#x7C7B;:&lt;br&gt;&lt;a id=&quot;more&quot;&gt;&lt;/a&gt;&lt;/p&gt;
&lt;figure class=&quot;highlight java&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;12&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;13&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;14&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;15&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;16&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;17&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;18&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;19&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;20&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;21&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;22&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;23&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;24&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;25&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;26&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;27&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;meta&quot;&gt;@Entity&lt;/span&gt;(active = &lt;span class=&quot;keyword&quot;&gt;true&lt;/span&gt;, nameInDb = &lt;span class=&quot;string&quot;&gt;&amp;quot;USER&amp;quot;&lt;/span&gt;)&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;class&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;User&lt;/span&gt; &lt;/span&gt;{&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;meta&quot;&gt;@Id&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;private&lt;/span&gt; Long id; &lt;span class=&quot;comment&quot;&gt;// Long&amp;#x8868;&amp;#x793A;&amp;#x8BE5;&amp;#x503C;&amp;#x53EF;&amp;#x4EE5;&amp;#x521D;&amp;#x59CB;&amp;#x4E3A;&amp;#x7A7A;&amp;#xFF0C;&amp;#x7531;&amp;#x6570;&amp;#x636E;&amp;#x5E93;&amp;#x751F;&amp;#x6210;&amp;#xFF1B;long&amp;#x8868;&amp;#x793A;&amp;#x5F00;&amp;#x53D1;&amp;#x8005;&amp;#x6307;&amp;#x5B9A;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;meta&quot;&gt;@Property&lt;/span&gt;(nameInDb = &lt;span class=&quot;string&quot;&gt;&amp;quot;USER_NAME&amp;quot;&lt;/span&gt;)&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;meta&quot;&gt;@NotNull&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;private&lt;/span&gt; String name;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;}&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;meta&quot;&gt;@Entity&lt;/span&gt;(active = &lt;span class=&quot;keyword&quot;&gt;true&lt;/span&gt;, nameInDb = &lt;span class=&quot;string&quot;&gt;&amp;quot;DIALOG&amp;quot;&lt;/span&gt;)&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;class&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;Dialog&lt;/span&gt; &lt;/span&gt;{&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;meta&quot;&gt;@Id&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;private&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;long&lt;/span&gt; id;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;meta&quot;&gt;@Property&lt;/span&gt;(nameInDb = &lt;span class=&quot;string&quot;&gt;&amp;quot;DIALOG_ID&amp;quot;&lt;/span&gt;)&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;meta&quot;&gt;@NotNull&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;private&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;long&lt;/span&gt; dialogId;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;meta&quot;&gt;@Property&lt;/span&gt;(nameInDb = &lt;span class=&quot;string&quot;&gt;&amp;quot;USER_ID&amp;quot;&lt;/span&gt;)&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;meta&quot;&gt;@NotNull&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;private&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;long&lt;/span&gt; userId;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;meta&quot;&gt;@ToOne&lt;/span&gt;(joinProperty = &lt;span class=&quot;string&quot;&gt;&amp;quot;userId&amp;quot;&lt;/span&gt;)&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;private&lt;/span&gt; User user;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;}&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;&amp;#x7531;&amp;#x6B64;&amp;#x6211;&amp;#x4EEC;&amp;#x53D1;&amp;#x73B0;&amp;#x5176;&amp;#x8BBE;&amp;#x8BA1;&amp;#x7406;&amp;#x5FF5;&amp;#xFF1A;&amp;#x901A;&amp;#x8FC7;java POJO&amp;#x5BF9;&amp;#x8C61;&amp;#x6784;&amp;#x5EFA;&amp;#x5173;&amp;#x7CFB;&amp;#x6570;&amp;#x636E;&amp;#x5E93;&amp;#x8868;&amp;#x7684;&amp;#x6982;&amp;#x5FF5;&amp;#xFF0C;&amp;#x6BCF;&amp;#x4E2A;&amp;#x7C7B;&amp;#x4EE3;&amp;#x8868;&amp;#x4E00;&amp;#x5F20;&amp;#x8868;&amp;#xFF0C;&amp;#x6210;&amp;#x5458;&amp;#x53D8;&amp;#x91CF;&amp;#x8868;&amp;#x793A;Column&amp;#xFF0C;&amp;#x6BCF;&amp;#x4E2A;&amp;#x5B9E;&amp;#x4F8B;&amp;#x5BF9;&amp;#x8C61;&amp;#x8868;&amp;#x793A;Row&amp;#xFF0C;&amp;#x8F85;&amp;#x52A9;&amp;#x4E00;&amp;#x4E9B;&amp;#x81EA;&amp;#x5B9A;&amp;#x4E49;&amp;#x6CE8;&amp;#x89E3;&amp;#x6765;&amp;#x5B9A;&amp;#x4E49;Column&amp;#x3002;&amp;#x6211;&amp;#x4EEC;&amp;#x53EA;&amp;#x9700;&amp;#x8981;&amp;#x5B9A;&amp;#x4E49;java POJO&amp;#x5C31;&amp;#x53EF;&amp;#x4EE5;&amp;#x5B9A;&amp;#x4E49;&amp;#x6570;&amp;#x636E;&amp;#x5E93;&amp;#xFF0C;&amp;#x5728;greendao-api&amp;#x6587;&amp;#x4EF6;&amp;#x5939;&amp;#x4E0B;&amp;#x5B9A;&amp;#x4E49;&amp;#x4E86;&amp;#x5F53;&amp;#x524D;&amp;#x6240;&amp;#x6709;&amp;#x5BF9;&amp;#x6570;&amp;#x636E;&amp;#x5E93;&amp;#x5B9A;&amp;#x4E49;&amp;#x7684;&amp;#x6CE8;&amp;#x89E3;&amp;#xFF0C;&amp;#x57FA;&amp;#x672C;&amp;#x4E0A;&amp;#x80FD;&amp;#x6EE1;&amp;#x8DB3;&amp;#x6B63;&amp;#x5E38;&amp;#x4F7F;&amp;#x7528;&amp;#xFF0C;&amp;#x5176;&amp;#x8868;&amp;#x73B0;&amp;#x529B;&amp;#x662F;&amp;#x53EF;&amp;#x4EE5;&amp;#x7684;&amp;#x3002;&amp;#x4E0B;&amp;#x8868;&amp;#x5C55;&amp;#x793A;&amp;#x5E38;&amp;#x7528;&amp;#x6CE8;&amp;#x89E3;&amp;#x548C;&amp;#x89E3;&amp;#x91CA;&amp;#xFF1A;&lt;/p&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th style=&quot;text-align:left&quot;&gt;annotation&lt;/th&gt;
&lt;th style=&quot;text-align:left&quot;&gt;&amp;#x89E3;&amp;#x91CA;&lt;/th&gt;
&lt;th style=&quot;text-align:left&quot;&gt;&amp;#x5C5E;&amp;#x6027;&amp;#x503C;&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td style=&quot;text-align:left&quot;&gt;&lt;code&gt;@Entity&lt;/code&gt;&lt;/td&gt;
&lt;td style=&quot;text-align:left&quot;&gt;&amp;#x8868;&amp;#x7684;&amp;#x76F8;&amp;#x5173;&amp;#x5B9A;&amp;#x4E49;&lt;/td&gt;
&lt;td style=&quot;text-align:left&quot;&gt;nameInDb:&amp;#x8868;&amp;#x540D;&lt;br&gt;indexes:&amp;#x7EC4;&amp;#x5408;&amp;#x7D22;&amp;#x5F15;&lt;br&gt;createInDB:&amp;#x662F;&amp;#x5426;&amp;#x5728;&amp;#x6570;&amp;#x636E;&amp;#x5E93;&amp;#x521B;&amp;#x5EFA;&amp;#x5BF9;&amp;#x5E94;&amp;#x7269;&amp;#x7406;&amp;#x8868;&lt;br&gt;schema:&amp;#x5C5E;&amp;#x4E8E;&amp;#x54EA;&amp;#x4E2A;schema&lt;br&gt;active:update/delete/refresh&amp;#x65B9;&amp;#x6CD5;&amp;#x662F;&amp;#x5426;&amp;#x751F;&amp;#x6210;&lt;br&gt;generateGettersSetters:&amp;#x662F;&amp;#x5426;&amp;#x751F;&amp;#x6210;getter/setter&lt;br&gt;generateConstructors:&amp;#x662F;&amp;#x5426;&amp;#x751F;&amp;#x6210;&amp;#x6240;&amp;#x6709;&amp;#x5C5E;&amp;#x6027;&amp;#x7684;&amp;#x6784;&amp;#x9020;&amp;#x65B9;&amp;#x6CD5;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&quot;text-align:left&quot;&gt;&lt;code&gt;@Property&lt;/code&gt;&lt;/td&gt;
&lt;td style=&quot;text-align:left&quot;&gt;&amp;#x8868;&amp;#x7684;&amp;#x5217;&lt;/td&gt;
&lt;td style=&quot;text-align:left&quot;&gt;nameInDb:&amp;#x5217;&amp;#x540D;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&quot;text-align:left&quot;&gt;&lt;code&gt;@Id&lt;/code&gt;&lt;/td&gt;
&lt;td style=&quot;text-align:left&quot;&gt;&amp;#x4E3B;&amp;#x952E;&amp;#x58F0;&amp;#x660E;&lt;/td&gt;
&lt;td style=&quot;text-align:left&quot;&gt;autoincrement:&amp;#x662F;&amp;#x5426;&amp;#x81EA;&amp;#x589E;&amp;#xFF0C;&amp;#x6839;&amp;#x636E;sqlite3 ROWID&amp;#x7279;&amp;#x70B9;&amp;#xFF0C;&amp;#x5EFA;&amp;#x8BAE;False&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&quot;text-align:left&quot;&gt;&lt;code&gt;@Index&lt;/code&gt;&lt;/td&gt;
&lt;td style=&quot;text-align:left&quot;&gt;&amp;#x5217;&amp;#x7684;&amp;#x7D22;&amp;#x5F15;&lt;/td&gt;
&lt;td style=&quot;text-align:left&quot;&gt;name:&amp;#x540D;&amp;#x5B57;&lt;br&gt;unique:&amp;#x662F;&amp;#x5426;&amp;#x552F;&amp;#x4E00;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&quot;text-align:left&quot;&gt;&lt;code&gt;@Unique&lt;/code&gt;&lt;br&gt;&lt;code&gt;@NotNull&lt;/code&gt;&lt;/td&gt;
&lt;td style=&quot;text-align:left&quot;&gt;SQLite&amp;#x7EA6;&amp;#x675F;&lt;/td&gt;
&lt;td style=&quot;text-align:left&quot;&gt;UNIQUE&amp;#x7EA6;&amp;#x675F;&lt;br&gt;NOT NULL&amp;#x7EA6;&amp;#x675F;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&quot;text-align:left&quot;&gt;&lt;code&gt;@ToOne&lt;/code&gt;&lt;/td&gt;
&lt;td style=&quot;text-align:left&quot;&gt;&amp;#x4E00;&amp;#x5BF9;&amp;#x4E00;&amp;#x5173;&amp;#x7CFB;&lt;/td&gt;
&lt;td style=&quot;text-align:left&quot;&gt;joinProperty:&amp;#x6307;&amp;#x5B9A;&amp;#x5916;&amp;#x952E;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&quot;text-align:left&quot;&gt;&lt;code&gt;@ToMany&lt;/code&gt;&lt;/td&gt;
&lt;td style=&quot;text-align:left&quot;&gt;&amp;#x4E00;&amp;#x5BF9;&amp;#x591A;&amp;#x5173;&amp;#x7CFB;&lt;/td&gt;
&lt;td style=&quot;text-align:left&quot;&gt;referencedJoinProperty/joinProperties(&amp;#x6839;&amp;#x636E;&amp;#x662F;&amp;#x4E0D;&amp;#x662F;&amp;#x5916;&amp;#x952E;)&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&quot;text-align:left&quot;&gt;&lt;code&gt;@JoinEntity&lt;/code&gt;&lt;/td&gt;
&lt;td style=&quot;text-align:left&quot;&gt;&amp;#x591A;&amp;#x5BF9;&amp;#x591A;&amp;#x5173;&amp;#x7CFB;&lt;/td&gt;
&lt;td style=&quot;text-align:left&quot;&gt;entity/sourceProperty/targetProperty&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;h2 id=&quot;&amp;#x6838;&amp;#x5FC3;&amp;#x529F;&amp;#x80FD;&amp;#x5B9E;&amp;#x73B0;&quot;&gt;&lt;a href=&quot;#&amp;#x6838;&amp;#x5FC3;&amp;#x529F;&amp;#x80FD;&amp;#x5B9E;&amp;#x73B0;&quot; class=&quot;headerlink&quot; title=&quot;&amp;#x6838;&amp;#x5FC3;&amp;#x529F;&amp;#x80FD;&amp;#x5B9E;&amp;#x73B0;&quot;&gt;&lt;/a&gt;&amp;#x6838;&amp;#x5FC3;&amp;#x529F;&amp;#x80FD;&amp;#x5B9E;&amp;#x73B0;&lt;/h2&gt;&lt;p&gt;&amp;#x5EFA;&amp;#x6A21;&amp;#x5B8C;&amp;#x6210;&amp;#x540E;&amp;#x6211;&amp;#x4EEC;&amp;#x67E5;&amp;#x770B;&amp;#x5176;&amp;#x4EE3;&amp;#x7801;&amp;#x751F;&amp;#x6210;&amp;#x8FC7;&amp;#x7A0B;&amp;#xFF0C;&amp;#x5982;&amp;#x4E0B;&amp;#x56FE;&amp;#xFF1A;&lt;/p&gt;
&lt;img src=&quot;/2017/03/13/greenDAO-analysis/db-gen.png&quot;&gt;
&lt;p&gt;&amp;#x4F7F;&amp;#x7528;APT&amp;#x5DE5;&amp;#x5177;&amp;#x6839;&amp;#x636E;&amp;#x4E0A;&amp;#x8FF0;java POJO&amp;#x7C7B;&amp;#xFF0C;&amp;#x7ED3;&amp;#x5408;&amp;#x4E00;&amp;#x4E9B;Freemarker&amp;#x6A21;&amp;#x677F;&amp;#x751F;&amp;#x6210;&amp;#x65B0;&amp;#x7684;java POJO&amp;#xFF0C;&amp;#x5BF9;&amp;#x5E94;&amp;#x7684;DAO&amp;#x7C7B;&amp;#xFF0C;&amp;#x7BA1;&amp;#x7406;DAO&amp;#x7C7B;&amp;#x7684;DaoSession&amp;#xFF0C;&amp;#x4EE5;&amp;#x53CA;&amp;#x7BA1;&amp;#x7406;&amp;#x6570;&amp;#x636E;&amp;#x5E93;&amp;#x548C;&amp;#x751F;&amp;#x6210;DaoSession&amp;#x7684;DaoMaster&amp;#x3002;&amp;#x76F8;&amp;#x6BD4;&amp;#x5176;&amp;#x4ED6;&amp;#x5E02;&amp;#x9762;&amp;#x4E0A;&amp;#x7EAF;Java&amp;#x7684;ORM&amp;#x7EC4;&amp;#x4EF6;&amp;#xFF0C;&amp;#x5176;&amp;#x6700;&amp;#x5927;&amp;#x7279;&amp;#x8272;&amp;#x662F;&amp;#x4F7F;&amp;#x7528;APT&amp;#x5728;&amp;#x7F16;&amp;#x8BD1;&amp;#x671F;&amp;#x95F4;&amp;#x5C06;DAO&amp;#x7C7B;&amp;#x90FD;&amp;#x751F;&amp;#x6210;&amp;#x5B8C;&amp;#x6BD5;&amp;#xFF0C;&amp;#x4E0D;&amp;#x9700;&amp;#x8981;&amp;#x5728;&amp;#x8FD0;&amp;#x884C;&amp;#x671F;&amp;#x95F4;&amp;#x52A8;&amp;#x6001;&amp;#x751F;&amp;#x6210;SQL&amp;#x8BED;&amp;#x53E5;&amp;#xFF0C;&amp;#x56E0;&amp;#x4E3A;&amp;#x5176;&amp;#x4ED6;&amp;#x7EC4;&amp;#x4EF6;&amp;#x901A;&amp;#x5E38;&amp;#x4F7F;&amp;#x7528;&amp;#x6CE8;&amp;#x89E3;&amp;#x5728;&amp;#x8FD0;&amp;#x884C;&amp;#x671F;&amp;#x95F4;&amp;#x901A;&amp;#x8FC7;&amp;#x53CD;&amp;#x5C04;&amp;#x751F;&amp;#x6210;SQL&amp;#x8BED;&amp;#x53E5;&amp;#xFF0C;&amp;#x8FD9;&amp;#x6837;&amp;#x6548;&amp;#x7387;&amp;#x63D0;&amp;#x5347;&amp;#x4E0D;&amp;#x5C11;&amp;#x3002;&lt;/p&gt;
&lt;p&gt;&amp;#x7531;&amp;#x4E8E;&amp;#x5B98;&amp;#x65B9;GitHub&amp;#x4E2D;&amp;#x5E76;&amp;#x6CA1;&amp;#x6709;&amp;#x628A;&amp;#x4F7F;&amp;#x7528;&amp;#x7684;&amp;#x6CE8;&amp;#x89E3;&amp;#x5904;&amp;#x7406;&amp;#x5668;&amp;#x5F00;&amp;#x6E90;&amp;#xFF0C;&amp;#x800C;&amp;#x4E14;&amp;#x672C;&amp;#x6587;&amp;#x4E3B;&amp;#x8981;&amp;#x8BA8;&amp;#x8BBA;greenDAO&amp;#x8BBE;&amp;#x8BA1;ORM&amp;#x6846;&amp;#x67B6;&amp;#x7684;&amp;#x601D;&amp;#x60F3;&amp;#xFF0C;&amp;#x6240;&amp;#x4EE5;&amp;#x6211;&amp;#x4EEC;&amp;#x5173;&amp;#x6CE8;&amp;#x751F;&amp;#x6210;&amp;#x7C7B;&amp;#x548C;&amp;#x7EC4;&amp;#x4EF6;&amp;#x6E90;&amp;#x7801;&amp;#x4E2D;&amp;#x7684;&amp;#x8BBE;&amp;#x8BA1;&amp;#x601D;&amp;#x60F3;&amp;#x3002;&amp;#x53EF;&amp;#x4EE5;&amp;#x8BA4;&amp;#x4E3A;&amp;#x901A;&amp;#x8FC7;APT&amp;#x5904;&amp;#x7406;&amp;#x540E;&amp;#xFF0C;&amp;#x6BCF;&amp;#x4E2A;java POJO&amp;#x4F1A;&amp;#x751F;&amp;#x6210;&amp;#x4E00;&amp;#x4E2A;&amp;#x5305;&amp;#x542B;&amp;#x5176;&amp;#x5143;&amp;#x6570;&amp;#x636E;&amp;#x7684;Entity&amp;#x7C7B;&amp;#xFF0C;&amp;#x63A5;&amp;#x7740;&amp;#x901A;&amp;#x8FC7;&amp;#x6E90;&amp;#x7801;&amp;#x4E2D;DaoGenerator&amp;#x5DE5;&amp;#x7A0B;&amp;#x751F;&amp;#x6210;&amp;#x4E0A;&amp;#x8FF0;app&amp;#x5DE5;&amp;#x7A0B;&amp;#x9700;&amp;#x8981;&amp;#x7684;&amp;#x7C7B;&amp;#x3002;&lt;/p&gt;
&lt;h3 id=&quot;a-master&amp;#x7C7B;&quot;&gt;&lt;a href=&quot;#a-Master&amp;#x7C7B;&quot; class=&quot;headerlink&quot; title=&quot;a. Master&amp;#x7C7B;&quot;&gt;&lt;/a&gt;a. Master&amp;#x7C7B;&lt;/h3&gt;&lt;p&gt;&amp;#x7EE7;&amp;#x627F;AbstractDaoMaster&amp;#xFF0C;&amp;#x4E3B;&amp;#x8981;&amp;#x529F;&amp;#x80FD;&amp;#x6709;&amp;#xFF1A;&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;&lt;p&gt;&amp;#x7BA1;&amp;#x7406;&amp;#x7CFB;&amp;#x7EDF;&amp;#x63D0;&amp;#x4F9B;&amp;#x7684;&amp;#x6570;&amp;#x636E;&amp;#x5E93;&amp;#x5BF9;&amp;#x8C61;SQLiteDatabase(greenDAO&amp;#x4E3A;&amp;#x652F;&amp;#x6301;&amp;#x52A0;&amp;#x5BC6;&amp;#x6570;&amp;#x636E;&amp;#x5E93;&amp;#x589E;&amp;#x52A0;&amp;#x4E86;&amp;#x4E00;&amp;#x5C42;&amp;#x4EE3;&amp;#x7406;)&amp;#xFF0C;&amp;#x5185;&amp;#x90E8;&amp;#x63D0;&amp;#x4F9B;SQLiteOpenHelper&amp;#x9ED8;&amp;#x8BA4;&amp;#x5B9E;&amp;#x73B0;&amp;#xFF0C;&amp;#x6211;&amp;#x4EEC;&amp;#x4E5F;&amp;#x53EF;&amp;#x4EE5;&amp;#x81EA;&amp;#x5B9A;&amp;#x4E49;&amp;#x5B9E;&amp;#x73B0;SQLiteOpenHelper&amp;#x5F53;&amp;#x505A;&amp;#x6784;&amp;#x9020;&amp;#x53C2;&amp;#x6570;&amp;#x4F20;&amp;#x5165;&amp;#x3002;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;&amp;#x751F;&amp;#x6210;DaoSession&amp;#xFF1A;&lt;code&gt;#newSession()&lt;/code&gt;&amp;#x548C;&lt;code&gt;#newSession(IdentityScopeType)&lt;/code&gt;&amp;#xFF0C;&amp;#x8FD9;&amp;#x5F88;&amp;#x7C7B;&amp;#x4F3C;&amp;#x7F51;&amp;#x7EDC;&amp;#x9886;&amp;#x57DF;&amp;#x4E2D;&amp;#x4F1A;&amp;#x8BDD;&amp;#x6982;&amp;#x5FF5;&amp;#xFF0C;&amp;#x4E3B;&amp;#x8981;&amp;#x601D;&amp;#x60F3;&amp;#x662F;&amp;#xFF1A;&amp;#x5BF9;&amp;#x4E00;&amp;#x4E2A;session&amp;#x4E2D;&amp;#x8FDB;&amp;#x884C;&amp;#x67E5;&amp;#x8BE2;&amp;#x7684;&amp;#x5BF9;&amp;#x8C61;&amp;#x8FDB;&amp;#x884C;&amp;#x7F13;&amp;#x5B58;&amp;#xFF0C;&amp;#x5982;&amp;#x679C;&amp;#x518D;&amp;#x6B21;&amp;#x83B7;&amp;#x53D6;&amp;#x76F8;&amp;#x540C;&amp;#x5BF9;&amp;#x8C61;(&amp;#x901A;&amp;#x5E38;&amp;#x6839;&amp;#x636E;&amp;#x4E3B;&amp;#x952E;&amp;#x5224;&amp;#x65AD;)&amp;#x53EF;&amp;#x4EE5;&amp;#x8282;&amp;#x7701;&amp;#x6784;&amp;#x5EFA;&amp;#x5BF9;&amp;#x8C61;&amp;#x8FC7;&amp;#x7A0B;&amp;#xFF0C;&amp;#x5F53;&amp;#x7136;&amp;#x8C03;&amp;#x7528;&amp;#x8005;&amp;#x53EF;&amp;#x4EE5;&amp;#x5173;&amp;#x95ED;&amp;#x7F13;&amp;#x5B58;&amp;#x529F;&amp;#x80FD;&amp;#x3002;&amp;#x8FD9;&amp;#x79CD;&amp;#x7F13;&amp;#x5B58;&amp;#x529F;&amp;#x80FD;&amp;#x5E26;&amp;#x6765;&amp;#x6548;&amp;#x7387;&amp;#x63D0;&amp;#x5347;&amp;#xFF0C;&amp;#x540C;&amp;#x65F6;&amp;#x4E5F;&amp;#x4F1A;&amp;#x9762;&amp;#x4E34;&amp;#x7F13;&amp;#x5B58;&amp;#x4E0E;&amp;#x6570;&amp;#x636E;&amp;#x5E93;&amp;#x6570;&amp;#x636E;&amp;#x4E0D;&amp;#x4E00;&amp;#x81F4;&amp;#x7684;&amp;#x60C5;&amp;#x51B5;&amp;#x3002;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;&amp;#x6784;&amp;#x9020;&amp;#x65B9;&amp;#x6CD5;&amp;#x4E2D;&amp;#x8C03;&amp;#x7528;#registerDaoClass(Class&amp;lt;? extends AbstractDao&amp;lt;?, ?&amp;gt;&amp;gt; daoClass)&amp;#xFF0C;&amp;#x521D;&amp;#x59CB;&amp;#x5316;&amp;#x6BCF;&amp;#x4E2A;DAO&amp;#x7C7B;&amp;#x7684;DaoConfig&amp;#x5BF9;&amp;#x8C61;&amp;#x3002;DaoConfig&amp;#x7C7B;&amp;#x662F;&amp;#x5305;&amp;#x542B;java Bean&amp;#x5143;&amp;#x6570;&amp;#x636E;&amp;#x7684;&amp;#x6570;&amp;#x636E;&amp;#x7ED3;&amp;#x6784;&amp;#xFF0C;&amp;#x5305;&amp;#x62EC;&amp;#x8868;&amp;#x540D;&amp;#xFF0C;&amp;#x5217;&amp;#x540D;&amp;#xFF0C;&amp;#x4E3B;&amp;#x952E;&amp;#x7B49;&amp;#x7B49;&amp;#xFF0C;&amp;#x901A;&amp;#x8FC7;&amp;#x8BFB;&amp;#x53D6;&amp;#x6BCF;&amp;#x4E2A;DAO&amp;#x7C7B;&amp;#x7684;&amp;#x6210;&amp;#x5458;&amp;#x53D8;&amp;#x91CF;TABLENAME&amp;#x548C;&amp;#x5185;&amp;#x90E8;&amp;#x7C7B;Properties&amp;#x5C31;&amp;#x53EF;&amp;#x53D6;&amp;#x5230;&amp;#x3002;&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&amp;#x4E00;&amp;#x4E2A;Master&amp;#x5BF9;&amp;#x8C61;&amp;#x5BF9;&amp;#x5E94;&amp;#x4E00;&amp;#x4E2A;&amp;#x6570;&amp;#x636E;&amp;#x5E93;&amp;#x8FDE;&amp;#x63A5;&amp;#xFF0C;&amp;#x6240;&amp;#x4EE5;&amp;#x901A;&amp;#x5E38;&amp;#x6574;&amp;#x4E2A;app&amp;#x53EA;&amp;#x9700;&amp;#x6784;&amp;#x5EFA;&amp;#x4E00;&amp;#x4E2A;Master&amp;#x3002;&lt;/p&gt;
&lt;h3 id=&quot;b-daosession&amp;#x7C7B;&quot;&gt;&lt;a href=&quot;#b-DaoSession&amp;#x7C7B;&quot; class=&quot;headerlink&quot; title=&quot;b. DaoSession&amp;#x7C7B;&quot;&gt;&lt;/a&gt;b. DaoSession&amp;#x7C7B;&lt;/h3&gt;&lt;p&gt;&amp;#x8868;&amp;#x793A;&amp;#x4E00;&amp;#x6B21;&amp;#x4E0E;&amp;#x6570;&amp;#x636E;&amp;#x5E93;&amp;#x64CD;&amp;#x4F5C;&amp;#x7684;&amp;#x4F1A;&amp;#x8BDD;&amp;#xFF0C;session&amp;#x5B58;&amp;#x5728;&amp;#x5C31;&amp;#x662F;&amp;#x4E3A;&amp;#x4E86;&amp;#x51CF;&amp;#x5C11;&amp;#x5728;&amp;#x5185;&amp;#x5B58;&amp;#x4E2D;&amp;#x6784;&amp;#x5EFA;&amp;#x5BF9;&amp;#x8C61;&amp;#x6B21;&amp;#x6570;&amp;#x3002;&amp;#x7EE7;&amp;#x627F;AbstractDaoSession&amp;#xFF0C;&amp;#x4E3B;&amp;#x8981;&amp;#x4F5C;&amp;#x7528;&amp;#x6709;:&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;&lt;p&gt;&amp;#x521D;&amp;#x59CB;&amp;#x5316;&amp;#x6240;&amp;#x6709;DAO&amp;#x5BF9;&amp;#x8C61;&amp;#x5E76;&amp;#x63D0;&amp;#x4F9B;get&amp;#x65B9;&amp;#x6CD5;&amp;#xFF0C;&amp;#x5BF9;&amp;#x6240;&amp;#x6709;DAO&amp;#x5BF9;&amp;#x8C61;&amp;#x8FDB;&amp;#x884C;&amp;#x7BA1;&amp;#x7406;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;&amp;#x6BCF;&amp;#x4E2A;DAO&amp;#x5BF9;&amp;#x8C61;&amp;#x901A;&amp;#x8FC7;&amp;#x5BF9;&amp;#x5E94;DaoConfig&amp;#x7C7B;&amp;#x8FDB;&amp;#x884C;&amp;#x521D;&amp;#x59CB;&amp;#x5316;&amp;#xFF0C;&amp;#x6BCF;&amp;#x4E2A;DaoConfig#IdentityScope&amp;#x4F5C;&amp;#x4E3A;&amp;#x5BF9;&amp;#x5E94;&amp;#x5B9E;&amp;#x4F53;&amp;#x5BF9;&amp;#x8C61;&amp;#x7684;&amp;#x7F13;&amp;#x5B58;&amp;#xFF0C;&amp;#x7531;DaoSession#clear()&amp;#x8D1F;&amp;#x8D23;&amp;#x6E05;&amp;#x7A7A;&amp;#xFF1B;&amp;#x6BCF;&amp;#x4E2A;DaoSession&amp;#x521B;&amp;#x5EFA;&amp;#x5BF9;&amp;#x5E94;DAO&amp;#x5BF9;&amp;#x8C61;&amp;#x65F6;&amp;#x4F1A;&amp;#x514B;&amp;#x9686;&amp;#x4E00;&amp;#x4EFD;DaoConfig&amp;#x5BF9;&amp;#x8C61;&amp;#xFF0C;&amp;#x4ECE;&amp;#x800C;&amp;#x4FDD;&amp;#x8BC1;&amp;#x6BCF;&amp;#x4E2A;session&amp;#x7F13;&amp;#x5B58;&amp;#x81EA;&amp;#x8EAB;&amp;#x7684;&amp;#x6570;&amp;#x636E;&amp;#x3002;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;&amp;#x63D0;&amp;#x4F9B;&amp;#x591A;&amp;#x4E2A;DAO&amp;#x4E4B;&amp;#x95F4;&amp;#x7684;&amp;#x4E8B;&amp;#x52A1;&amp;#x64CD;&amp;#x4F5C;&amp;#xFF0C;&amp;#x56E0;&amp;#x4E3A;&amp;#x5355;&amp;#x4E2A;DAO&amp;#x5BF9;&amp;#x8C61;&amp;#x53EA;&amp;#x80FD;&amp;#x9488;&amp;#x5BF9;&amp;#x5355;&amp;#x4E2A;&amp;#x8868;&amp;#x8FDB;&amp;#x884C;&amp;#x4E8B;&amp;#x52A1;&amp;#x64CD;&amp;#x4F5C;&amp;#x3002;&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&amp;#x6839;&amp;#x636E;app&amp;#x4E1A;&amp;#x52A1;&amp;#x53EF;&amp;#x4EE5;&amp;#x9009;&amp;#x62E9;&amp;#x591A;&amp;#x4E2A;session&amp;#x6216;&amp;#x8005;&amp;#x5355;&amp;#x4E2A;session&amp;#xFF0C;session&amp;#x9700;&amp;#x8981;&amp;#x7F13;&amp;#x5B58;&amp;#x8FD8;&amp;#x662F;&amp;#x4E0D;&amp;#x9700;&amp;#x8981;&amp;#x7F13;&amp;#x5B58;&amp;#x3002;&lt;/p&gt;
&lt;h3 id=&quot;c-&amp;#x76F8;&amp;#x5E94;java-pojo&amp;#x7684;dao&amp;#x5BF9;&amp;#x8C61;&quot;&gt;&lt;a href=&quot;#c-&amp;#x76F8;&amp;#x5E94;java-POJO&amp;#x7684;Dao&amp;#x5BF9;&amp;#x8C61;&quot; class=&quot;headerlink&quot; title=&quot;c. &amp;#x76F8;&amp;#x5E94;java POJO&amp;#x7684;Dao&amp;#x5BF9;&amp;#x8C61;&quot;&gt;&lt;/a&gt;c. &amp;#x76F8;&amp;#x5E94;java POJO&amp;#x7684;Dao&amp;#x5BF9;&amp;#x8C61;&lt;/h3&gt;&lt;p&gt;&amp;#x8868;&amp;#x793A;&amp;#x6570;&amp;#x636E;&amp;#x5E93;&amp;#x4E2D;&amp;#x4E00;&amp;#x5F20;&amp;#x8868;&amp;#x7684;&amp;#x76F8;&amp;#x5173;&amp;#x64CD;&amp;#x4F5C;&amp;#xFF0C;&amp;#x7EE7;&amp;#x627F;AbstractDao&amp;#x7C7B;&amp;#xFF0C;&amp;#x4E3B;&amp;#x8981;&amp;#x4F5C;&amp;#x7528;&amp;#x6709;&amp;#xFF1A;&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;&lt;p&gt;Properties&amp;#x7C7B;&amp;#xFF0C;&amp;#x5B58;&amp;#x50A8;java POJO&amp;#x7C7B;&amp;#x4E2D;&amp;#x6BCF;&amp;#x4E2A;&amp;#x6210;&amp;#x5458;&amp;#x53D8;&amp;#x91CF;&amp;#x4E0E;&amp;#x6570;&amp;#x636E;&amp;#x5E93;Column&amp;#x5BF9;&amp;#x5E94;&amp;#x5173;&amp;#x7CFB;&amp;#xFF0C;&amp;#x4EE5;User&amp;#x4E3A;&amp;#x4F8B;:&lt;/p&gt;
 &lt;figure class=&quot;highlight java&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;static&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;final&lt;/span&gt; String TABLENAME = &lt;span class=&quot;string&quot;&gt;&amp;quot;USER&amp;quot;&lt;/span&gt;;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;// &amp;#x7B2C;&amp;#x56DB;&amp;#x4E2A;&amp;#x53D8;&amp;#x91CF;&amp;#x8868;&amp;#x793A;&amp;#x662F;&amp;#x5426;&amp;#x662F;&amp;#x4E3B;&amp;#x952E;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;static&lt;/span&gt; &lt;span class=&quot;class&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;Properties&lt;/span&gt; &lt;/span&gt;{&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;final&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;static&lt;/span&gt; Property Id = &lt;span class=&quot;keyword&quot;&gt;new&lt;/span&gt; Property(&lt;span class=&quot;number&quot;&gt;0&lt;/span&gt;, &lt;span class=&quot;keyword&quot;&gt;long&lt;/span&gt;.class, &lt;span class=&quot;string&quot;&gt;&amp;quot;id&amp;quot;&lt;/span&gt;, &lt;span class=&quot;keyword&quot;&gt;true&lt;/span&gt;, &lt;span class=&quot;string&quot;&gt;&amp;quot;_id&amp;quot;&lt;/span&gt;);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;final&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;static&lt;/span&gt; Property Name = &lt;span class=&quot;keyword&quot;&gt;new&lt;/span&gt; Property(&lt;span class=&quot;number&quot;&gt;1&lt;/span&gt;, String.class, &lt;span class=&quot;string&quot;&gt;&amp;quot;name&amp;quot;&lt;/span&gt;, &lt;span class=&quot;keyword&quot;&gt;false&lt;/span&gt;, &lt;span class=&quot;string&quot;&gt;&amp;quot;USER_NAME&amp;quot;&lt;/span&gt;);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;}&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;&amp;#x521B;&amp;#x5EFA;&amp;#x8868;/&amp;#x5220;&amp;#x9664;&amp;#x8868;&amp;#x7684;&amp;#x51FD;&amp;#x6570;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;&amp;#x63D0;&amp;#x4F9B;&amp;#x589E;(inset)&amp;#xFF0C;&amp;#x5220;(delete)&amp;#xFF0C;&amp;#x6539;(update)&amp;#xFF0C;load(PrimaryKey)&amp;#xFF0C;&amp;#x67E5;(queryBuilder)&amp;#x7B49;&amp;#x4E00;&amp;#x7CFB;&amp;#x5217;&amp;#x51FD;&amp;#x6570;&amp;#x64CD;&amp;#x4F5C;&amp;#x3002;&amp;#x4EE5;&amp;#x63D2;&amp;#x5165;USER&amp;#x8868;&amp;#x4E3A;&amp;#x4F8B;&amp;#xFF0C;AbstractDao&amp;#x4E3B;&amp;#x8981;&amp;#x8D1F;&amp;#x8D23;&amp;#x62FC;&amp;#x63A5;SQL&amp;#x6A21;&amp;#x677F;&amp;#xFF0C;&amp;#x5BF9;&amp;#x5E94;DAO&amp;#x5BF9;&amp;#x8C61;&amp;#x8D1F;&amp;#x8D23;bind&amp;#x64CD;&amp;#x4F5C;&amp;#x3002;&lt;/p&gt;
 &lt;img src=&quot;/2017/03/13/greenDAO-analysis/db-insert.png&quot;&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;&amp;#x63D0;&amp;#x4F9B;attach\detach&amp;#x65B9;&amp;#x6CD5;&amp;#xFF0C;&amp;#x9488;&amp;#x5BF9;&amp;#x5355;&amp;#x4E2A;&amp;#x5BF9;&amp;#x8C61;&amp;#x8FDB;&amp;#x884C;&amp;#x7F13;&amp;#x5B58;&amp;#x7BA1;&amp;#x7406;&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;h3 id=&quot;d-java-pojo&amp;#x5BF9;&amp;#x8C61;&quot;&gt;&lt;a href=&quot;#d-java-POJO&amp;#x5BF9;&amp;#x8C61;&quot; class=&quot;headerlink&quot; title=&quot;d. java POJO&amp;#x5BF9;&amp;#x8C61;&quot;&gt;&lt;/a&gt;d. java POJO&amp;#x5BF9;&amp;#x8C61;&lt;/h3&gt;&lt;p&gt;&amp;#x7ECF;&amp;#x8FC7;APT&amp;#x8FC7;&amp;#x7A0B;&amp;#x589E;&amp;#x52A0;&amp;#x4EE5;&amp;#x4E0B;&amp;#x51FD;&amp;#x6570;:&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;&lt;p&gt;&amp;#x5BF9;&amp;#x5E94;getter/setter&amp;#x51FD;&amp;#x6570;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;&amp;#x8BBE;&amp;#x7F6E;DaoSession&amp;#xFF0C;&amp;#x6570;&amp;#x636E;&amp;#x66F4;&amp;#x65B0;&amp;#x90FD;&amp;#x901A;&amp;#x8FC7;DaoSession&amp;#x5B9E;&amp;#x73B0;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;@Entity(active = true)&amp;#x65F6;:  &lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th style=&quot;text-align:left&quot;&gt;&amp;#x65B9;&amp;#x6CD5;&lt;/th&gt;
&lt;th style=&quot;text-align:left&quot;&gt;&amp;#x89E3;&amp;#x91CA;&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td style=&quot;text-align:left&quot;&gt;#update()&lt;/td&gt;
&lt;td style=&quot;text-align:left&quot;&gt;java POJO&amp;#x66F4;&amp;#x65B0;&amp;#x5230;&amp;#x6570;&amp;#x636E;&amp;#x5E93;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&quot;text-align:left&quot;&gt;#refresh()&lt;/td&gt;
&lt;td style=&quot;text-align:left&quot;&gt;&amp;#x4ECE;&amp;#x6570;&amp;#x636E;&amp;#x5E93;&amp;#x66F4;&amp;#x65B0;java POJO&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&quot;text-align:left&quot;&gt;#delete()&lt;/td&gt;
&lt;td style=&quot;text-align:left&quot;&gt;&amp;#x5220;&amp;#x9664;java POJO&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;h2 id=&quot;&amp;#x5176;&amp;#x4ED6;&amp;#x7EC6;&amp;#x8282;&quot;&gt;&lt;a href=&quot;#&amp;#x5176;&amp;#x4ED6;&amp;#x7EC6;&amp;#x8282;&quot; class=&quot;headerlink&quot; title=&quot;&amp;#x5176;&amp;#x4ED6;&amp;#x7EC6;&amp;#x8282;&quot;&gt;&lt;/a&gt;&amp;#x5176;&amp;#x4ED6;&amp;#x7EC6;&amp;#x8282;&lt;/h2&gt;&lt;h3 id=&quot;1-mn&amp;#x5173;&amp;#x7CFB;&quot;&gt;&lt;a href=&quot;#1-m-n&amp;#x5173;&amp;#x7CFB;&quot; class=&quot;headerlink&quot; title=&quot;1. m:n&amp;#x5173;&amp;#x7CFB;&quot;&gt;&lt;/a&gt;1. m:n&amp;#x5173;&amp;#x7CFB;&lt;/h3&gt;&lt;p&gt;greenDAO&amp;#x5BF9;1:1&amp;#x7684;&amp;#x652F;&amp;#x6301;&amp;#x662F;&amp;#x4F7F;&amp;#x7528;&amp;#x6210;&amp;#x5458;&amp;#x53D8;&amp;#x91CF;&amp;#xFF0C;&amp;#x5BF9;1:n&amp;#x652F;&amp;#x6301;&amp;#x662F;&amp;#x4F7F;&amp;#x7528;List&amp;#x5217;&amp;#x8868;&amp;#xFF0C;m:n&amp;#x5173;&amp;#x7CFB;&amp;#x5EFA;&amp;#x8BAE;&amp;#x4F7F;&amp;#x7528;&amp;#x4E2D;&amp;#x95F4;&amp;#x8868;&amp;#x8F6C;&amp;#x5316;&amp;#x6210;&amp;#x4E24;&amp;#x4E2A;1:n&amp;#x5B9E;&amp;#x73B0;&amp;#x3002;&amp;#x901A;&amp;#x8FC7;&amp;#x5916;&amp;#x952E;&amp;#x521B;&amp;#x5EFA;&amp;#x7684;&amp;#x5BF9;&amp;#x8C61;&amp;#x90FD;&amp;#x662F;&amp;#x61D2;&amp;#x52A0;&amp;#x8F7D;&amp;#xFF0C;&amp;#x5373;&amp;#x7B2C;&amp;#x4E00;&amp;#x6B21;&amp;#x4F7F;&amp;#x7528;&amp;#x65F6;&amp;#x624D;&amp;#x4ECE;&amp;#x6570;&amp;#x636E;&amp;#x5E93;&amp;#x8BFB;&amp;#x53D6;&amp;#x5E76;&amp;#x751F;&amp;#x6210;&amp;#x5BF9;&amp;#x8C61;&amp;#xFF0C;&amp;#x518D;&amp;#x6B21;&amp;#x8BFB;&amp;#x53D6;&amp;#x8BE5;&amp;#x5BF9;&amp;#x8C61;&amp;#x65F6;&amp;#x76F4;&amp;#x63A5;&amp;#x4ECE;&amp;#x5185;&amp;#x5B58;&amp;#x4E2D;&amp;#x83B7;&amp;#x5F97;&amp;#xFF0C;&amp;#x6240;&amp;#x4EE5;&amp;#x9700;&amp;#x8981;&amp;#x6CE8;&amp;#x610F;&amp;#x6570;&amp;#x636E;&amp;#x4E00;&amp;#x81F4;&amp;#x6027;&amp;#x3002;&lt;/p&gt;
&lt;h3 id=&quot;2-&amp;#x67E5;&amp;#x8BE2;query&quot;&gt;&lt;a href=&quot;#2-&amp;#x67E5;&amp;#x8BE2;Query&quot; class=&quot;headerlink&quot; title=&quot;2. &amp;#x67E5;&amp;#x8BE2;Query&quot;&gt;&lt;/a&gt;2. &amp;#x67E5;&amp;#x8BE2;Query&lt;/h3&gt;&lt;p&gt;&amp;#x67E5;&amp;#x8BE2;&amp;#x662F;&amp;#x6700;&amp;#x590D;&amp;#x6742;&amp;#x7684;SQL&amp;#x64CD;&amp;#x4F5C;&amp;#xFF0C;&amp;#x4E0E;&amp;#x67E5;&amp;#x8BE2;&amp;#x76F8;&amp;#x5173;&amp;#x7684;SQL&amp;#x7531;&amp;#x4EE5;&amp;#x4E0B;&amp;#x7C7B;&amp;#x7EC4;&amp;#x6210;&amp;#xFF1A;&lt;/p&gt;
&lt;img src=&quot;/2017/03/13/greenDAO-analysis/db-query.png&quot;&gt;
&lt;p&gt;&amp;#x5176;&amp;#x4E2D;&amp;#xFF0C;&amp;#x6700;&amp;#x5E38;&amp;#x7528;&amp;#x7684;&amp;#x662F;Query,CountQuery&amp;#x548C;DeleteQuery&amp;#xFF0C;&amp;#x5206;&amp;#x522B;&amp;#x8868;&amp;#x793A;&amp;#x8FD4;&amp;#x56DE;&amp;#x76F8;&amp;#x5173;&amp;#x67E5;&amp;#x8BE2;&amp;#x5BF9;&amp;#x8C61;&amp;#xFF0C;&amp;#x6267;&amp;#x884C;count&amp;#x64CD;&amp;#x4F5C;&amp;#x548C;&amp;#x4ECE;&amp;#x6570;&amp;#x636E;&amp;#x5E93;&amp;#x67E5;&amp;#x8BE2;&amp;#x6307;&amp;#x5B9A;&amp;#x6570;&amp;#x636E;&amp;#x5E76;&amp;#x5220;&amp;#x9664;&amp;#x3002;Query&amp;#x8FD4;&amp;#x56DE;&amp;#x7ED3;&amp;#x679C;&amp;#x4E3B;&amp;#x8981;&amp;#x6709;2&amp;#x79CD;&amp;#x5F62;&amp;#x5F0F;&amp;#xFF1A;1.&amp;#x4E00;&amp;#x6B21;&amp;#x6027;&amp;#x8FD4;&amp;#x56DE;&amp;#x6240;&amp;#x6709;&amp;#x7ED3;&amp;#x679C;&amp;#xFF1B;2.&amp;#x5B9E;&amp;#x73B0;&amp;#x61D2;&amp;#x52A0;&amp;#x8F7D;&amp;#xFF0C;&amp;#x4F46;&amp;#x9700;&amp;#x8981;&amp;#x624B;&amp;#x52A8;&amp;#x5173;&amp;#x95ED;cursor&amp;#x3002;&lt;/p&gt;
&lt;p&gt;Dao&amp;#x7C7B;&amp;#x4E0E;Query&amp;#x901A;&amp;#x8FC7;QueryBuilder&amp;#x7C7B;&amp;#x8FDB;&amp;#x884C;&amp;#x5173;&amp;#x8054;&amp;#xFF0C;&amp;#x4F7F;&amp;#x7528;&amp;#x6784;&amp;#x5EFA;&amp;#x8005;&amp;#x65B9;&amp;#x5F0F;&amp;#x5B9E;&amp;#x73B0;&amp;#x5BF9;&amp;#x5E94;Query&amp;#x5BF9;&amp;#x8C61;&amp;#x751F;&amp;#x6210;&amp;#xFF0C;&amp;#x540C;&amp;#x65F6;QueryBuilder&amp;#x63D0;&amp;#x4F9B;Join&amp;#x64CD;&amp;#x4F5C;&amp;#x5B9E;&amp;#x73B0;&amp;#x8054;&amp;#x8868;&amp;#x67E5;&amp;#x8BE2;&amp;#x3002;&lt;/p&gt;
&lt;h3 id=&quot;3-&amp;#x7EBF;&amp;#x7A0B;&amp;#x5B89;&amp;#x5168;&quot;&gt;&lt;a href=&quot;#3-&amp;#x7EBF;&amp;#x7A0B;&amp;#x5B89;&amp;#x5168;&quot; class=&quot;headerlink&quot; title=&quot;3. &amp;#x7EBF;&amp;#x7A0B;&amp;#x5B89;&amp;#x5168;&quot;&gt;&lt;/a&gt;3. &amp;#x7EBF;&amp;#x7A0B;&amp;#x5B89;&amp;#x5168;&lt;/h3&gt;&lt;p&gt;&lt;strong&gt;SQLite&amp;#x7EA7;&amp;#x522B;&lt;/strong&gt;&amp;#xFF1A;&amp;#x901A;&amp;#x5E38;&amp;#x6211;&amp;#x4EEC;&amp;#x9488;&amp;#x5BF9;&amp;#x4E00;&amp;#x4E2A;&amp;#x6570;&amp;#x636E;&amp;#x5E93;&amp;#x4F7F;&amp;#x7528;&amp;#x4E00;&amp;#x4E2A;&amp;#x8FDE;&amp;#x63A5;SQLiteDatabase&amp;#xFF0C;&amp;#x9ED8;&amp;#x8BA4;&amp;#x60C5;&amp;#x51B5;&amp;#x4E0B;&amp;#x5BF9;&amp;#x6570;&amp;#x636E;&amp;#x5E93;CRUD&amp;#x64CD;&amp;#x4F5C;&amp;#x90FD;&amp;#x4F1A;&amp;#x88AB;&amp;#x6570;&amp;#x636E;&amp;#x5E93;&amp;#x52A0;&amp;#x9501;&amp;#xFF0C;&amp;#x56E0;&amp;#x4E3A;DB&amp;#x662F;&amp;#x6587;&amp;#x4EF6;&amp;#xFF0C;&amp;#x6240;&amp;#x4EE5;&amp;#x662F;&amp;#x6570;&amp;#x636E;&amp;#x5E93;&amp;#x7EA7;&amp;#x9501;&amp;#x3002;API 11&amp;#x4EE5;&amp;#x4E0A;&amp;#x65F6;&amp;#xFF0C;&amp;#x53EF;&amp;#x4EE5;&amp;#x901A;&amp;#x8FC7;SQLiteDatabase#enableWriteAheadLogging()&amp;#x5141;&amp;#x8BB8;&amp;#x4E00;&amp;#x4E2A;&amp;#x5199;&amp;#x7EBF;&amp;#x7A0B;&amp;#x4E0E;&amp;#x591A;&amp;#x4E2A;&amp;#x8BFB;&amp;#x7EBF;&amp;#x7A0B;&amp;#x540C;&amp;#x65F6;&amp;#x5728;&amp;#x4E00;&amp;#x4E2A;SQLiteDatabase&amp;#x4E0A;&amp;#x8D77;&amp;#x4F5C;&amp;#x7528;&amp;#x3002;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;greenDAO&amp;#x7EA7;&amp;#x522B;&lt;/strong&gt;&amp;#xFF1A; DaoSession&amp;#x548C;DAO&amp;#x90FD;&amp;#x662F;&amp;#x7EBF;&amp;#x7A0B;&amp;#x5B89;&amp;#x5168;&amp;#x7684;&amp;#xFF0C;&amp;#x5176;&amp;#x4E2D;&amp;#xFF0C;&amp;#x7F13;&amp;#x5B58;IdentityScope&amp;#x4F7F;&amp;#x7528;ReentrantLock&amp;#x5B9E;&amp;#x73B0;&amp;#x7EBF;&amp;#x7A0B;&amp;#x5B89;&amp;#x5168;&amp;#xFF1B;&amp;#x5199;&amp;#x64CD;&amp;#x4F5C;&amp;#x65F6;&amp;#x4F7F;&amp;#x7528;SQLiteDatabase#isDbLockedByCurrentThread()&amp;#x5224;&amp;#x65AD;&amp;#x662F;&amp;#x5426;&amp;#x83B7;&amp;#x5F97;&amp;#x6570;&amp;#x636E;&amp;#x5E93;&amp;#x8FDE;&amp;#x63A5;&amp;#xFF0C;&amp;#x6CA1;&amp;#x6709;&amp;#x7684;&amp;#x8BDD;&amp;#xFF0C;&amp;#x901A;&amp;#x8FC7;SQLiteDatabase#beginTransaction()&amp;#x83B7;&amp;#x53D6;&amp;#x6570;&amp;#x636E;&amp;#x8FDE;&amp;#x63A5;(EXCLUSIVE mode)&amp;#xFF1B;&amp;#x8BFB;&amp;#x64CD;&amp;#x4F5C;&amp;#x65F6;&amp;#x63D0;&amp;#x4F9B;#forCurrentThread()&amp;#x65B9;&amp;#x6CD5;&amp;#x83B7;&amp;#x53D6;&amp;#x9488;&amp;#x5BF9;&amp;#x5F53;&amp;#x524D;&amp;#x7EBF;&amp;#x7A0B;&amp;#x7684;&amp;#x67E5;&amp;#x8BE2;&amp;#x914D;&amp;#x7F6E;(&amp;#x901A;&amp;#x8FC7;QueryBuilder&amp;#x8BBE;&amp;#x7F6E;)&amp;#x526F;&amp;#x672C;&amp;#xFF0C;&amp;#x7136;&amp;#x540E;&amp;#x7531;&amp;#x5E95;&amp;#x5C42;SQLite&amp;#x6570;&amp;#x636E;&amp;#x5E93;&amp;#x63A7;&amp;#x5236;&amp;#x591A;&amp;#x7EBF;&amp;#x7A0B;&amp;#x8BFB;&amp;#x64CD;&amp;#x4F5C;&amp;#x3002;&lt;/p&gt;
&lt;h2 id=&quot;&amp;#x603B;&amp;#x7ED3;&quot;&gt;&lt;a href=&quot;#&amp;#x603B;&amp;#x7ED3;&quot; class=&quot;headerlink&quot; title=&quot;&amp;#x603B;&amp;#x7ED3;&quot;&gt;&lt;/a&gt;&amp;#x603B;&amp;#x7ED3;&lt;/h2&gt;&lt;p&gt;greenDAO&amp;#x4F5C;&amp;#x4E3A;2011&amp;#x5E74;&amp;#x5F00;&amp;#x6E90;&amp;#x7684;&amp;#x9879;&amp;#x76EE;&amp;#xFF0C;&amp;#x6574;&amp;#x4F53;&amp;#x8BBE;&amp;#x8BA1;&amp;#x662F;&amp;#x5F88;&amp;#x4F18;&amp;#x79C0;&amp;#x7684;&amp;#xFF0C;&amp;#x6EE1;&amp;#x8DB3;app&amp;#x5BF9;&amp;#x5173;&amp;#x7CFB;&amp;#x6570;&amp;#x636E;&amp;#x5E93;&amp;#x5927;&amp;#x90E8;&amp;#x5206;&amp;#x5E38;&amp;#x7528;&amp;#x64CD;&amp;#x4F5C;&amp;#xFF0C;&amp;#x67B6;&amp;#x6784;&amp;#x53EF;&amp;#x6269;&amp;#x5C55;&amp;#x6027;&amp;#x975E;&amp;#x5E38;&amp;#x4E0D;&amp;#x9519;&amp;#xFF0C;&amp;#x5BF9;&amp;#x53EF;&amp;#x53D8;&amp;#x90E8;&amp;#x5206;&amp;#x4E0E;&amp;#x516C;&amp;#x5171;&amp;#x90E8;&amp;#x5206;&amp;#x7684;&amp;#x4EE3;&amp;#x7801;&amp;#x62C6;&amp;#x5206;&amp;#xFF0C;&amp;#x4F7F;&amp;#x5176;&amp;#x4F18;&amp;#x4E8E;&amp;#x5176;&amp;#x4ED6;ORM&amp;#x6846;&amp;#x67B6;&amp;#x3002;&amp;#x4E2A;&amp;#x4EBA;&amp;#x89C9;&amp;#x5F97;&amp;#x5982;&amp;#x679C;&amp;#x6709;&amp;#x5FD7;&amp;#x4E8E;ORM&amp;#x8F6E;&amp;#x5B50;&amp;#x7684;&amp;#x540C;&amp;#x5B66;&amp;#x53EF;&amp;#x4EE5;&amp;#x4ECE;:1. SQL&amp;#x8BED;&amp;#x53E5;&amp;#x4F18;&amp;#x5316;&amp;#x4E0E;&amp;#x6821;&amp;#x9A8C; 2. &amp;#x591A;&amp;#x7EBF;&amp;#x7A0B;&amp;#x7BA1;&amp;#x7406;&amp;#x63D0;&amp;#x9AD8;&amp;#x6027;&amp;#x80FD; &amp;#x8FD9;&amp;#x4E9B;&amp;#x65B9;&amp;#x9762;&amp;#x53BB;&amp;#x4F18;&amp;#x5316;&amp;#xFF0C;&amp;#x5F53;&amp;#x7136;&amp;#xFF0C;&amp;#x5E95;&amp;#x5C42;&amp;#x4E0D;&amp;#x4F7F;&amp;#x7528;&amp;#x5173;&amp;#x7CFB;&amp;#x6570;&amp;#x636E;&amp;#x5E93;&amp;#xFF0C;&amp;#x76F4;&amp;#x63A5;&amp;#x9762;&amp;#x5411;&amp;#x5BF9;&amp;#x8C61;&amp;#x6570;&amp;#x636E;&amp;#x5E93;&amp;#x4E5F;&amp;#x662F;&amp;#x4E00;&amp;#x4E2A;&amp;#x65B9;&amp;#x5411;&amp;#x3002;&lt;/p&gt;
&lt;h2 id=&quot;&amp;#x53C2;&amp;#x8003;&quot;&gt;&lt;a href=&quot;#&amp;#x53C2;&amp;#x8003;&quot; class=&quot;headerlink&quot; title=&quot;&amp;#x53C2;&amp;#x8003;&quot;&gt;&lt;/a&gt;&amp;#x53C2;&amp;#x8003;&lt;/h2&gt;&lt;ol&gt;
&lt;li&gt;&lt;a href=&quot;http://greenrobot.org/greendao/&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;http://greenrobot.org/greendao/&lt;/a&gt;&lt;/li&gt;
&lt;/ol&gt;
</content>
    
    <summary type="html">
    
      &lt;!-- toc --&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;#简介&quot;&gt;简介&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;#建模&quot;&gt;建模&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;#核心功能实现&quot;&gt;核心功能实现&lt;/a&gt;&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;#a-master类&quot;&gt;a. Master类&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;#b-daosession类&quot;&gt;b. DaoSession类&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;#c-相应java-pojo的dao对象&quot;&gt;c. 相应java POJO的Dao对象&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;#d-java-pojo对象&quot;&gt;d. java POJO对象&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;#其他细节&quot;&gt;其他细节&lt;/a&gt;&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;#1-mn关系&quot;&gt;1. m:n关系&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;#2-查询query&quot;&gt;2. 查询Query&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;#3-线程安全&quot;&gt;3. 线程安全&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;#总结&quot;&gt;总结&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;#参考&quot;&gt;参考&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;!-- tocstop --&gt;
&lt;h2 id=&quot;简介&quot;&gt;&lt;a href=&quot;#简介&quot; class=&quot;headerlink&quot; title=&quot;简介&quot;&gt;&lt;/a&gt;简介&lt;/h2&gt;&lt;p&gt;greenDAO是一个开源的针对Android SQLite数据库的ORM组件，根据官方信息，其主要特点有性能好，包小(&amp;lt;100KB)等，本文主要分析greenDAO设计原理和思想，为今后我们自己使用和开发ORM组件提供指导。&lt;/p&gt;
&lt;h2 id=&quot;建模&quot;&gt;&lt;a href=&quot;#建模&quot; class=&quot;headerlink&quot; title=&quot;建模&quot;&gt;&lt;/a&gt;建模&lt;/h2&gt;&lt;p&gt;ORM组件可以使我们摆脱枯燥的各种SQL操作，使我们专心于对象操作。第一步就是如何进行建模，假设我们需要创建如下数据库:&lt;/p&gt;
&lt;img src=&quot;/2017/03/13/greenDAO-analysis/db.png&quot;&gt;
&lt;p&gt;按照greenDAO规范，我们需要根据数据库schema创建如下两个实体类:&lt;br&gt;
    
    </summary>
    
      <category term="Android学习笔记" scheme="http://yoursite.com/categories/Android%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/"/>
    
    
      <category term="Android" scheme="http://yoursite.com/tags/Android/"/>
    
  </entry>
  
  <entry>
    <title>学习Okio的优化思想</title>
    <link href="http://yoursite.com/2017/02/16/okio/"/>
    <id>http://yoursite.com/2017/02/16/okio/</id>
    <published>2017-02-16T07:43:11.000Z</published>
    <updated>2017-02-16T07:51:38.000Z</updated>
    
    <content type="html">&lt;!-- toc --&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;#&amp;#x7B80;&amp;#x4ECB;&quot;&gt;&amp;#x7B80;&amp;#x4ECB;&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;#okio&amp;#x7B80;&amp;#x5355;demo&quot;&gt;Okio&amp;#x7B80;&amp;#x5355;demo&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;#&amp;#x6838;&amp;#x5FC3;&amp;#x7C7B;&quot;&gt;&amp;#x6838;&amp;#x5FC3;&amp;#x7C7B;&lt;/a&gt;&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;#&amp;#x7ED3;&amp;#x8BBA;&quot;&gt;&amp;#x7ED3;&amp;#x8BBA;&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;#buffer&amp;#x8BE6;&amp;#x89E3;&quot;&gt;Buffer&amp;#x8BE6;&amp;#x89E3;&lt;/a&gt;&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;#&amp;#x4E24;&amp;#x4E2A;&amp;#x4F18;&amp;#x5316;&amp;#x5C0F;&amp;#x7EC6;&amp;#x8282;&quot;&gt;&amp;#x4E24;&amp;#x4E2A;&amp;#x4F18;&amp;#x5316;&amp;#x5C0F;&amp;#x7EC6;&amp;#x8282;&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;#&amp;#x4E24;&amp;#x4E2A;&amp;#x7591;&amp;#x95EE;&quot;&gt;&amp;#x4E24;&amp;#x4E2A;&amp;#x7591;&amp;#x95EE;&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;#&amp;#x5176;&amp;#x4ED6;&amp;#x4F18;&amp;#x5316;&quot;&gt;&amp;#x5176;&amp;#x4ED6;&amp;#x4F18;&amp;#x5316;&lt;/a&gt;&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;#bytestring&quot;&gt;ByteString&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;#timeout&quot;&gt;Timeout&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;#&amp;#x603B;&amp;#x7ED3;&quot;&gt;&amp;#x603B;&amp;#x7ED3;&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;#&amp;#x53C2;&amp;#x8003;&quot;&gt;&amp;#x53C2;&amp;#x8003;&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;!-- tocstop --&gt;
&lt;h2 id=&quot;&amp;#x7B80;&amp;#x4ECB;&quot;&gt;&lt;a href=&quot;#&amp;#x7B80;&amp;#x4ECB;&quot; class=&quot;headerlink&quot; title=&quot;&amp;#x7B80;&amp;#x4ECB;&quot;&gt;&lt;/a&gt;&amp;#x7B80;&amp;#x4ECB;&lt;/h2&gt;&lt;p&gt;Okio&amp;#x662F;&amp;#x7531;Square&amp;#x516C;&amp;#x53F8;&amp;#x5F00;&amp;#x53D1;&amp;#x5E76;&amp;#x5F00;&amp;#x6E90;&amp;#x7684;java IO&amp;#x7EC4;&amp;#x4EF6;&amp;#x5E93;&amp;#xFF0C;&amp;#x6700;&amp;#x521D;&amp;#x7528;&amp;#x4E8E;&amp;#x5176;&amp;#x5F00;&amp;#x53D1;&amp;#x7684;HTTP&amp;#x5BA2;&amp;#x6237;&amp;#x7AEF;OkHttp&amp;#x7684;&amp;#x5E95;&amp;#x5C42;IO&amp;#x5C01;&amp;#x88C5;&amp;#xFF0C;&amp;#x4ECE;Android 4.4&amp;#x8D77;&amp;#xFF0C;HttpURLConnection&amp;#x5E95;&amp;#x5C42;&amp;#x5B9E;&amp;#x73B0;&amp;#x91C7;&amp;#x7528;Okhttp&amp;#xFF0C;Okio&amp;#x7EC4;&amp;#x4EF6;&amp;#x4E5F;&amp;#x88AB;&amp;#x5F00;&amp;#x53D1;&amp;#x8005;&amp;#x6240;&amp;#x8BA4;&amp;#x53EF;&amp;#x3002;&amp;#x6839;&amp;#x636E;GitHub&amp;#x4ECB;&amp;#x7ECD;&amp;#xFF0C;&amp;#x8BE5;&amp;#x7EC4;&amp;#x4EF6;&amp;#x5B9A;&amp;#x4F4D;&amp;#x662F;&amp;#xFF1A;&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;Okio is a new library that complements java.io and java.nio to make it much easier to access, store, and process your data.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;&amp;#x6211;&amp;#x4EEC;&amp;#x4E3B;&amp;#x8981;&amp;#x662F;&amp;#x901A;&amp;#x8FC7;&amp;#x6E90;&amp;#x7801;&amp;#x5206;&amp;#x6790;&amp;#x5B66;&amp;#x4E60;&amp;#x5176;&amp;#x4F18;&amp;#x5316;&amp;#x7684;&amp;#x601D;&amp;#x60F3;&amp;#x3002;&lt;/p&gt;
&lt;h2 id=&quot;okio&amp;#x7B80;&amp;#x5355;demo&quot;&gt;&lt;a href=&quot;#Okio&amp;#x7B80;&amp;#x5355;demo&quot; class=&quot;headerlink&quot; title=&quot;Okio&amp;#x7B80;&amp;#x5355;demo&quot;&gt;&lt;/a&gt;Okio&amp;#x7B80;&amp;#x5355;demo&lt;/h2&gt;&lt;figure class=&quot;highlight java&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;10&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;// inputStream  : &amp;#x8F93;&amp;#x5165;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;// outputStream : &amp;#x8F93;&amp;#x51FA;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;try&lt;/span&gt; (BufferedSource source = Okio.buffer(Okio.source(inputStream));&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;     BufferedSink sink = Okio.buffer(HashingSink.md5(Okio.sink(outputStream)))&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;) {&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    sink.writeAll(source);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    sink.flush();&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;} &lt;span class=&quot;keyword&quot;&gt;catch&lt;/span&gt; (IOException e) {&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    e.printStackTrace();&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;}&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;a id=&quot;more&quot;&gt;&lt;/a&gt;
&lt;h2 id=&quot;&amp;#x6838;&amp;#x5FC3;&amp;#x7C7B;&quot;&gt;&lt;a href=&quot;#&amp;#x6838;&amp;#x5FC3;&amp;#x7C7B;&quot; class=&quot;headerlink&quot; title=&quot;&amp;#x6838;&amp;#x5FC3;&amp;#x7C7B;&quot;&gt;&lt;/a&gt;&amp;#x6838;&amp;#x5FC3;&amp;#x7C7B;&lt;/h2&gt;&lt;img src=&quot;/2017/02/16/okio/okio-0.png&quot;&gt;
&lt;h3 id=&quot;&amp;#x7ED3;&amp;#x8BBA;&quot;&gt;&lt;a href=&quot;#&amp;#x7ED3;&amp;#x8BBA;&quot; class=&quot;headerlink&quot; title=&quot;&amp;#x7ED3;&amp;#x8BBA;&quot;&gt;&lt;/a&gt;&amp;#x7ED3;&amp;#x8BBA;&lt;/h3&gt;&lt;ol&gt;
&lt;li&gt;&lt;p&gt;&lt;code&gt;Source&lt;/code&gt;/&lt;code&gt;Sink&lt;/code&gt;&amp;#x7C7B;&amp;#x4F3C;&amp;#x4E8E;Java&amp;#x7684;&lt;code&gt;InputStream&lt;/code&gt;&amp;#x548C;&lt;code&gt;OutputStream&lt;/code&gt;&amp;#xFF0C;&amp;#x4E14;&amp;#x6CA1;&amp;#x6709;&amp;#x533A;&amp;#x5206;&amp;#x5B57;&amp;#x8282;&amp;#x6D41;&amp;#x548C;&amp;#x5B57;&amp;#x7B26;&amp;#x6D41;&amp;#xFF0C;&amp;#x7C7B;&amp;#x56FE;&amp;#x76F4;&amp;#x89C2;&amp;#x611F;&amp;#x89C9;&amp;#x662F;&amp;#x6BD4;Java IO&amp;#x7B80;&amp;#x6D01;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Java IO&amp;#x4F7F;&amp;#x7528;&amp;#x88C5;&amp;#x9970;&amp;#x5668;&amp;#x6A21;&amp;#x5F0F;&amp;#xFF0C;&amp;#x5BFC;&amp;#x81F4;&amp;#x5404;&amp;#x79CD;IO&amp;#x7C7B;&amp;#x6BD4;&amp;#x8F83;&amp;#x81C3;&amp;#x80BF;&amp;#xFF0C;Okio&amp;#x5C06;&amp;#x5E38;&amp;#x7528;&amp;#x65B9;&amp;#x6CD5;&amp;#x5C01;&amp;#x88C5;&amp;#x5728;&lt;code&gt;BufferedSource&lt;/code&gt;/&lt;code&gt;BufferedSink&lt;/code&gt;&amp;#x63A5;&amp;#x53E3;&amp;#x4E2D;&amp;#xFF0C;&amp;#x628A;&amp;#x5E95;&amp;#x5C42;&amp;#x5B57;&amp;#x8282;&amp;#x6D41;&amp;#x76F4;&amp;#x63A5;&amp;#x52A0;&amp;#x5DE5;&amp;#x6210;&amp;#x9700;&amp;#x8981;&amp;#x7684;&amp;#x6570;&amp;#x636E;&amp;#x7C7B;&amp;#x578B;&amp;#xFF0C;&amp;#x6452;&amp;#x5F03;Java IO&amp;#x4E2D;&amp;#x5404;&amp;#x79CD;&amp;#x8F93;&amp;#x5165;&amp;#x6D41;&amp;#x548C;&amp;#x8F93;&amp;#x51FA;&amp;#x6D41;&amp;#x7684;&amp;#x5D4C;&amp;#x5957;&amp;#x6A21;&amp;#x5F0F;&amp;#xFF1B;&amp;#x4F46;Java IO&amp;#x88C5;&amp;#x9970;&amp;#x5668;&amp;#x6A21;&amp;#x5F0F;&amp;#x4F18;&amp;#x70B9;&amp;#x662F;&amp;#x6839;&amp;#x636E;&amp;#x5404;&amp;#x79CD;&amp;#x60C5;&amp;#x51B5;&amp;#x53EF;&amp;#x4EE5;&amp;#x9009;&amp;#x62E9;&amp;#x6700;&amp;#x4F18;&amp;#x65B9;&amp;#x5F0F;&amp;#xFF0C;Okio&amp;#x53EA;&amp;#x662F;&amp;#x9488;&amp;#x5BF9;&amp;#x5927;&amp;#x591A;&amp;#x6570;&amp;#x573A;&amp;#x666F;&amp;#x8FDB;&amp;#x884C;&amp;#x5C01;&amp;#x88C5;&amp;#xFF0C;&amp;#x4F7F;&amp;#x7528;&amp;#x65B9;&amp;#x4FBF;&amp;#x3002;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;&amp;#x4EE5;&amp;#x8F93;&amp;#x5165;&amp;#x6D41;&lt;code&gt;Source&lt;/code&gt;&amp;#x4E3A;&amp;#x4F8B;&amp;#xFF0C;&amp;#x6570;&amp;#x636E;&amp;#x6D41;&amp;#x7A0B;&amp;#x5982;&amp;#x4E0B;&amp;#xFF1A;&lt;/p&gt;
&lt;p&gt; (1) Okio#source(InputStream)&amp;#x6700;&amp;#x7EC8;&amp;#x4F1A;&amp;#x8C03;&amp;#x7528;Okio#(InputStream, Timeout)&amp;#xFF0C;&amp;#x5B9E;&amp;#x73B0;&amp;#x4E86;InputStream &amp;#x2013;&amp;gt; Buffer&lt;/p&gt;
&lt;p&gt; (2) Okio#buffer(Source)&amp;#x4F1A;&amp;#x521B;&amp;#x5EFA;RealBufferedSource&amp;#x5BF9;&amp;#x8C61;&amp;#xFF0C;&amp;#x8BE5;&amp;#x5BF9;&amp;#x8C61;&amp;#x5305;&amp;#x62EC;(1)&amp;#x4E2D;&amp;#x6784;&amp;#x5EFA;&amp;#x7684;source&amp;#x548C;&amp;#x4E00;&amp;#x4E2A;Buffer&amp;#xFF0C;&amp;#x8BE5;Buffer&amp;#x5C31;&amp;#x662F;(1)&amp;#x4E2D;Buffer&lt;/p&gt;
&lt;p&gt; (3) &amp;#x6570;&amp;#x636E;&amp;#x8BFB;&amp;#x53D6;&amp;#x6700;&amp;#x7EC8;&amp;#x662F;Buffer&amp;#x5BF9;&amp;#x8C61;&amp;#x7684;&amp;#x8BFB;&amp;#x53D6;&amp;#xFF0C;&amp;#x4E5F;&amp;#x5C31;&amp;#x662F;&amp;#x8BF4;&amp;#x5148;&amp;#x628A;InputStream&amp;#x6570;&amp;#x636E;&amp;#x653E;&amp;#x5165;Buffer&amp;#x5BF9;&amp;#x8C61;&amp;#xFF0C;&amp;#x7136;&amp;#x540E;&amp;#x4ECE;Buffer&amp;#x5BF9;&amp;#x8C61;&amp;#x8BFB;&amp;#x53D6;&amp;#xFF1B;&amp;#x5982;&amp;#x679C;&amp;#x6570;&amp;#x636E;&amp;#x5DF2;&amp;#x7ECF;&amp;#x9884;&amp;#x5148;&amp;#x5728;Buffer&amp;#x4E2D;&amp;#xFF0C;&amp;#x5219;&amp;#x51CF;&amp;#x5C11;&amp;#x4E00;&amp;#x6B21;IO&lt;/p&gt;
&lt;p&gt; (4) Buffer&amp;#x597D;&amp;#x5904;&amp;#x662F;&amp;#xFF1A;Buffer&amp;#x5BF9;&amp;#x8C61;&amp;#x662F;&amp;#x4EE5;&amp;#x6570;&amp;#x636E;&amp;#x5757;Segment(&amp;#x4E0B;&amp;#x9762;&amp;#x4F1A;&amp;#x5206;&amp;#x6790;)&amp;#x4ECE;InputStream&amp;#x8BFB;&amp;#x53D6;&amp;#x6570;&amp;#x636E;&amp;#x7684;&amp;#xFF0C;&amp;#x76F8;&amp;#x6BD4;&amp;#x5355;&amp;#x4E2A;&amp;#x5B57;&amp;#x8282;&amp;#x8BFB;&amp;#x53D6;&amp;#x6765;&amp;#x8BF4;&amp;#xFF0C;&amp;#x6548;&amp;#x7387;&amp;#x4F1A;&amp;#x6709;&amp;#x4E00;&amp;#x5B9A;&amp;#x63D0;&amp;#x9AD8;&amp;#xFF0C;&amp;#x4E00;&amp;#x79CD;&amp;#x7A7A;&amp;#x95F4;&amp;#x6362;&amp;#x65F6;&amp;#x95F4;&amp;#x7684;&amp;#x7B56;&amp;#x7565;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;&amp;#x6269;&amp;#x5C55;&amp;#x6027;&amp;#xFF1A; Okio&amp;#x5B9E;&amp;#x73B0;&amp;#x4E86;&amp;#x900F;&amp;#x660E;Gzip&amp;#x548C;Hash&amp;#x7F16;&amp;#x7801;&amp;#x7684;IO&amp;#xFF0C;&amp;#x4EE5;&amp;#x8F93;&amp;#x5165;&amp;#x6D41;&amp;#x4E3A;&amp;#x4F8B;&amp;#xFF0C;&amp;#x8BFB;&amp;#x53D6;Gzip&amp;#x8F93;&amp;#x5165;&amp;#x6D41;&amp;#x53EA;&amp;#x9700;&amp;#x5982;&amp;#x4E0B;&amp;#x6784;&amp;#x5EFA;:&lt;/p&gt;
&lt;figure class=&quot;highlight java&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;BufferedSource source = Okio.buffer(&lt;span class=&quot;keyword&quot;&gt;new&lt;/span&gt; GzipSource(Okio.source(inputStream)));&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&amp;#x901A;&amp;#x8FC7;&amp;#x88C5;&amp;#x9970;&amp;#x5668;&amp;#x6A21;&amp;#x5F0F;&amp;#x5B9E;&amp;#x73B0;&amp;#xFF0C;&amp;#x5F53;&amp;#x524D;&amp;#x53EA;&amp;#x5B9E;&amp;#x73B0;&amp;#x4E86;Gzip&amp;#x548C;&amp;#x5E38;&amp;#x7528;Hash&amp;#xFF0C;&amp;#x56E0;&amp;#x5176;&amp;#x672C;&amp;#x8EAB;&amp;#x662F;&amp;#x4F5C;&amp;#x4E3A;HTTP&amp;#x5BA2;&amp;#x6237;&amp;#x7AEF;&amp;#x7684;IO&amp;#x7EC4;&amp;#x4EF6;&amp;#xFF0C;&amp;#x652F;&amp;#x6301;&amp;#x8FD9;&amp;#x4E9B;&amp;#x5E38;&amp;#x7528;&amp;#x7F16;&amp;#x7801;&amp;#x3002;&amp;#x5176;&amp;#x5BF9;&amp;#x5E94;&amp;#x8F93;&amp;#x5165;&amp;#x6D41;&amp;#x7C7B;&amp;#x56FE;&amp;#x5982;&amp;#x4E0B;&amp;#xFF1A;&lt;/p&gt;
&lt;img src=&quot;/2017/02/16/okio/okio-1.png&quot;&gt;
&lt;p&gt;&amp;#x5982;&amp;#x679C;&amp;#x6709;&amp;#x65B0;&amp;#x7F16;&amp;#x7801;&amp;#x9700;&amp;#x6C42;&amp;#xFF0C;&amp;#x53EF;&amp;#x7EE7;&amp;#x627F;&lt;code&gt;Source&lt;/code&gt;&amp;#x8FDB;&amp;#x884C;&amp;#x6269;&amp;#x5C55;&amp;#xFF0C;&amp;#x603B;&amp;#x4E4B;&amp;#xFF0C;&amp;#x88C5;&amp;#x9970;&amp;#x5668;&amp;#x6A21;&amp;#x5F0F;&amp;#x4F7F;&amp;#x5176;&amp;#x6269;&amp;#x5C55;&amp;#x6027;&amp;#x8FD8;&amp;#x662F;&amp;#x4E0D;&amp;#x9519;&amp;#x7684;&lt;/p&gt;
&lt;h2 id=&quot;buffer&amp;#x8BE6;&amp;#x89E3;&quot;&gt;&lt;a href=&quot;#Buffer&amp;#x8BE6;&amp;#x89E3;&quot; class=&quot;headerlink&quot; title=&quot;Buffer&amp;#x8BE6;&amp;#x89E3;&quot;&gt;&lt;/a&gt;Buffer&amp;#x8BE6;&amp;#x89E3;&lt;/h2&gt;&lt;img src=&quot;/2017/02/16/okio/okio-2.png&quot;&gt;
&lt;p&gt;Buffer&amp;#x7EF4;&amp;#x62A4;Segment&amp;#x7EC4;&amp;#x6210;&amp;#x7684;&amp;#x53CC;&amp;#x5411;&amp;#x94FE;&amp;#x8868;&amp;#xFF0C;Segment&amp;#x5B58;&amp;#x50A8;&amp;#x5E95;&amp;#x5C42;&amp;#x6570;&amp;#x636E;(byte&amp;#x6570;&amp;#x7EC4;)&amp;#xFF1B;&amp;#x63D0;&amp;#x4F9B;SegmentPool&amp;#x7528;&amp;#x4E8E;&amp;#x5FEB;&amp;#x901F;&amp;#x5206;&amp;#x914D;&amp;#x548C;&amp;#x56DE;&amp;#x6536;Segment&amp;#x8282;&amp;#x70B9;&amp;#xFF0C;&amp;#x6BCF;&amp;#x4E2A;Segment&amp;#x5E95;&amp;#x5C42;byte&amp;#x6570;&amp;#x7EC4;&amp;#x5927;&amp;#x5C0F;&amp;#x4E3A;8192&amp;#xFF0C;&amp;#x800C;SegmentPool&amp;#x6682;&amp;#x8BBE;&amp;#x5B9A;&amp;#x4E3A;8&amp;#x4E2A;Segment&amp;#x3002;&amp;#x6BCF;&amp;#x4E2A;Segment&amp;#x7684;pos&amp;#x8868;&amp;#x793A;&amp;#x53EF;&amp;#x8BFB;byte&amp;#x5750;&amp;#x6807;&amp;#xFF0C;limit&amp;#x8868;&amp;#x793A;&amp;#x53EF;&amp;#x5199;byte&amp;#x5750;&amp;#x6807;&amp;#xFF0C;&amp;#x7CFB;&amp;#x7EDF;&amp;#x7EF4;&amp;#x62A4;&amp;#x8FD9;&amp;#x4E24;&amp;#x4E2A;&amp;#x53D8;&amp;#x91CF;&amp;#x3002;&amp;#x4F7F;&amp;#x7528;Segment&amp;#x7EF4;&amp;#x62A4;&amp;#x5E95;&amp;#x5C42;&amp;#x6570;&amp;#x636E;&amp;#x7684;&amp;#x597D;&amp;#x5904;&amp;#xFF1A;&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;&lt;p&gt;&amp;#x4E00;&amp;#x5B9A;&amp;#x7A0B;&amp;#x5EA6;&amp;#x4E0A;&amp;#x63D0;&amp;#x9AD8;IO&amp;#x541E;&amp;#x5410;&amp;#x91CF; &lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;&amp;#x5982;&amp;#x679C;&amp;#x4E24;&amp;#x4E2A;&amp;#x7EBF;&amp;#x7A0B;&amp;#x4E4B;&amp;#x95F4;&amp;#x6570;&amp;#x636E;&amp;#x79FB;&amp;#x52A8;&amp;#x65F6;&amp;#xFF0C;&amp;#x53EA;&amp;#x9700;&amp;#x79FB;&amp;#x52A8;&amp;#x5BF9;&amp;#x5E94;Segment&amp;#x548C;&amp;#x5C11;&amp;#x91CF;&amp;#x6570;&amp;#x636E;copy&amp;#x5373;&amp;#x53EF;&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&amp;#x8003;&amp;#x8651;Okio&amp;#x6700;&amp;#x521D;&amp;#x662F;&amp;#x4F5C;&amp;#x4E3A;HTTP&amp;#x5BA2;&amp;#x6237;&amp;#x7AEF;&amp;#x5E95;&amp;#x5C42;&amp;#x7684;IO&amp;#x5C01;&amp;#x88C5;&amp;#xFF0C;&amp;#x800C;HTTP&amp;#x5BA2;&amp;#x6237;&amp;#x7AEF;&amp;#x4E0D;&amp;#x540C;&amp;#x7EBF;&amp;#x7A0B;&amp;#x95F4;&amp;#x6570;&amp;#x636E;&amp;#x79FB;&amp;#x52A8;&amp;#x662F;&amp;#x975E;&amp;#x5E38;&amp;#x5E38;&amp;#x89C1;&amp;#x7684;&amp;#xFF0C;&amp;#x6240;&amp;#x4EE5;&amp;#x8FD9;&amp;#x90E8;&amp;#x5206;&amp;#x4F18;&amp;#x5316;&amp;#x5BF9;HTTP&amp;#x5BA2;&amp;#x6237;&amp;#x7AEF;&amp;#x6574;&amp;#x4F53;&amp;#x6027;&amp;#x80FD;&amp;#x63D0;&amp;#x5347;&amp;#x662F;&amp;#x6BD4;&amp;#x8F83;&amp;#x660E;&amp;#x663E;&amp;#x7684;&amp;#x3002;&lt;/p&gt;
&lt;h3 id=&quot;&amp;#x4E24;&amp;#x4E2A;&amp;#x4F18;&amp;#x5316;&amp;#x5C0F;&amp;#x7EC6;&amp;#x8282;&quot;&gt;&lt;a href=&quot;#&amp;#x4E24;&amp;#x4E2A;&amp;#x4F18;&amp;#x5316;&amp;#x5C0F;&amp;#x7EC6;&amp;#x8282;&quot; class=&quot;headerlink&quot; title=&quot;&amp;#x4E24;&amp;#x4E2A;&amp;#x4F18;&amp;#x5316;&amp;#x5C0F;&amp;#x7EC6;&amp;#x8282;&quot;&gt;&lt;/a&gt;&amp;#x4E24;&amp;#x4E2A;&amp;#x4F18;&amp;#x5316;&amp;#x5C0F;&amp;#x7EC6;&amp;#x8282;&lt;/h3&gt;&lt;img src=&quot;/2017/02/16/okio/okio-3.png&quot;&gt;
&lt;p&gt;&amp;#x76EE;&amp;#x6807;&amp;#x662F;&amp;#xFF1A;&amp;#x5C3D;&amp;#x91CF;&amp;#x4FDD;&amp;#x8BC1;Segment&amp;#x6709;&amp;#x6548;&amp;#x6570;&amp;#x636E;&amp;#x91CF;&amp;#x591A;&amp;#x4E14;&amp;#x5360;&amp;#x7528;&amp;#x4E2A;&amp;#x6570;&amp;#x5C11;&amp;#xFF0C;&amp;#x540C;&amp;#x65F6;&amp;#x51CF;&amp;#x5C11;&amp;#x5E95;&amp;#x5C42;&amp;#x5B57;&amp;#x8282;&amp;#x6570;&amp;#x7EC4;copy&amp;#x3002;&lt;/p&gt;
&lt;h3 id=&quot;&amp;#x4E24;&amp;#x4E2A;&amp;#x7591;&amp;#x95EE;&quot;&gt;&lt;a href=&quot;#&amp;#x4E24;&amp;#x4E2A;&amp;#x7591;&amp;#x95EE;&quot; class=&quot;headerlink&quot; title=&quot;&amp;#x4E24;&amp;#x4E2A;&amp;#x7591;&amp;#x95EE;&quot;&gt;&lt;/a&gt;&amp;#x4E24;&amp;#x4E2A;&amp;#x7591;&amp;#x95EE;&lt;/h3&gt;&lt;p&gt;SegmentPool&amp;#x4F1A;&amp;#x51CF;&amp;#x5C11;&amp;#x5185;&amp;#x5B58;&amp;#x7684;&amp;#x591A;&amp;#x6B21;&amp;#x5206;&amp;#x914D;&amp;#xFF0C;&amp;#x4E2A;&amp;#x4EBA;&amp;#x611F;&amp;#x89C9;&amp;#x5F53;&amp;#x524D;&amp;#x8BBE;&amp;#x5B9A;8&amp;#x4E2A;Segment&amp;#x4F1A;&amp;#x4E0D;&amp;#x4F1A;&amp;#x6D6A;&amp;#x8D39;&amp;#x8D44;&amp;#x6E90;&amp;#xFF1B;&amp;#x5F53;&amp;#x524D;&amp;#x5355;&amp;#x4E2A;Segment&amp;#x5927;&amp;#x5C0F;&amp;#x9009;&amp;#x62E9;8KB&amp;#xFF0C;&amp;#x5982;&amp;#x679C;&amp;#x9009;&amp;#x62E9;linux&amp;#x9ED8;&amp;#x8BA4;&amp;#x9875;&amp;#x5927;&amp;#x5C0F;(4KB)&amp;#x4F1A;&amp;#x4E0D;&amp;#x4F1A;&amp;#x66F4;&amp;#x597D;&amp;#x4E00;&amp;#x70B9;&amp;#xFF1F;&lt;/p&gt;
&lt;h2 id=&quot;&amp;#x5176;&amp;#x4ED6;&amp;#x4F18;&amp;#x5316;&quot;&gt;&lt;a href=&quot;#&amp;#x5176;&amp;#x4ED6;&amp;#x4F18;&amp;#x5316;&quot; class=&quot;headerlink&quot; title=&quot;&amp;#x5176;&amp;#x4ED6;&amp;#x4F18;&amp;#x5316;&quot;&gt;&lt;/a&gt;&amp;#x5176;&amp;#x4ED6;&amp;#x4F18;&amp;#x5316;&lt;/h2&gt;&lt;h3 id=&quot;bytestring&quot;&gt;&lt;a href=&quot;#ByteString&quot; class=&quot;headerlink&quot; title=&quot;ByteString&quot;&gt;&lt;/a&gt;ByteString&lt;/h3&gt;&lt;p&gt;&amp;#x672C;&amp;#x8D28;&amp;#x662F;&amp;#x4E00;&amp;#x4E2A;&amp;#x6301;&amp;#x6709;byte&amp;#x6570;&amp;#x7EC4;&amp;#x548C;&amp;#x5BF9;&amp;#x5E94;utf8&amp;#x7F16;&amp;#x7801;String&amp;#x7684;&amp;#x7C7B;&amp;#xFF0C;&amp;#x63D0;&amp;#x4F9B;&amp;#x5B57;&amp;#x7B26;&amp;#x4E32;&amp;#x5E38;&amp;#x89C1;&amp;#x64CD;&amp;#x4F5C;&amp;#x548C;&amp;#x5404;&amp;#x79CD;&amp;#x7F16;&amp;#x7801;&amp;#x65B9;&amp;#x6CD5;(hex&amp;#xFF0C;base64&amp;#x7B49;)&amp;#xFF0C;&amp;#x7F13;&amp;#x5B58;utf-8&amp;#x5B57;&amp;#x7B26;&amp;#x4E32;&amp;#x53EF;&amp;#x6709;&amp;#x6548;&amp;#x63D0;&amp;#x9AD8;utf-8&amp;#x7F16;&amp;#x89E3;&amp;#x7801;&amp;#x6548;&amp;#x7387;&amp;#xFF0C;&amp;#x66F4;&amp;#x9002;&amp;#x7528;&amp;#x4E8E;&amp;#x7F51;&amp;#x7EDC;&amp;#x4F20;&amp;#x8F93;&amp;#x3002;&lt;/p&gt;
&lt;h3 id=&quot;timeout&quot;&gt;&lt;a href=&quot;#Timeout&quot; class=&quot;headerlink&quot; title=&quot;Timeout&quot;&gt;&lt;/a&gt;Timeout&lt;/h3&gt;&lt;p&gt;Java&amp;#x539F;&amp;#x751F;IO&amp;#x5E76;&amp;#x6CA1;&amp;#x6709;&amp;#x63D0;&amp;#x4F9B;&amp;#x8D85;&amp;#x65F6;&amp;#x673A;&amp;#x5236;&amp;#xFF0C;&amp;#x5C24;&amp;#x5176;&amp;#x5411;Socket&amp;#x5199;&amp;#x6570;&amp;#x636E;&amp;#x65F6;&amp;#x7531;&amp;#x4E8E;&amp;#x7F51;&amp;#x7EDC;&amp;#x95EE;&amp;#x9898;&amp;#x4F1A;&amp;#x957F;&amp;#x65F6;&amp;#x95F4;&amp;#x963B;&amp;#x585E;&amp;#xFF0C;&amp;#x6240;&amp;#x4EE5;Okio&amp;#x9488;&amp;#x5BF9;IO&amp;#x672C;&amp;#x8EAB;&amp;#x63D0;&amp;#x4F9B;&amp;#x8D85;&amp;#x65F6;&amp;#x673A;&amp;#x5236;&amp;#xFF0C;&amp;#x4E3B;&amp;#x8981;&amp;#x63D0;&amp;#x4F9B;&amp;#x4E24;&amp;#x79CD;&amp;#x673A;&amp;#x5236;&amp;#xFF1A;&amp;#x540C;&amp;#x6B65;&amp;#x548C;&amp;#x5F02;&amp;#x6B65;&amp;#x673A;&amp;#x5236;&amp;#xFF0C;&amp;#x5206;&amp;#x522B;&amp;#x7531;Timeout&amp;#x548C;AsyncTimeout&amp;#x5B9E;&amp;#x73B0;&amp;#xFF0C;&amp;#x793A;&amp;#x610F;&amp;#x56FE;&amp;#x5982;&amp;#x4E0B;&amp;#xFF1A;&lt;/p&gt;
&lt;img src=&quot;/2017/02/16/okio/okio-4.png&quot;&gt;
&lt;hr&gt;
&lt;img src=&quot;/2017/02/16/okio/okio-5.png&quot;&gt;
&lt;p&gt;&lt;strong&gt;&amp;#x63D0;&amp;#x4F9B;&amp;#x8D85;&amp;#x65F6;&amp;#x673A;&amp;#x5236;&amp;#x662F;&amp;#x5BF9;Java IO&amp;#x8FDB;&amp;#x884C;&amp;#x8865;&amp;#x5145;&amp;#xFF0C;&amp;#x5C24;&amp;#x5176;&amp;#x5F02;&amp;#x6B65;&amp;#x8D85;&amp;#x65F6;&amp;#x673A;&amp;#x5236;&amp;#x5BF9;&amp;#x4E8E;Socket&amp;#x7F16;&amp;#x7A0B;&amp;#x975E;&amp;#x5E38;&amp;#x53CB;&amp;#x597D;&lt;/strong&gt;&lt;/p&gt;
&lt;h2 id=&quot;&amp;#x603B;&amp;#x7ED3;&quot;&gt;&lt;a href=&quot;#&amp;#x603B;&amp;#x7ED3;&quot; class=&quot;headerlink&quot; title=&quot;&amp;#x603B;&amp;#x7ED3;&quot;&gt;&lt;/a&gt;&amp;#x603B;&amp;#x7ED3;&lt;/h2&gt;&lt;p&gt;Okio&amp;#x7EC4;&amp;#x4EF6;&amp;#x662F;&amp;#x9488;&amp;#x5BF9;HTTP&amp;#x5BA2;&amp;#x6237;&amp;#x7AEF;&amp;#x573A;&amp;#x666F;&amp;#x5BF9;Java I/O&amp;#x8FDB;&amp;#x884C;&amp;#x7684;&amp;#x4F18;&amp;#x5316;&amp;#xFF0C;&amp;#x4F7F;&amp;#x7528;&amp;#x66F4;&amp;#x52A0;&amp;#x4FBF;&amp;#x6377;&amp;#xFF0C;app&amp;#x4E2D;&amp;#x4E00;&amp;#x822C;IO&amp;#x64CD;&amp;#x4F5C;&amp;#x4E5F;&amp;#x53EF;&amp;#x4F7F;&amp;#x7528;&amp;#xFF0C;&amp;#x5C24;&amp;#x5176;&amp;#x662F;&amp;#x5176;&amp;#x63D0;&amp;#x4F9B;&amp;#x5F88;&amp;#x4FBF;&amp;#x6377;&amp;#x7684;&amp;#x52A0;&amp;#x89E3;&amp;#x5BC6;&amp;#x3001;&amp;#x538B;&amp;#x7F29;&amp;#x89E3;&amp;#x538B;&amp;#x6548;&amp;#x679C;&amp;#x3002;&lt;/p&gt;
&lt;h2 id=&quot;&amp;#x53C2;&amp;#x8003;&quot;&gt;&lt;a href=&quot;#&amp;#x53C2;&amp;#x8003;&quot; class=&quot;headerlink&quot; title=&quot;&amp;#x53C2;&amp;#x8003;&quot;&gt;&lt;/a&gt;&amp;#x53C2;&amp;#x8003;&lt;/h2&gt;&lt;ol&gt;
&lt;li&gt;&lt;a href=&quot;https://github.com/square/okio&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;https://github.com/square/okio&lt;/a&gt;&lt;/li&gt;
&lt;/ol&gt;
</content>
    
    <summary type="html">
    
      &lt;!-- toc --&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;#简介&quot;&gt;简介&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;#okio简单demo&quot;&gt;Okio简单demo&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;#核心类&quot;&gt;核心类&lt;/a&gt;&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;#结论&quot;&gt;结论&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;#buffer详解&quot;&gt;Buffer详解&lt;/a&gt;&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;#两个优化小细节&quot;&gt;两个优化小细节&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;#两个疑问&quot;&gt;两个疑问&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;#其他优化&quot;&gt;其他优化&lt;/a&gt;&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;#bytestring&quot;&gt;ByteString&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;#timeout&quot;&gt;Timeout&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;#总结&quot;&gt;总结&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;#参考&quot;&gt;参考&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;!-- tocstop --&gt;
&lt;h2 id=&quot;简介&quot;&gt;&lt;a href=&quot;#简介&quot; class=&quot;headerlink&quot; title=&quot;简介&quot;&gt;&lt;/a&gt;简介&lt;/h2&gt;&lt;p&gt;Okio是由Square公司开发并开源的java IO组件库，最初用于其开发的HTTP客户端OkHttp的底层IO封装，从Android 4.4起，HttpURLConnection底层实现采用Okhttp，Okio组件也被开发者所认可。根据GitHub介绍，该组件定位是：&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;Okio is a new library that complements java.io and java.nio to make it much easier to access, store, and process your data.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;我们主要是通过源码分析学习其优化的思想。&lt;/p&gt;
&lt;h2 id=&quot;Okio简单demo&quot;&gt;&lt;a href=&quot;#Okio简单demo&quot; class=&quot;headerlink&quot; title=&quot;Okio简单demo&quot;&gt;&lt;/a&gt;Okio简单demo&lt;/h2&gt;&lt;figure class=&quot;highlight java&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;10&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;// inputStream  : 输入&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;// outputStream : 输出&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;try&lt;/span&gt; (BufferedSource source = Okio.buffer(Okio.source(inputStream));&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;     BufferedSink sink = Okio.buffer(HashingSink.md5(Okio.sink(outputStream)))&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;) &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    sink.writeAll(source);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    sink.flush();&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#125; &lt;span class=&quot;keyword&quot;&gt;catch&lt;/span&gt; (IOException e) &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    e.printStackTrace();&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
    
    </summary>
    
      <category term="Android学习笔记" scheme="http://yoursite.com/categories/Android%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/"/>
    
    
      <category term="Android" scheme="http://yoursite.com/tags/Android/"/>
    
  </entry>
  
  <entry>
    <title>Android 开发参考规范</title>
    <link href="http://yoursite.com/2017/01/10/android-style-guide/"/>
    <id>http://yoursite.com/2017/01/10/android-style-guide/</id>
    <published>2017-01-10T08:03:08.000Z</published>
    <updated>2017-01-10T08:08:22.000Z</updated>
    
    <content type="html">&lt;h2 id=&quot;&amp;#x53C2;&amp;#x8003;&amp;#x6765;&amp;#x6E90;&quot;&gt;&lt;a href=&quot;#&amp;#x53C2;&amp;#x8003;&amp;#x6765;&amp;#x6E90;&quot; class=&quot;headerlink&quot; title=&quot;&amp;#x53C2;&amp;#x8003;&amp;#x6765;&amp;#x6E90;&quot;&gt;&lt;/a&gt;&amp;#x53C2;&amp;#x8003;&amp;#x6765;&amp;#x6E90;&lt;/h2&gt;&lt;p&gt; &lt;strong&gt; &amp;#x5EFA;&amp;#x8BAE;&amp;#x4ED4;&amp;#x7EC6;&amp;#x9605;&amp;#x8BFB;&amp;#x4EE5;&amp;#x4E0B;&amp;#x6587;&amp;#x6863;:&lt;/strong&gt;&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;&lt;a href=&quot;http://google.github.io/styleguide/javaguide.html&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;Google Java Style Guide&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://google.github.io/styleguide/cppguide.html&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;Google C++ Style Guide&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;http://source.android.com/source/code-style.html#java-language-rules&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;Android Source Style Guide&lt;/a&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id=&quot;&amp;#x76EE;&amp;#x6807;&quot;&gt;&lt;a href=&quot;#&amp;#x76EE;&amp;#x6807;&quot; class=&quot;headerlink&quot; title=&quot;&amp;#x76EE;&amp;#x6807;&quot;&gt;&lt;/a&gt;&amp;#x76EE;&amp;#x6807;&lt;/h2&gt;&lt;p&gt;&lt;strong&gt;&amp;#x7B80;&amp;#x5355;&amp;#xFF0C;&amp;#x7EDF;&amp;#x4E00;&amp;#xFF0C;&amp;#x9AD8;&amp;#x6548;&lt;/strong&gt;&lt;/p&gt;
&lt;a id=&quot;more&quot;&gt;&lt;/a&gt;
&lt;h2 id=&quot;&amp;#x603B;&amp;#x7ED3;&quot;&gt;&lt;a href=&quot;#&amp;#x603B;&amp;#x7ED3;&quot; class=&quot;headerlink&quot; title=&quot;&amp;#x603B;&amp;#x7ED3;&quot;&gt;&lt;/a&gt;&amp;#x603B;&amp;#x7ED3;&lt;/h2&gt;&lt;h3 id=&quot;java&quot;&gt;&lt;a href=&quot;#Java&quot; class=&quot;headerlink&quot; title=&quot;Java&quot;&gt;&lt;/a&gt;Java&lt;/h3&gt;&lt;p&gt;&lt;strong&gt;1.&lt;/strong&gt; &amp;#x7C7B;&amp;#x540D;&amp;#x5927;&amp;#x5C0F;&amp;#x5199;&amp;#x654F;&amp;#x611F;&amp;#xFF0C;&amp;#x9996;&amp;#x5B57;&amp;#x6BCD;&amp;#x5C0F;&amp;#x5199;&amp;#xFF0C;&amp;#x540E;&amp;#x7F00;&amp;#x540D;&lt;code&gt;.java&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;2.&lt;/strong&gt; &amp;#x6E90;&amp;#x4EE3;&amp;#x7801;UTF-8&amp;#x7F16;&amp;#x7801;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;3.&lt;/strong&gt; &amp;#x7F29;&amp;#x8FDB;&amp;#x4F7F;&amp;#x7528;&amp;#x7A7A;&amp;#x683C;(0x20)&amp;#xFF0C;&amp;#x9664;&amp;#x53BB;&amp;#x7A7A;&amp;#x683C;&amp;#x7684;&amp;#x5176;&amp;#x4F59;&amp;#x6240;&amp;#x6709;&amp;#x7A7A;&amp;#x767D;&amp;#x5B57;&amp;#x7B26;&amp;#x4F7F;&amp;#x7528;&amp;#x8F6C;&amp;#x4E49;(&lt;code&gt;\t&lt;/code&gt;&amp;#x7B49;)&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;4.&lt;/strong&gt; &amp;#x8F6C;&amp;#x4E49;&amp;#x5B57;&amp;#x7B26;&amp;#x4F18;&amp;#x5148;&amp;#x4F7F;&amp;#x7528;(&lt;code&gt;\b&lt;/code&gt;, &lt;code&gt;\t&lt;/code&gt;, &lt;code&gt;\n&lt;/code&gt;, &lt;code&gt;\f&lt;/code&gt;, &lt;code&gt;\r&lt;/code&gt;, &lt;code&gt;\&amp;quot;&lt;/code&gt;, &lt;code&gt;\&amp;apos;&lt;/code&gt;&amp;#x548C;&lt;code&gt;\\&lt;/code&gt;)&amp;#xFF0C;&amp;#x5176;&amp;#x6B21;&amp;#x4F7F;&amp;#x7528;&amp;#x516B;&amp;#x8FDB;&amp;#x5236;&amp;#x6216;&amp;#x5341;&amp;#x516D;&amp;#x8FDB;&amp;#x5236;&amp;#x8868;&amp;#x793A;&amp;#xFF1B;&amp;#x5728;&amp;#x5E03;&amp;#x5C40;&amp;#x6587;&amp;#x4EF6;xml&amp;#x4E2D;&amp;#x7684;&amp;#x7279;&amp;#x6B8A;&amp;#x5B57;&amp;#x7B26;Android Studio&amp;#x4F1A;&amp;#x7ED9;&amp;#x51FA;&amp;#x5BF9;&amp;#x5E94;&amp;#x8F6C;&amp;#x4E49;&amp;#x63D0;&amp;#x793A;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;5.&lt;/strong&gt; &amp;#x4E0D;&amp;#x4F7F;&amp;#x7528;&amp;#x901A;&amp;#x914D;&amp;#x7B26;(*)&amp;#x8FDB;&amp;#x884C;&amp;#x5BFC;&amp;#x5165;import&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;6.&lt;/strong&gt; &amp;#x7C7B;&amp;#x7684;&amp;#x91CD;&amp;#x8F7D;&amp;#x65B9;&amp;#x6CD5;&amp;#x5E94;&amp;#x8BE5;&amp;#x6309;&amp;#x987A;&amp;#x5E8F;&amp;#x5728;&amp;#x4E00;&amp;#x8D77;&amp;#xFF0C;&amp;#x6784;&amp;#x9020;&amp;#x65B9;&amp;#x6CD5;&amp;#x540C;&amp;#x7406;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;7.&lt;/strong&gt; &amp;#x5373;&amp;#x4F7F;&lt;code&gt;if&lt;/code&gt;&amp;#x7B49;&amp;#x8BED;&amp;#x53E5;&amp;#x53EA;&amp;#x6709;&amp;#x4E00;&amp;#x884C;&amp;#x8BED;&amp;#x53E5;&amp;#x65F6;&amp;#xFF0C;&amp;#x4E5F;&amp;#x9700;&amp;#x8981;&amp;#x4F7F;&amp;#x7528;&amp;#x82B1;&amp;#x62EC;&amp;#x53F7;(&lt;code&gt;{}&lt;/code&gt;)&amp;#xFF0C;&amp;#x82B1;&amp;#x62EC;&amp;#x53F7;&amp;#x9075;&amp;#x5FAA;K&amp;amp;R Style&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;8.&lt;/strong&gt; &amp;#x4E00;&amp;#x884C;&amp;#x4E00;&amp;#x6761;&amp;#x8BED;&amp;#x53E5;&amp;#xFF0C;&amp;#x957F;&amp;#x5EA6;&amp;#x6700;&amp;#x5927;100&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;9.&lt;/strong&gt; &amp;#x6C34;&amp;#x5E73;&amp;#x7A7A;&amp;#x767D;&amp;#x548C;&amp;#x5782;&amp;#x76F4;&amp;#x7A7A;&amp;#x767D;&amp;#x6839;&amp;#x636E;&amp;#x903B;&amp;#x8F91;&amp;#x548C;&amp;#x7F8E;&amp;#x89C2;&amp;#x8FDB;&amp;#x884C;&amp;#x6DFB;&amp;#x52A0;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;10.&lt;/strong&gt; &amp;#x8FD0;&amp;#x7B97;&amp;#x7B26;&amp;#x4F18;&amp;#x5148;&amp;#x7EA7;&amp;#x4F7F;&amp;#x7528;&amp;#x5C0F;&amp;#x62EC;&amp;#x53F7;&amp;#x6307;&amp;#x5B9A;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;11.&lt;/strong&gt; switch&amp;#x90FD;&amp;#x5305;&amp;#x542B;&lt;code&gt;default&lt;/code&gt;&amp;#x8BED;&amp;#x53E5;&amp;#xFF0C;&amp;#x5373;&amp;#x4F7F;&amp;#x4EC0;&amp;#x4E48;&amp;#x4EE3;&amp;#x7801;&amp;#x4E5F;&amp;#x6CA1;&amp;#x6709;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;12.&lt;/strong&gt; &amp;#x6CE8;&amp;#x91CA;&amp;#x5757;&amp;#x9075;&amp;#x5FAA;&amp;#x5982;&amp;#x4E0B;&amp;#x683C;&amp;#x5F0F; &lt;/p&gt;
&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;/*&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt; * This is          // And so           /* Or you can&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt; * okay.            // is this.          * even do this. */&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt; */&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;&lt;strong&gt;13.&lt;/strong&gt; Modifiers&amp;#x51FA;&amp;#x73B0;&amp;#x987A;&amp;#x5E8F;&lt;/p&gt;
&lt;p&gt;&lt;code&gt;public protected private abstract static final transient volatile synchronized native strictfp&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;14.&lt;/strong&gt; long &amp;#x540E;&amp;#x7F00;&amp;#x4F7F;&amp;#x7528; &lt;code&gt;L&lt;/code&gt;&amp;#xFF0C;&amp;#x5341;&amp;#x516D;&amp;#x8FDB;&amp;#x5236;&amp;#x548C;&amp;#x516B;&amp;#x8FDB;&amp;#x5236;&amp;#x524D;&amp;#x7F00;&amp;#x4F7F;&amp;#x7528;&lt;code&gt;0x&lt;/code&gt;&amp;#x548C;&lt;code&gt;o&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;15.&lt;/strong&gt; &amp;#x547D;&amp;#x540D;&amp;#x7EA6;&amp;#x5B9A;&amp;#xFF1A;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;&amp;#x6807;&amp;#x8BC6;&amp;#x7B26;&amp;#x53EA;&amp;#x4F7F;&amp;#x7528;ASCII&amp;#x548C;&amp;#x6570;&amp;#x5B57;  &lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;&amp;#x5305;&amp;#x540D;&amp;#x5168;&amp;#x90E8;&amp;#x5C0F;&amp;#x5199;&amp;#xFF0C;&amp;#x4E2D;&amp;#x95F4;&amp;#x65E0;&amp;#x4E0B;&amp;#x5212;&amp;#x7EBF;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;&amp;#x7C7B;&amp;#x540D;&amp;#x4F7F;&amp;#x7528;&lt;code&gt;UpperCamelCase&lt;/code&gt;&amp;#x98CE;&amp;#x683C;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;&amp;#x65B9;&amp;#x6CD5;&amp;#x540D;&amp;#x4F7F;&amp;#x7528;&lt;code&gt;lowerCamelCase&lt;/code&gt;&amp;#x98CE;&amp;#x683C;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;&amp;#x5E38;&amp;#x91CF;&amp;#x4F7F;&amp;#x7528;static fianl&amp;#xFF0C;&amp;#x5927;&amp;#x5199;&amp;#x5B57;&amp;#x6BCD;&amp;#x5E76;&amp;#x4EE5;&amp;#x4E0B;&amp;#x5212;&amp;#x7EBF;&amp;#x5206;&amp;#x5272;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;CamelCase&amp;#xFF1A;&amp;#x6BCF;&amp;#x4E2A;&amp;#x5355;&amp;#x8BCD;&amp;#x9996;&amp;#x5B57;&amp;#x6BCD;&amp;#x5927;&amp;#x5199;&amp;#xFF0C;&amp;#x5176;&amp;#x4F59;&amp;#x5C0F;&amp;#x5199;&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;strong&gt;16.&lt;/strong&gt; &amp;#x7F16;&amp;#x7A0B;&amp;#x4E60;&amp;#x60EF;&amp;#xFF1A;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;&amp;#x4F7F;&amp;#x7528;Java&amp;#x63D0;&amp;#x4F9B;&amp;#x7684;&amp;#x6CE8;&amp;#x89E3;(@Override, @Deprecated &amp;#x548C; @SuppressWarnings)&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;&amp;#x5F02;&amp;#x5E38;&amp;#x6355;&amp;#x83B7;&amp;#x6700;&amp;#x597D;&amp;#x6307;&amp;#x5B9A;&amp;#x7C7B;&amp;#x578B;&amp;#xFF0C;&amp;#x5E76;&amp;#x7ED9;&amp;#x51FA;&amp;#x5F02;&amp;#x5E38;&amp;#x65F6;&amp;#x7684;&amp;#x89E3;&amp;#x51B3;&amp;#x65B9;&amp;#x6848;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;&amp;#x9759;&amp;#x6001;&amp;#x6210;&amp;#x5458;&amp;#x548C;&amp;#x9759;&amp;#x6001;&amp;#x65B9;&amp;#x6CD5;&amp;#x4F7F;&amp;#x7528;&amp;#x7C7B;&amp;#x53D8;&amp;#x91CF;&amp;#x8FDB;&amp;#x884C;&amp;#x8C03;&amp;#x7528;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;&amp;#x7C7B;&amp;#x6210;&amp;#x5458;&amp;#x7684;&amp;#x4E60;&amp;#x60EF;&amp;#x547D;&amp;#x540D;&amp;#x683C;&amp;#x5F0F;(&amp;#x6CE8;&amp;#x610F;&amp;#x524D;&amp;#x9762;&amp;#x7684;&lt;code&gt;m&lt;/code&gt;)&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;figure class=&quot;highlight java&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;class&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;MyClass&lt;/span&gt; &lt;/span&gt;{&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;static&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;final&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;int&lt;/span&gt; SOME_CONSTANT = &lt;span class=&quot;number&quot;&gt;42&lt;/span&gt;;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;int&lt;/span&gt; publicField;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;private&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;static&lt;/span&gt; MyClass sSingleton;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;int&lt;/span&gt; mPackagePrivate;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;private&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;int&lt;/span&gt; mPrivate;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;protected&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;int&lt;/span&gt; mProtected;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;}&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;&amp;#x7279;&amp;#x6709;&amp;#x540D;&amp;#x8BCD;&amp;#x5F53;&amp;#x6210;&amp;#x666E;&amp;#x901A;&amp;#x5355;&amp;#x8BCD;&amp;#xFF0C;&amp;#x4F8B;&amp;#x5982; IOS-&amp;gt;Ios&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;&amp;#x4F7F;&amp;#x7528;TODO&amp;#x8FDB;&amp;#x884C;&amp;#x672A;&amp;#x5B8C;&amp;#x6210;&amp;#x7684;&amp;#x6CE8;&amp;#x91CA;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;&amp;#x65E5;&amp;#x5FD7;&amp;#x4F7F;&amp;#x7528;Log&amp;#xFF0C;&amp;#x4F7F;&amp;#x7528;tag&amp;#x5206;&amp;#x7C7B;&amp;#xFF0C;&amp;#x6CE8;&amp;#x610F;&amp;#x5404;&amp;#x79CD;&amp;#x7EA7;&amp;#x522B;&amp;#xFF1A;&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th style=&quot;text-align:left&quot;&gt;&amp;#x7EA7;&amp;#x522B;&lt;/th&gt;
&lt;th style=&quot;text-align:left&quot;&gt;&amp;#x9002;&amp;#x7528;&amp;#x573A;&amp;#x666F;&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td style=&quot;text-align:left&quot;&gt;&lt;code&gt;ERROR&lt;/code&gt;&lt;/td&gt;
&lt;td style=&quot;text-align:left&quot;&gt;&amp;#x81F4;&amp;#x547D;&amp;#x9519;&amp;#x8BEF;&amp;#x5BFC;&amp;#x81F4;&amp;#x7684;&amp;#x8FD0;&amp;#x884C;&amp;#x65F6;&amp;#x5F02;&amp;#x5E38;(crash)&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&quot;text-align:left&quot;&gt;&lt;code&gt;WARNING&lt;/code&gt;&lt;/td&gt;
&lt;td style=&quot;text-align:left&quot;&gt;&amp;#x4E0D;&amp;#x4F1A;&amp;#x5BFC;&amp;#x81F4;&amp;#x5D29;&amp;#x6E83;&amp;#xFF0C;&amp;#x4F46;&amp;#x9700;&amp;#x8981;&amp;#x8FDB;&amp;#x4E00;&amp;#x6B65;&amp;#x53BB;&amp;#x6539;&amp;#x8FDB;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&quot;text-align:left&quot;&gt;&lt;code&gt;INFORMATION&lt;/code&gt;&lt;/td&gt;
&lt;td style=&quot;text-align:left&quot;&gt;&amp;#x62A5;&amp;#x544A;&amp;#x4E00;&amp;#x4E9B;&amp;#x5BF9;&amp;#x4E8E;&amp;#x5927;&amp;#x591A;&amp;#x6570;&amp;#x4EBA;&amp;#x611F;&amp;#x5174;&amp;#x8DA3;&amp;#x7684;&amp;#x4FE1;&amp;#x606F;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&quot;text-align:left&quot;&gt;&lt;code&gt;DEBUG&lt;/code&gt;&lt;/td&gt;
&lt;td style=&quot;text-align:left&quot;&gt;&amp;#x8C03;&amp;#x8BD5;&amp;#x65F6;&amp;#x4EA7;&amp;#x751F;&amp;#x5F02;&amp;#x5E38;&amp;#x7684;&amp;#x4FE1;&amp;#x606F;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&quot;text-align:left&quot;&gt;&lt;code&gt;VERBOSE&lt;/code&gt;&lt;/td&gt;
&lt;td style=&quot;text-align:left&quot;&gt;&amp;#x666E;&amp;#x901A;&amp;#x63D0;&amp;#x793A;&amp;#x4FE1;&amp;#x606F;&amp;#xFF0C;&amp;#x7528;&amp;#x4E8E;&amp;#x89C2;&amp;#x5BDF;&amp;#x7A0B;&amp;#x5E8F;&amp;#x8FD0;&amp;#x884C;&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;Java&amp;#x8BBF;&amp;#x95EE;&amp;#x6743;&amp;#x9650;&amp;#x6700;&amp;#x5C0F;&amp;#x5316;&amp;#xFF0C;&amp;#x5305;&amp;#x62EC;:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&amp;#x53D8;&amp;#x91CF;&amp;#x4F18;&amp;#x5148;&amp;#x4F7F;&amp;#x7528;&amp;#x5C40;&amp;#x90E8;&amp;#x53D8;&amp;#x91CF; &amp;gt; &amp;#x6210;&amp;#x5458;&amp;#x53D8;&amp;#x91CF; &amp;gt; &amp;#x9759;&amp;#x6001;&amp;#x53D8;&amp;#x91CF;&lt;/li&gt;
&lt;li&gt;&amp;#x65B9;&amp;#x6CD5;&amp;#x4F18;&amp;#x5148;&amp;#x4F7F;&amp;#x7528;private &amp;gt; protected &amp;gt; default &amp;gt; public &lt;/li&gt;
&lt;li&gt;&amp;#x5B9A;&amp;#x4E49;&amp;#x4F18;&amp;#x5148;&amp;#x6A21;&amp;#x5757; &amp;gt; &amp;#x5168;&amp;#x5C40;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;&amp;#x4F7F;&amp;#x7528;Annotations&amp;#x548C;&amp;#x5E38;&amp;#x91CF;&amp;#x4EE3;&amp;#x66FF;&amp;#x679A;&amp;#x4E3E;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;&amp;#x8D44;&amp;#x6E90;&amp;#x6587;&amp;#x4EF6;&amp;#x547D;&amp;#x540D;&amp;#x8981;&amp;#x4F7F;&amp;#x7528;&amp;#x7C7B;&amp;#x578B;&amp;#x524D;&amp;#x7F00;&amp;#xFF0C;&amp;#x8D44;&amp;#x6E90;id&amp;#x8981;&amp;#x4F7F;&amp;#x7528;&amp;#x8D44;&amp;#x6E90;&amp;#x6587;&amp;#x4EF6;&amp;#x540D;&amp;#x4F5C;&amp;#x4E3A;&amp;#x524D;&amp;#x7F00;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;&amp;#x4F18;&amp;#x5148;&amp;#x4F7F;&amp;#x7528;res&amp;#x8FDB;&amp;#x884C;&amp;#x8D44;&amp;#x6E90;&amp;#x5B9A;&amp;#x4E49;&amp;#xFF0C;&amp;#x907F;&amp;#x514D;&amp;#x4EE3;&amp;#x7801;&amp;#x5199;&amp;#x6B7B;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;&amp;#x591A;&amp;#x4F7F;&amp;#x7528;Android&amp;#x63D0;&amp;#x4F9B;&amp;#x7684;&amp;#x7279;&amp;#x5B9A;API &lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&quot;cc&quot;&gt;&lt;a href=&quot;#C-C&quot; class=&quot;headerlink&quot; title=&quot;C/C++&quot;&gt;&lt;/a&gt;C/C++&lt;/h3&gt;&lt;p&gt;&amp;#x6682;&amp;#x65F6;&amp;#x6CA1;&amp;#x6709;&amp;#x4F7F;&amp;#x7528;NDK&amp;#x5F00;&amp;#x53D1;&amp;#xFF0C;&amp;#x5F85;&amp;#x7EED;&amp;#x3002;&amp;#x3002;&amp;#x3002;&lt;/p&gt;
</content>
    
    <summary type="html">
    
      &lt;h2 id=&quot;参考来源&quot;&gt;&lt;a href=&quot;#参考来源&quot; class=&quot;headerlink&quot; title=&quot;参考来源&quot;&gt;&lt;/a&gt;参考来源&lt;/h2&gt;&lt;p&gt; &lt;strong&gt; 建议仔细阅读以下文档:&lt;/strong&gt;&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;&lt;a href=&quot;http://google.github.io/styleguide/javaguide.html&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;Google Java Style Guide&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://google.github.io/styleguide/cppguide.html&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;Google C++ Style Guide&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;http://source.android.com/source/code-style.html#java-language-rules&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;Android Source Style Guide&lt;/a&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id=&quot;目标&quot;&gt;&lt;a href=&quot;#目标&quot; class=&quot;headerlink&quot; title=&quot;目标&quot;&gt;&lt;/a&gt;目标&lt;/h2&gt;&lt;p&gt;&lt;strong&gt;简单，统一，高效&lt;/strong&gt;&lt;/p&gt;
    
    </summary>
    
      <category term="Android学习笔记" scheme="http://yoursite.com/categories/Android%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/"/>
    
    
      <category term="Android" scheme="http://yoursite.com/tags/Android/"/>
    
  </entry>
  
  <entry>
    <title>《Java TCP/IP Socket编程》读书笔记(下)</title>
    <link href="http://yoursite.com/2016/12/08/java-tcp-ip-socket-program-note-1/"/>
    <id>http://yoursite.com/2016/12/08/java-tcp-ip-socket-program-note-1/</id>
    <published>2016-12-08T08:23:32.000Z</published>
    <updated>2016-12-08T08:30:08.000Z</updated>
    
    <content type="html">&lt;!-- toc --&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;#&amp;#x7B2C;&amp;#x56DB;&amp;#x7AE0;-&amp;#x8FDB;&amp;#x9636;&quot;&gt;&amp;#x7B2C;&amp;#x56DB;&amp;#x7AE0; &amp;#x8FDB;&amp;#x9636;&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;#&amp;#x7B2C;&amp;#x4E94;&amp;#x7AE0;-nio&quot;&gt;&amp;#x7B2C;&amp;#x4E94;&amp;#x7AE0; NIO&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;#&amp;#x7B2C;&amp;#x516D;&amp;#x7AE0;-&amp;#x6DF1;&amp;#x5165;&amp;#x5256;&amp;#x6790;&quot;&gt;&amp;#x7B2C;&amp;#x516D;&amp;#x7AE0; &amp;#x6DF1;&amp;#x5165;&amp;#x5256;&amp;#x6790;&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;!-- tocstop --&gt;
&lt;h2 id=&quot;&amp;#x7B2C;&amp;#x56DB;&amp;#x7AE0;-&amp;#x8FDB;&amp;#x9636;&quot;&gt;&lt;a href=&quot;#&amp;#x7B2C;&amp;#x56DB;&amp;#x7AE0;-&amp;#x8FDB;&amp;#x9636;&quot; class=&quot;headerlink&quot; title=&quot;&amp;#x7B2C;&amp;#x56DB;&amp;#x7AE0; &amp;#x8FDB;&amp;#x9636;&quot;&gt;&lt;/a&gt;&amp;#x7B2C;&amp;#x56DB;&amp;#x7AE0; &amp;#x8FDB;&amp;#x9636;&lt;/h2&gt;&lt;img src=&quot;/2016/12/08/java-tcp-ip-socket-program-note-1/chapter4.png&quot;&gt;
&lt;a id=&quot;more&quot;&gt;&lt;/a&gt;
&lt;h2 id=&quot;&amp;#x7B2C;&amp;#x4E94;&amp;#x7AE0;-nio&quot;&gt;&lt;a href=&quot;#&amp;#x7B2C;&amp;#x4E94;&amp;#x7AE0;-NIO&quot; class=&quot;headerlink&quot; title=&quot;&amp;#x7B2C;&amp;#x4E94;&amp;#x7AE0; NIO&quot;&gt;&lt;/a&gt;&amp;#x7B2C;&amp;#x4E94;&amp;#x7AE0; NIO&lt;/h2&gt;&lt;p&gt;&lt;strong&gt;1. Buffer&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;1.Buffer&amp;#x7D22;&amp;#x5F15;&lt;/p&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th style=&quot;text-align:left&quot;&gt;&amp;#x7D22;&amp;#x5F15;&lt;/th&gt;
&lt;th style=&quot;text-align:left&quot;&gt;&amp;#x63CF;&amp;#x8FF0;&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td style=&quot;text-align:left&quot;&gt;capacity&lt;/td&gt;
&lt;td style=&quot;text-align:left&quot;&gt;&amp;#x7F13;&amp;#x51B2;&amp;#x533A;&amp;#x7684;&amp;#x5143;&amp;#x7D20;&amp;#x603B;&amp;#x6570;(&amp;#x4E0D;&amp;#x53EF;&amp;#x4FEE;&amp;#x6539;)&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&quot;text-align:left&quot;&gt;position&lt;/td&gt;
&lt;td style=&quot;text-align:left&quot;&gt;&amp;#x4E0B;&amp;#x4E00;&amp;#x4E2A;&amp;#x8981;&amp;#x8BFB;/&amp;#x5199;&amp;#x7684;&amp;#x5143;&amp;#x7D20;(&amp;#x4ECE;0&amp;#x5F00;&amp;#x59CB;)&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&quot;text-align:left&quot;&gt;limit&lt;/td&gt;
&lt;td style=&quot;text-align:left&quot;&gt;&amp;#x7B2C;&amp;#x4E00;&amp;#x4E2A;&amp;#x4E0D;&amp;#x53EF;&amp;#x8BFB;/&amp;#x5199;&amp;#x5143;&amp;#x7D20;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&quot;text-align:left&quot;&gt;mark&lt;/td&gt;
&lt;td style=&quot;text-align:left&quot;&gt;&amp;#x7528;&amp;#x6237;&amp;#x9009;&amp;#x5B9A;position&amp;#x7684;&amp;#x524D;&amp;#x4E00;&amp;#x4E2A;&amp;#x4F4D;&amp;#x7F6E;&amp;#xFF0C;&amp;#x6216;0&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;p&gt;ByteBuffer#hasRemaining: &amp;#x5F53;&amp;#x7F13;&amp;#x51B2;&amp;#x533A;&amp;#x81F3;&amp;#x5C11;&amp;#x8FD8;&amp;#x6709;&amp;#x4E00;&amp;#x4E2A;&amp;#x5143;&amp;#x7D20;&amp;#x65F6;&amp;#xFF0C;&amp;#x8FD4;&amp;#x56DE;true&lt;/p&gt;
&lt;p&gt;ByteBuffer#remaining(): &amp;#x8FD4;&amp;#x56DE;&amp;#x5269;&amp;#x4F59;&amp;#x5143;&amp;#x7D20;&amp;#x7684;&amp;#x4E2A;&amp;#x6570;&lt;/p&gt;
&lt;p&gt;2.&amp;#x521B;&amp;#x5EFA;Buffer&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;ByteBuffer#allocate(int capacity) &amp;#x6216; ByteBuffer#allocateDirect(int capacity)&lt;/li&gt;
&lt;li&gt;ByteBuffer#wrap()&amp;#x65B9;&amp;#x6CD5;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;strong&gt;Tips:&lt;/strong&gt; &lt;/p&gt;
&lt;p&gt;&amp;#x540E;&amp;#x63F4;&amp;#x6570;&amp;#x7EC4;&amp;#xFF1A;&lt;/p&gt;
&lt;p&gt;a) &amp;#x7F13;&amp;#x51B2;&amp;#x533A;&amp;#x8C03;&amp;#x7528;array()&amp;#x83B7;&amp;#x53D6;&amp;#x540E;&amp;#x63F4;&amp;#x6570;&amp;#x7EC4;&lt;br&gt;b) &amp;#x8C03;&amp;#x7528;arrayOffset()&amp;#x83B7;&amp;#x53D6;&amp;#x7F13;&amp;#x51B2;&amp;#x533A;&amp;#x7B2C;&amp;#x4E00;&amp;#x4E2A;&amp;#x5143;&amp;#x7D20;&amp;#x5728;&amp;#x540E;&amp;#x63F4;&amp;#x6570;&amp;#x7EC4;&amp;#x4E2D;&amp;#x7684;&amp;#x504F;&amp;#x79FB;&amp;#x91CF;&lt;/p&gt;
&lt;p&gt;direct buffers&amp;#x4F7F;&amp;#x7528;&amp;#x65F6;&amp;#x5FC5;&amp;#x987B;&amp;#x8C03;&amp;#x7528;isDirect()&amp;#x8FDB;&amp;#x884C;&amp;#x68C0;&amp;#x67E5;&lt;/p&gt;
&lt;p&gt;3.&amp;#x5B58;&amp;#x50A8;&amp;#x548C;&amp;#x63A5;&amp;#x6536;&amp;#x6570;&amp;#x636E;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;get()/put() &amp;#x2013;&amp;gt;  &amp;#x7EDD;&amp;#x5BF9;&amp;#x4F4D;&amp;#x7F6E;&amp;#x4E0D;&amp;#x4F1A;&amp;#x6539;&amp;#x53D8;position&amp;#xFF0C;&amp;#x800C;&amp;#x76F8;&amp;#x5BF9;&amp;#x4F4D;&amp;#x7F6E;&amp;#x4F1A;&lt;/li&gt;
&lt;li&gt;&amp;#x5141;&amp;#x8BB8;&amp;#x94FE;&amp;#x5F0F;&amp;#x8C03;&amp;#x7528;&lt;/li&gt;
&lt;li&gt;Java&amp;#x9ED8;&amp;#x8BA4;big-endian&amp;#xFF1B;ByteOrder#nativeOrder()&amp;#x83B7;&amp;#x53D6;&amp;#x7CFB;&amp;#x7EDF;&amp;#x652F;&amp;#x6301;&amp;#x7684;&amp;#x5B57;&amp;#x8282;&amp;#x5E8F;&amp;#x5217;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;4.&amp;#x51C6;&amp;#x5907;Buffer&lt;/p&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th style=&quot;text-align:left&quot;&gt;&amp;#x65B9;&amp;#x6CD5;&lt;/th&gt;
&lt;th style=&quot;text-align:left&quot;&gt;&amp;#x63CF;&amp;#x8FF0;&lt;/th&gt;
&lt;th style=&quot;text-align:left&quot;&gt;&amp;#x7ED3;&amp;#x679C;&amp;#x503C;Position&lt;/th&gt;
&lt;th style=&quot;text-align:left&quot;&gt;&amp;#x7ED3;&amp;#x679C;&amp;#x503C;Limit&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td style=&quot;text-align:left&quot;&gt;clear()&lt;/td&gt;
&lt;td style=&quot;text-align:left&quot;&gt;&amp;#x5C06;&amp;#x6570;&amp;#x636E;read()/put()&amp;#x8FDB;&amp;#x7F13;&amp;#x51B2;&amp;#x533A;&lt;/td&gt;
&lt;td style=&quot;text-align:left&quot;&gt;0&lt;/td&gt;
&lt;td style=&quot;text-align:left&quot;&gt;capacity&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&quot;text-align:left&quot;&gt;flip()&lt;/td&gt;
&lt;td style=&quot;text-align:left&quot;&gt;&amp;#x4ECE;&amp;#x7F13;&amp;#x51B2;&amp;#x533A;write()/get()&lt;/td&gt;
&lt;td style=&quot;text-align:left&quot;&gt;0&lt;/td&gt;
&lt;td style=&quot;text-align:left&quot;&gt;position&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&quot;text-align:left&quot;&gt;rewind()&lt;/td&gt;
&lt;td style=&quot;text-align:left&quot;&gt;&amp;#x4ECE;&amp;#x7F13;&amp;#x51B2;&amp;#x533A;rewrite()/get()&lt;/td&gt;
&lt;td style=&quot;text-align:left&quot;&gt;0&lt;/td&gt;
&lt;td style=&quot;text-align:left&quot;&gt;&amp;#x65E0;&amp;#x53D8;&amp;#x5316;&amp;#xFF0C;&amp;#x4F7F;mark&amp;#x503C;&amp;#x65E0;&amp;#x6548;&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;p&gt;5.&amp;#x538B;&amp;#x7F29;Buffer&amp;#x7684;&amp;#x6570;&amp;#x636E;&lt;/p&gt;
&lt;p&gt;compact()&amp;#x65B9;&amp;#x6CD5;&amp;#x5C06;&amp;#x6240;&amp;#x6709;&amp;#x672A;&amp;#x8BFB;&amp;#x7684;&amp;#x6570;&amp;#x636E;&amp;#x62F7;&amp;#x8D1D;&amp;#x5230;Buffer&amp;#x8D77;&amp;#x59CB;&amp;#x5904;&amp;#xFF0C;&amp;#x7136;&amp;#x540E;&amp;#x5C06;position&amp;#x8BBE;&amp;#x5230;&amp;#x6700;&amp;#x540E;&amp;#x4E00;&amp;#x4E2A;&amp;#x672A;&amp;#x8BFB;&amp;#x5143;&amp;#x7D20;&amp;#x540E;&amp;#x9762;&amp;#xFF0C;limit&amp;#x5C5E;&amp;#x6027;&amp;#x4F9D;&amp;#x7136;&amp;#x50CF;clear()&amp;#x65B9;&amp;#x6CD5;&amp;#x4E00;&amp;#x6837;&amp;#xFF0C;&amp;#x8BBE;&amp;#x7F6E;&amp;#x6210;capacity&amp;#x3002;&amp;#x8FD9;&amp;#x6837;Buffer&amp;#x51C6;&amp;#x5907;&amp;#x597D;&amp;#x5199;&amp;#x6570;&amp;#x636E;&amp;#xFF0C;&amp;#x4F46;&amp;#x662F;&amp;#x4E0D;&amp;#x4F1A;&amp;#x8986;&amp;#x76D6;&amp;#x672A;&amp;#x8BFB;&amp;#x7684;&amp;#x6570;&amp;#x636E;&amp;#x3002;&lt;/p&gt;
&lt;p&gt;6.Buffer&amp;#x900F;&amp;#x89C6; &lt;/p&gt;
&lt;p&gt;&amp;#x4E0E;&amp;#x539F;&amp;#x59CB;&amp;#x7F13;&amp;#x51B2;&amp;#x533A;&amp;#x5171;&amp;#x4EAB;&amp;#x540C;&amp;#x4E00;&amp;#x540E;&amp;#x63F4;&amp;#x5B58;&amp;#x50A8;&amp;#x7A7A;&amp;#x95F4;&amp;#xFF0C;&amp;#x65B9;&amp;#x6CD5;&amp;#x6709;&amp;#xFF1A;duplicate()&amp;#xFF0C;slice()&amp;#xFF0C;asReadOnlyBuffer()&amp;#xFF0C;asReadOnlyBuffer()&amp;#x4EE5;&amp;#x53CA;asXXXBuffer()&amp;#xFF1B;&lt;br&gt;&amp;#x65B0;&amp;#x7F13;&amp;#x51B2;&amp;#x533A;&amp;#x8C03;&amp;#x7528;array()&amp;#x8FD8;&amp;#x662F;&amp;#x4F1A;&amp;#x8FD4;&amp;#x56DE;&amp;#x6574;&amp;#x4E2A;&amp;#x6570;&amp;#x7EC4;&amp;#xFF0C;&amp;#x4F7F;&amp;#x7528;isReadOnly()&amp;#x68C0;&amp;#x6D4B;&amp;#x662F;&amp;#x5426;&amp;#x53EA;&amp;#x8BFB;&amp;#x3002;&lt;/p&gt;
&lt;p&gt;7.&amp;#x5B57;&amp;#x7B26;&amp;#x7F16;&amp;#x7801;&lt;/p&gt;
&lt;figure class=&quot;highlight java&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;12&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;13&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;14&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;15&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;Charset charSet = Charset.forName(&lt;span class=&quot;string&quot;&gt;&amp;quot;US-ASCII&amp;quot;&lt;/span&gt;);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;CharsetEncoder encoder = charSet.newEncoder();&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;encoder.reset();&lt;span class=&quot;comment&quot;&gt;// &amp;#x975E;&amp;#x5FC5;&amp;#x987B;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;if&lt;/span&gt;(encoder.encode(CharBuffer.wrap(&lt;span class=&quot;string&quot;&gt;&amp;quot;input...&amp;quot;&lt;/span&gt;), buffer, &lt;span class=&quot;keyword&quot;&gt;false&lt;/span&gt;) == CoderResult.OVERFLOW){&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;comment&quot;&gt;// ... deal with lack of space in buffer ...&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;}&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;...&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;// &amp;#x5230;&amp;#x8FBE;&amp;#x8F93;&amp;#x5165;&amp;#x6570;&amp;#x636E;&amp;#x7ED3;&amp;#x5C3E;&amp;#x8BBE;&amp;#x4E3A; true&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;if&lt;/span&gt;(encoder.encode(CharBuffer.wrap(&lt;span class=&quot;string&quot;&gt;&amp;quot;last input...&amp;quot;&lt;/span&gt;), buffer, &lt;span class=&quot;keyword&quot;&gt;true&lt;/span&gt;) == CoderResult.OVERFLOW){&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;comment&quot;&gt;// ... deal with lack of space in buffer ...&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;}&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;encoder.flush(buffer);&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;&lt;strong&gt;2. TCP Channel&lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;SocketChannel &lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&amp;#x201C;&amp;#x5305;&amp;#x88F9;&amp;#x201D;&amp;#x4E00;&amp;#x4E2A;&amp;#x57FA;&amp;#x672C;Java Socket&amp;#xFF0C;&amp;#x901A;&amp;#x8FC7;socket()&amp;#x65B9;&amp;#x6CD5;&amp;#x8FDB;&amp;#x884C;&amp;#x8BBF;&amp;#x95EE;&lt;/li&gt;
&lt;li&gt;&amp;#x6563;&amp;#x5C04;&amp;#x5F0F;&amp;#x8BFB;/&amp;#x805A;&amp;#x96C6;&amp;#x5F0F;&amp;#x5199; (Scattering read/gathering write)&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;ServerSocketChannel&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&amp;#x5C06;&amp;#x4FE1;&amp;#x9053;&amp;#x8BBE;&amp;#x7F6E;&amp;#x4E3A;&amp;#x975E;&amp;#x963B;&amp;#x585E;&amp;#x5F0F;&lt;/li&gt;
&lt;li&gt;&amp;#x6D4B;&amp;#x8BD5;&amp;#x8FDE;&amp;#x63A5;&amp;#x6027;:&lt;br&gt;isConnectionPending() -&amp;gt; finishConnect() -&amp;gt; isConnected()&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;strong&gt;3. Selector&lt;/strong&gt;&lt;/p&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th style=&quot;text-align:left&quot;&gt;&amp;#x64CD;&amp;#x4F5C;&lt;/th&gt;
&lt;th style=&quot;text-align:left&quot;&gt;&amp;#x5173;&amp;#x952E;&amp;#x4EE3;&amp;#x7801;&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td style=&quot;text-align:left&quot;&gt;&amp;#x5174;&amp;#x8DA3;&amp;#x64CD;&amp;#x4F5C;&amp;#x96C6;SelectionKey&lt;/td&gt;
&lt;td style=&quot;text-align:left&quot;&gt;OP_ACCEPT&lt;br&gt;OP_CONNECT&lt;br&gt;OP_READ&lt;br&gt;OP_WRITE&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&quot;text-align:left&quot;&gt;&amp;#x6CE8;&amp;#x518C;Selector&lt;/td&gt;
&lt;td style=&quot;text-align:left&quot;&gt;SelectionKey register(Selector sel, int ops)&lt;br&gt;SelectionKey register(Selector sel, int ops, Object attachment)&lt;br&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&quot;text-align:left&quot;&gt;SelectionKey &amp;#x83B7;&amp;#x53D6;&amp;#x548C;&amp;#x53D6;&amp;#x6D88;&lt;/td&gt;
&lt;td style=&quot;text-align:left&quot;&gt;Selector selector()&lt;br&gt;SelectableChannel channel()&lt;br&gt;void cancel()&lt;br&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&quot;text-align:left&quot;&gt;Selector&amp;#x9009;&amp;#x53D6;&amp;#x548C;&amp;#x8BC6;&amp;#x522B;&amp;#x5C31;&amp;#x7EEA;&amp;#x7684;&amp;#x4FE1;&amp;#x9053;&lt;/td&gt;
&lt;td style=&quot;text-align:left&quot;&gt;int select()&lt;br&gt;int select(long timeout)&lt;br&gt;int selectNow()&lt;br&gt;Selector wakeup() &lt;br&gt; int &amp;#x8FD4;&amp;#x56DE;&amp;#x503C;&amp;#xFF1A;&amp;#x51C6;&amp;#x5907;&amp;#x597D;&amp;#x7684;&amp;#x4FE1;&amp;#x9053;&amp;#x603B;&amp;#x6570;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&quot;text-align:left&quot;&gt;Selector&amp;#x83B7;&amp;#x53D6;&amp;#x952E;&amp;#x96C6;&lt;/td&gt;
&lt;td style=&quot;text-align:left&quot;&gt;Set&lt;selectionkey&gt; keys() -&amp;gt; &amp;#x4E0D;&amp;#x4FEE;&amp;#x6539; &lt;br&gt; Set&lt;selectionkey&gt; selectedKeys() -&amp;gt; &amp;#x53EF;&amp;#x4FEE;&amp;#x6539;&amp;#xFF0C;&amp;#x9700;&amp;#x8981;&amp;#x624B;&amp;#x52A8;&amp;#x6E05;&amp;#x7A7A;&lt;/selectionkey&gt;&lt;/selectionkey&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&quot;text-align:left&quot;&gt;SelectionKey&amp;#x67E5;&amp;#x627E;&amp;#x5C31;&amp;#x7EEA;&amp;#x7684;I/O&amp;#x64CD;&amp;#x4F5C;&lt;/td&gt;
&lt;td style=&quot;text-align:left&quot;&gt;boolean isAcceptable()&lt;br&gt;boolean isConnectable()&lt;br&gt;boolean isReadable()&lt;br&gt;boolean isWritable()&lt;br&gt;boolean isValid() -&amp;gt; &amp;#x952E;&amp;#x662F;&amp;#x5426;&amp;#x6709;&amp;#x6548;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&quot;text-align:left&quot;&gt;SelectionKey&amp;#x67E5;&amp;#x627E;&amp;#x51C6;&amp;#x5907;&amp;#x5C31;&amp;#x7EEA;&amp;#x7684;I/O&amp;#x64CD;&amp;#x4F5C;&lt;/td&gt;
&lt;td style=&quot;text-align:left&quot;&gt;Object attach(Object) &lt;br&gt; Object attachment()&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;p&gt;&lt;strong&gt;4. UDP Channel&lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;DatagramChannel&lt;/li&gt;
&lt;/ul&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th style=&quot;text-align:left&quot;&gt;&amp;#x64CD;&amp;#x4F5C;&lt;/th&gt;
&lt;th style=&quot;text-align:left&quot;&gt;&amp;#x5173;&amp;#x952E;&amp;#x4EE3;&amp;#x7801;&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td style=&quot;text-align:left&quot;&gt;&amp;#x521B;&amp;#x5EFA;&amp;#x3001;&amp;#x8FDE;&amp;#x63A5;&amp;#x548C;&amp;#x5173;&amp;#x95ED;&lt;/td&gt;
&lt;td style=&quot;text-align:left&quot;&gt;static DatagramChannel open() &lt;br&gt; boolean isOpen() &lt;br&gt; DatagramSocket socket() &lt;br&gt; void close()&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&quot;text-align:left&quot;&gt;&amp;#x53D1;&amp;#x9001;&amp;#x548C;&amp;#x8FDE;&amp;#x63A5;&lt;/td&gt;
&lt;td style=&quot;text-align:left&quot;&gt;int send(ByteBuffer src, SocketAddress target) &lt;br&gt; SocketAddress receive(ByteBuffer dst)&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&quot;text-align:left&quot;&gt;&amp;#x8FDE;&amp;#x63A5;DatagramChannel&lt;/td&gt;
&lt;td style=&quot;text-align:left&quot;&gt;DatagramChannel connect(SocketAddress remote) &lt;br&gt; read()/write()&amp;#x65B9;&amp;#x6CD5;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&quot;text-align:left&quot;&gt;&amp;#x8BBE;&amp;#x7F6E;&amp;#x963B;&amp;#x585E;&amp;#x884C;&amp;#x4E3A;&amp;#x548C;&amp;#x4F7F;&amp;#x7528;&amp;#x9009;&amp;#x62E9;&amp;#x5668;&lt;/td&gt;
&lt;td style=&quot;text-align:left&quot;&gt;&amp;#x4E0E;SocketChannel&amp;#x548C;ServerSocketChannel&amp;#x65B9;&amp;#x6CD5;&amp;#x4E00;&amp;#x81F4;&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;h2 id=&quot;&amp;#x7B2C;&amp;#x516D;&amp;#x7AE0;-&amp;#x6DF1;&amp;#x5165;&amp;#x5256;&amp;#x6790;&quot;&gt;&lt;a href=&quot;#&amp;#x7B2C;&amp;#x516D;&amp;#x7AE0;-&amp;#x6DF1;&amp;#x5165;&amp;#x5256;&amp;#x6790;&quot; class=&quot;headerlink&quot; title=&quot;&amp;#x7B2C;&amp;#x516D;&amp;#x7AE0; &amp;#x6DF1;&amp;#x5165;&amp;#x5256;&amp;#x6790;&quot;&gt;&lt;/a&gt;&amp;#x7B2C;&amp;#x516D;&amp;#x7AE0; &amp;#x6DF1;&amp;#x5165;&amp;#x5256;&amp;#x6790;&lt;/h2&gt;&lt;img src=&quot;/2016/12/08/java-tcp-ip-socket-program-note-1/chapter6.png&quot;&gt;
&lt;img src=&quot;/2016/12/08/java-tcp-ip-socket-program-note-1/TCP_3way_handshake.png&quot;&gt;
&lt;img src=&quot;/2016/12/08/java-tcp-ip-socket-program-note-1/TCP_4way_close.png&quot;&gt;
</content>
    
    <summary type="html">
    
      &lt;!-- toc --&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;#第四章-进阶&quot;&gt;第四章 进阶&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;#第五章-nio&quot;&gt;第五章 NIO&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;#第六章-深入剖析&quot;&gt;第六章 深入剖析&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;!-- tocstop --&gt;
&lt;h2 id=&quot;第四章-进阶&quot;&gt;&lt;a href=&quot;#第四章-进阶&quot; class=&quot;headerlink&quot; title=&quot;第四章 进阶&quot;&gt;&lt;/a&gt;第四章 进阶&lt;/h2&gt;&lt;img src=&quot;/2016/12/08/java-tcp-ip-socket-program-note-1/chapter4.png&quot;&gt;
    
    </summary>
    
      <category term="读书笔记" scheme="http://yoursite.com/categories/%E8%AF%BB%E4%B9%A6%E7%AC%94%E8%AE%B0/"/>
    
    
      <category term="Java" scheme="http://yoursite.com/tags/Java/"/>
    
      <category term="Socket" scheme="http://yoursite.com/tags/Socket/"/>
    
  </entry>
  
  <entry>
    <title>Android Studio 常用插件</title>
    <link href="http://yoursite.com/2016/11/13/android-studio-plugin/"/>
    <id>http://yoursite.com/2016/11/13/android-studio-plugin/</id>
    <published>2016-11-13T09:04:28.000Z</published>
    <updated>2016-11-13T15:43:05.000Z</updated>
    
    <content type="html">&lt;p&gt;&lt;strong&gt;&amp;#x6574;&amp;#x7406;&amp;#x4F7F;&amp;#x7528;Android Studio&amp;#x8FDB;&amp;#x884C;&amp;#x5F00;&amp;#x53D1;&amp;#x65F6;&amp;#x6240;&amp;#x4F7F;&amp;#x7528;&amp;#x7684;&amp;#x63D2;&amp;#x4EF6;&amp;#xFF0C;&amp;#x5982;&amp;#x53D1;&amp;#x73B0;&amp;#x66F4;&amp;#x597D;&amp;#x7528;&amp;#x7684;&amp;#x63D2;&amp;#x4EF6;&amp;#x4F1A;&amp;#x53CA;&amp;#x65F6;&amp;#x66F4;&amp;#x65B0;&amp;#x3002;&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;1. GsonFormat&lt;/strong&gt;&lt;br&gt;&amp;#x5FEB;&amp;#x901F;&amp;#x5C06;json&amp;#x5B57;&amp;#x7B26;&amp;#x4E32;&amp;#x8F6C;&amp;#x6362;&amp;#x6210;&amp;#x4E00;&amp;#x4E2A;JavaBean.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;2. Android Code Generator&lt;/strong&gt;&lt;br&gt;&amp;#x6839;&amp;#x636E;&amp;#x5E03;&amp;#x5C40;&amp;#x6587;&amp;#x4EF6;&amp;#x5FEB;&amp;#x901F;&amp;#x751F;&amp;#x6210;&amp;#x5BF9;&amp;#x5E94;&amp;#x7684;Activity,Fragment,Adapter,Menu.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;3. Android Parcelable code generator&lt;/strong&gt;&lt;br&gt;JavaBean&amp;#x5FEB;&amp;#x901F;&amp;#x5B9E;&amp;#x73B0;Parcelable&amp;#x63A5;&amp;#x53E3;.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;4. Android Methods Count&lt;/strong&gt;&lt;br&gt;&amp;#x663E;&amp;#x793A;&amp;#x4F9D;&amp;#x8D56;&amp;#x5E93;&amp;#x7684;&amp;#x65B9;&amp;#x6CD5;&amp;#x6570;.&lt;/p&gt;
&lt;a id=&quot;more&quot;&gt;&lt;/a&gt;
&lt;p&gt;&lt;strong&gt;5. Lifecycle Sorter&lt;/strong&gt;&lt;br&gt;&amp;#x636E;Activity&amp;#x6216;&amp;#x8005;fragment&amp;#x7684;&amp;#x751F;&amp;#x547D;&amp;#x5468;&amp;#x671F;&amp;#x5BF9;&amp;#x5176;&amp;#x751F;&amp;#x547D;&amp;#x5468;&amp;#x671F;&amp;#x65B9;&amp;#x6CD5;&amp;#x4F4D;&amp;#x7F6E;&amp;#x8FDB;&amp;#x884C;&amp;#x5148;&amp;#x540E;&amp;#x6392;&amp;#x5E8F;.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;6. CodeGlance&lt;/strong&gt;&lt;br&gt;&amp;#x53F3;&amp;#x8FB9;&amp;#x9884;&amp;#x89C8;&amp;#x4EE3;&amp;#x7801;&amp;#xFF0C;&amp;#x5B9E;&amp;#x73B0;&amp;#x5FEB;&amp;#x901F;&amp;#x5B9A;&amp;#x4F4D;.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;7. FindBugs-IDEA&lt;/strong&gt;&lt;br&gt;&amp;#x4EE3;&amp;#x7801;&amp;#x5BA1;&amp;#x67E5;&amp;#x529F;&amp;#x80FD;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;8. ADB WIFI&lt;/strong&gt;&lt;br&gt;&amp;#x4F7F;&amp;#x7528;wifi&amp;#x65E0;&amp;#x7EBF;&amp;#x8C03;&amp;#x8BD5;App&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;9. JSONOnlineViewer&lt;/strong&gt;&lt;br&gt;Json&amp;#x8BF7;&amp;#x6C42;&amp;#x63A5;&amp;#x53E3;&amp;#x8C03;&amp;#x8BD5;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;10. Android Styler&lt;/strong&gt;&lt;br&gt;&amp;#x6839;&amp;#x636E;XML&amp;#x81EA;&amp;#x52A8;&amp;#x751F;&amp;#x6210;style&amp;#x4EE3;&amp;#x7801;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;11. Android Drawable Importer&lt;/strong&gt;&lt;br&gt;&amp;#x975E;&amp;#x5E38;&amp;#x5F3A;&amp;#x5927;&amp;#x7684;&amp;#x56FE;&amp;#x7247;&amp;#x5BFC;&amp;#x5165;&amp;#x63D2;&amp;#x4EF6;&amp;#xFF0C;&amp;#x81EA;&amp;#x52A8;&amp;#x9002;&amp;#x914D;&amp;#x591A;&amp;#x79CD;dpi&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;12. SelectorChapek for Android&lt;/strong&gt;&lt;br&gt;&amp;#x901A;&amp;#x8FC7;res&amp;#x6587;&amp;#x4EF6;&amp;#x547D;&amp;#x540D;&amp;#x81EA;&amp;#x52A8;&amp;#x751F;&amp;#x6210;Selector&amp;#x6587;&amp;#x4EF6;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;13. Markdown support/Markdown Navigator&lt;/strong&gt;&lt;br&gt;&amp;#x5B98;&amp;#x65B9;&amp;#x63D0;&amp;#x4F9B;&amp;#x7684;Markdown&amp;#x652F;&amp;#x6301;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;14. Android DPI Calculator&lt;/strong&gt;&lt;br&gt;&amp;#x4E0D;&amp;#x540C;dpi&amp;#x76F8;&amp;#x4E92;&amp;#x8BA1;&amp;#x7B97;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;15. Android Studio Prettify&lt;/strong&gt;&lt;br&gt;&amp;#x81EA;&amp;#x52A8;&amp;#x751F;&amp;#x6210;findViewById&amp;#x4EE3;&amp;#x7801;&amp;#xFF0C;&amp;#x5FEB;&amp;#x901F;&amp;#x62BD;&amp;#x79BB;string resource&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;16. Material Theme UI&lt;/strong&gt;&lt;br&gt;&amp;#x6DFB;&amp;#x52A0;&amp;#x4F7F;&amp;#x7528;Material&amp;#x4E3B;&amp;#x9898;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;17. PermissionsDispatcher plugin&lt;/strong&gt;&lt;br&gt;&amp;#x81EA;&amp;#x52A8;&amp;#x751F;&amp;#x6210;Android6.0&amp;#x6743;&amp;#x9650;&amp;#x7684;&amp;#x4EE3;&amp;#x7801;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;18. Codota&lt;/strong&gt;&lt;br&gt;&amp;#x641C;&amp;#x7D22;&amp;#x6700;&amp;#x597D;&amp;#x7684;Android&amp;#x4EE3;&amp;#x7801;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;19. Android Strings Search Plugin&lt;/strong&gt;&lt;br&gt;&amp;#x901A;&amp;#x8FC7;&amp;#x8F93;&amp;#x5165;&amp;#x6587;&amp;#x5B57;&amp;#x67E5;&amp;#x627E;&amp;#x5BF9;&amp;#x5E94;strings.xml&amp;#x7684;id&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;20. eventbus3-intellij-plugin&lt;/strong&gt;&lt;br&gt;&amp;#x5FEB;&amp;#x901F;&amp;#x5BFB;&amp;#x627E;EventBus 3.0 post/event &amp;#x5BF9;&amp;#x5E94;&amp;#x5173;&amp;#x7CFB;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;21. Exynap&lt;/strong&gt;&lt;br&gt;&amp;#x5E2E;&amp;#x52A9;&amp;#x5F00;&amp;#x53D1;&amp;#x8005;&amp;#x81EA;&amp;#x52A8;&amp;#x751F;&amp;#x6210;&amp;#x6837;&amp;#x677F;&amp;#x4EE3;&amp;#x7801;&lt;/p&gt;
</content>
    
    <summary type="html">
    
      &lt;p&gt;&lt;strong&gt;整理使用Android Studio进行开发时所使用的插件，如发现更好用的插件会及时更新。&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;1. GsonFormat&lt;/strong&gt;&lt;br&gt;快速将json字符串转换成一个JavaBean.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;2. Android Code Generator&lt;/strong&gt;&lt;br&gt;根据布局文件快速生成对应的Activity,Fragment,Adapter,Menu.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;3. Android Parcelable code generator&lt;/strong&gt;&lt;br&gt;JavaBean快速实现Parcelable接口.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;4. Android Methods Count&lt;/strong&gt;&lt;br&gt;显示依赖库的方法数.&lt;/p&gt;
    
    </summary>
    
      <category term="Android Studio" scheme="http://yoursite.com/categories/Android-Studio/"/>
    
    
      <category term="Android" scheme="http://yoursite.com/tags/Android/"/>
    
  </entry>
  
  <entry>
    <title>Android自定义View和Drawable总结</title>
    <link href="http://yoursite.com/2016/09/13/android-custom-view-and-drawable/"/>
    <id>http://yoursite.com/2016/09/13/android-custom-view-and-drawable/</id>
    <published>2016-09-13T08:15:29.000Z</published>
    <updated>2016-09-13T08:21:09.000Z</updated>
    
    <content type="html">&lt;!-- toc --&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;#android&amp;#x81EA;&amp;#x5B9A;&amp;#x4E49;view&amp;#x7B80;&amp;#x8FF0;&quot;&gt;Android&amp;#x81EA;&amp;#x5B9A;&amp;#x4E49;View&amp;#x7B80;&amp;#x8FF0;&lt;/a&gt;&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;#&amp;#x81EA;&amp;#x5B9A;&amp;#x4E49;&amp;#x5C5E;&amp;#x6027;&quot;&gt;&amp;#x81EA;&amp;#x5B9A;&amp;#x4E49;&amp;#x5C5E;&amp;#x6027;&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;#onmeasure&quot;&gt;onMeasure()&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;#onlayout&quot;&gt;onLayout()&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;#ondraw&quot;&gt;onDraw()&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;#&amp;#x4E00;&amp;#x4E9B;tips&quot;&gt;&amp;#x4E00;&amp;#x4E9B;Tips&amp;#xFF1A;&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;#drawable&amp;#x603B;&amp;#x7ED3;&quot;&gt;Drawable&amp;#x603B;&amp;#x7ED3;&lt;/a&gt;&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;#bitmapdrawable&quot;&gt;BitmapDrawable&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;#ninepatchdrawable&quot;&gt;NinePatchDrawable&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;#layerdrawable&quot;&gt;LayerDrawable&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;#statelistdrawable&quot;&gt;StateListDrawable&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;#transitiondrawable&quot;&gt;TransitionDrawable&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;#insertdrawable&quot;&gt;InsertDrawable&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;#clipdrawable&quot;&gt;ClipDrawable&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;#&amp;#x53C2;&amp;#x8003;&quot;&gt;&amp;#x53C2;&amp;#x8003;&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;!-- tocstop --&gt;
&lt;h2 id=&quot;android&amp;#x81EA;&amp;#x5B9A;&amp;#x4E49;view&amp;#x7B80;&amp;#x8FF0;&quot;&gt;&lt;a href=&quot;#Android&amp;#x81EA;&amp;#x5B9A;&amp;#x4E49;View&amp;#x7B80;&amp;#x8FF0;&quot; class=&quot;headerlink&quot; title=&quot;Android&amp;#x81EA;&amp;#x5B9A;&amp;#x4E49;View&amp;#x7B80;&amp;#x8FF0;&quot;&gt;&lt;/a&gt;Android&amp;#x81EA;&amp;#x5B9A;&amp;#x4E49;View&amp;#x7B80;&amp;#x8FF0;&lt;/h2&gt;&lt;p&gt;Android&amp;#x81EA;&amp;#x5B9A;&amp;#x4E49;View&amp;#x65B9;&amp;#x5F0F;&amp;#x6709;&amp;#x8BB8;&amp;#x591A;&amp;#xFF0C;&amp;#x672C;&amp;#x6587;&amp;#x5BF9;&amp;#x76F4;&amp;#x63A5;&amp;#x7EE7;&amp;#x627F;View&amp;#x7684;&amp;#x65B9;&amp;#x5F0F;&amp;#x8FDB;&amp;#x884C;&amp;#x603B;&amp;#x7ED3;&amp;#xFF0C;&amp;#x5EFA;&amp;#x8BAE;&amp;#x6DF1;&amp;#x5165;&amp;#x9605;&amp;#x8BFB;&amp;#x6E90;&amp;#x7801;&amp;#x4E86;&amp;#x89E3;View&amp;#x662F;&amp;#x5982;&amp;#x4F55;&amp;#x8FDB;&amp;#x884C;&amp;#x7ED8;&amp;#x5236;&amp;#x7684;&amp;#xFF0C;&amp;#x53EF;&amp;#x4EE5;&amp;#x4ECE; &lt;strong&gt;ViewRootImpl#performTraversals()&lt;/strong&gt; &amp;#x65B9;&amp;#x6CD5;&amp;#x5F00;&amp;#x59CB;&amp;#xFF0C;&amp;#x5E76;&amp;#x4E14;&amp;#x5EFA;&amp;#x8BAE;&amp;#x540C;&amp;#x65F6;&amp;#x7406;&amp;#x89E3;View&amp;#x7684;&amp;#x4E8B;&amp;#x4EF6;&amp;#x4F20;&amp;#x9012;&amp;#x673A;&amp;#x5236;&amp;#x548C;&amp;#x52A8;&amp;#x753B;&amp;#x673A;&amp;#x5236;&amp;#xFF0C;&amp;#x8FD9;&amp;#x6837;&amp;#x624D;&amp;#x80FD;&amp;#x5B9E;&amp;#x73B0;&amp;#x975E;&amp;#x5E38;&amp;#x70AB;&amp;#x4E3D;&amp;#x7684;View&amp;#xFF1B;&amp;#x6211;&amp;#x4EEC;&amp;#x4E3B;&amp;#x8981;&amp;#x8BA8;&amp;#x8BBA;onMeasure()&amp;#x3001;onLayout()&amp;#x548C;onDraw()&amp;#x8FDB;&amp;#x884C;override&amp;#x7684;&amp;#x6CE8;&amp;#x610F;&amp;#x4E8B;&amp;#x9879;&amp;#xFF0C;&amp;#x4E0D;&amp;#x4F1A;&amp;#x8BA8;&amp;#x8BBA;&amp;#x589E;&amp;#x52A0;&amp;#x4EA4;&amp;#x4E92;&amp;#x548C;&amp;#x52A8;&amp;#x753B;&amp;#x7B49;&amp;#x4E8B;&amp;#x5B9C;&amp;#x3002;&lt;/p&gt;
&lt;h3 id=&quot;&amp;#x81EA;&amp;#x5B9A;&amp;#x4E49;&amp;#x5C5E;&amp;#x6027;&quot;&gt;&lt;a href=&quot;#&amp;#x81EA;&amp;#x5B9A;&amp;#x4E49;&amp;#x5C5E;&amp;#x6027;&quot; class=&quot;headerlink&quot; title=&quot;&amp;#x81EA;&amp;#x5B9A;&amp;#x4E49;&amp;#x5C5E;&amp;#x6027;&quot;&gt;&lt;/a&gt;&amp;#x81EA;&amp;#x5B9A;&amp;#x4E49;&amp;#x5C5E;&amp;#x6027;&lt;/h3&gt;&lt;p&gt;&lt;strong&gt;1.&lt;/strong&gt; &amp;#x5EFA;&amp;#x7ACB;&lt;code&gt;res/values/attrs.xml&lt;/code&gt;&amp;#xFF0C;demo&amp;#x5982;&amp;#x4E0B;&amp;#xFF1A;&lt;br&gt;&lt;figure class=&quot;highlight xml&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;9&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;tag&quot;&gt;&amp;lt;&lt;span class=&quot;name&quot;&gt;resources&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;   &lt;span class=&quot;tag&quot;&gt;&amp;lt;&lt;span class=&quot;name&quot;&gt;declare-styleable&lt;/span&gt; &lt;span class=&quot;attr&quot;&gt;name&lt;/span&gt;=&lt;span class=&quot;string&quot;&gt;&amp;quot;PieChart&amp;quot;&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;       &lt;span class=&quot;tag&quot;&gt;&amp;lt;&lt;span class=&quot;name&quot;&gt;attr&lt;/span&gt; &lt;span class=&quot;attr&quot;&gt;name&lt;/span&gt;=&lt;span class=&quot;string&quot;&gt;&amp;quot;showText&amp;quot;&lt;/span&gt; &lt;span class=&quot;attr&quot;&gt;format&lt;/span&gt;=&lt;span class=&quot;string&quot;&gt;&amp;quot;boolean&amp;quot;&lt;/span&gt; /&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;       &lt;span class=&quot;tag&quot;&gt;&amp;lt;&lt;span class=&quot;name&quot;&gt;attr&lt;/span&gt; &lt;span class=&quot;attr&quot;&gt;name&lt;/span&gt;=&lt;span class=&quot;string&quot;&gt;&amp;quot;labelPosition&amp;quot;&lt;/span&gt; &lt;span class=&quot;attr&quot;&gt;format&lt;/span&gt;=&lt;span class=&quot;string&quot;&gt;&amp;quot;enum&amp;quot;&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;           &lt;span class=&quot;tag&quot;&gt;&amp;lt;&lt;span class=&quot;name&quot;&gt;enum&lt;/span&gt; &lt;span class=&quot;attr&quot;&gt;name&lt;/span&gt;=&lt;span class=&quot;string&quot;&gt;&amp;quot;left&amp;quot;&lt;/span&gt; &lt;span class=&quot;attr&quot;&gt;value&lt;/span&gt;=&lt;span class=&quot;string&quot;&gt;&amp;quot;0&amp;quot;&lt;/span&gt;/&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;           &lt;span class=&quot;tag&quot;&gt;&amp;lt;&lt;span class=&quot;name&quot;&gt;enum&lt;/span&gt; &lt;span class=&quot;attr&quot;&gt;name&lt;/span&gt;=&lt;span class=&quot;string&quot;&gt;&amp;quot;right&amp;quot;&lt;/span&gt; &lt;span class=&quot;attr&quot;&gt;value&lt;/span&gt;=&lt;span class=&quot;string&quot;&gt;&amp;quot;1&amp;quot;&lt;/span&gt;/&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;       &lt;span class=&quot;tag&quot;&gt;&amp;lt;/&lt;span class=&quot;name&quot;&gt;attr&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;   &lt;span class=&quot;tag&quot;&gt;&amp;lt;/&lt;span class=&quot;name&quot;&gt;declare-styleable&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;tag&quot;&gt;&amp;lt;/&lt;span class=&quot;name&quot;&gt;resources&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;2.&lt;/strong&gt; &amp;#x5E03;&amp;#x5C40;&amp;#x6587;&amp;#x4EF6;&amp;#x4E2D;&amp;#x4F7F;&amp;#x7528;&amp;#x81EA;&amp;#x5B9A;&amp;#x4E49;&amp;#x5C5E;&amp;#x6027;&amp;#x65F6;&amp;#xFF0C;Gradle&amp;#x5EFA;&amp;#x8BAE;&amp;#x547D;&amp;#x540D;&amp;#x7A7A;&amp;#x95F4;&amp;#x7EDF;&amp;#x4E00;&amp;#x4F7F;&amp;#x7528;&lt;code&gt;&amp;quot;http://schemas.android.com/apk/res-auto&amp;quot;&lt;/code&gt;&lt;br&gt;&lt;strong&gt;3.&lt;/strong&gt; &amp;#x5B98;&amp;#x65B9;&amp;#x5EFA;&amp;#x8BAE;&amp;#x901A;&amp;#x8FC7;&lt;code&gt;TypedArray&lt;/code&gt;&amp;#x5728;&amp;#x7A0B;&amp;#x5E8F;&amp;#x4E2D;&amp;#x8BFB;&amp;#x53D6;&amp;#x5B9A;&amp;#x4E49;&amp;#x7684;&amp;#x5C5E;&amp;#x6027;&amp;#xFF0C;demo&amp;#x5982;&amp;#x4E0B;&amp;#xFF1A;&lt;br&gt;&lt;figure class=&quot;highlight java&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;12&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;13&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;14&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;PieChart&lt;/span&gt;&lt;span class=&quot;params&quot;&gt;(Context context, AttributeSet attrs)&lt;/span&gt; &lt;/span&gt;{&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;   &lt;span class=&quot;keyword&quot;&gt;super&lt;/span&gt;(context, attrs);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;   TypedArray a = context.getTheme().obtainStyledAttributes(&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        attrs,&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        R.styleable.PieChart,&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &lt;span class=&quot;number&quot;&gt;0&lt;/span&gt;, &lt;span class=&quot;number&quot;&gt;0&lt;/span&gt;);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;   &lt;span class=&quot;keyword&quot;&gt;try&lt;/span&gt; {&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;       mShowText = a.getBoolean(R.styleable.PieChart_showText, &lt;span class=&quot;keyword&quot;&gt;false&lt;/span&gt;);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;       mTextPos = a.getInteger(R.styleable.PieChart_labelPosition, &lt;span class=&quot;number&quot;&gt;0&lt;/span&gt;);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;   } &lt;span class=&quot;keyword&quot;&gt;finally&lt;/span&gt; {&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;       a.recycle();&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;   }&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;}&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;a id=&quot;more&quot;&gt;&lt;/a&gt;
&lt;h3 id=&quot;onmeasure&quot;&gt;&lt;a href=&quot;#onMeasure&quot; class=&quot;headerlink&quot; title=&quot;onMeasure()&quot;&gt;&lt;/a&gt;onMeasure()&lt;/h3&gt;&lt;p&gt;&amp;#x7CFB;&amp;#x7EDF;&amp;#x63D0;&amp;#x4F9B;&amp;#x7684;LinearLayout&amp;#x7B49;ViewGroup&amp;#x7EC4;&amp;#x4EF6;&amp;#x4F1A;&amp;#x7EE7;&amp;#x627F;&amp;#x5E76;&amp;#x91CD;&amp;#x5199; &lt;strong&gt;View#onMeasure()&lt;/strong&gt; &amp;#x65B9;&amp;#x6CD5;&amp;#xFF0C;&amp;#x4E3B;&amp;#x8981;&amp;#x4F5C;&amp;#x7528;&amp;#x662F;&amp;#x904D;&amp;#x5386;&amp;#x6BCF;&amp;#x4E2A;&amp;#x5B50;View&amp;#x5E76;&amp;#x8C03;&amp;#x7528;&amp;#x5B50;View&amp;#x7684; &lt;strong&gt;View#onMeasure()&lt;/strong&gt; &amp;#x65B9;&amp;#x6CD5;&amp;#x3002;&amp;#x603B;&amp;#x4E4B;&amp;#xFF0C;&amp;#x8BE5;&amp;#x56DE;&amp;#x8C03;&amp;#x51FD;&amp;#x6570;&amp;#x7684;&amp;#x4F5C;&amp;#x7528;&amp;#x5C31;&amp;#x662F;&amp;#x5F97;&amp;#x5230;View&amp;#x6D4B;&amp;#x91CF;&amp;#x8FC7;&amp;#x7684;width&amp;#x548C;height&amp;#xFF0C;&amp;#x6240;&amp;#x4EE5;override&amp;#x65F6;&amp;#x4E00;&amp;#x5B9A;&amp;#x8981;&amp;#x8C03;&amp;#x7528; &lt;strong&gt;View#setMeasuredDimension(int measuredWidth, int measuredHeight)&lt;/strong&gt; &amp;#x65B9;&amp;#x6CD5;&amp;#x8BBE;&amp;#x7F6E;&amp;#x5BBD;&amp;#x9AD8;&amp;#xFF0C;&lt;strong&gt;View#getMeasuredWidth()&lt;/strong&gt; &amp;#x548C; &lt;strong&gt;View#getMeasuredHeight()&lt;/strong&gt; &amp;#x5C31;&amp;#x662F;&amp;#x53D6;&amp;#x5F97;&amp;#x4E0A;&amp;#x8FF0;&amp;#x51FD;&amp;#x6570;&amp;#x8BBE;&amp;#x7F6E;&amp;#x7684;&amp;#x5BBD;&amp;#x5EA6;&amp;#x548C;&amp;#x9AD8;&amp;#x5EA6;&amp;#x3002;&lt;strong&gt;View#onMeasure()&lt;/strong&gt; &amp;#x51FD;&amp;#x6570;&amp;#x539F;&amp;#x578B;&amp;#x4EE5;&amp;#x53CA;&amp;#x9ED8;&amp;#x8BA4;&amp;#x5B9E;&amp;#x73B0;&amp;#x5982;&amp;#x4E0B;&amp;#xFF1A;&lt;/p&gt;
&lt;figure class=&quot;highlight java&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;protected&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;onMeasure&lt;/span&gt;&lt;span class=&quot;params&quot;&gt;(&lt;span class=&quot;keyword&quot;&gt;int&lt;/span&gt; widthMeasureSpec, &lt;span class=&quot;keyword&quot;&gt;int&lt;/span&gt; heightMeasureSpec)&lt;/span&gt; &lt;/span&gt;{&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    setMeasuredDimension(getDefaultSize(getSuggestedMinimumWidth(), widthMeasureSpec),&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;            getDefaultSize(getSuggestedMinimumHeight(), heightMeasureSpec));&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;}&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;&amp;#x5176;&amp;#x53C2;&amp;#x6570;&amp;#x542B;&amp;#x4E49;&amp;#x53C2;&amp;#x89C1;&lt;code&gt;View.MeasureSpec&lt;/code&gt;&amp;#x7C7B;&amp;#xFF0C;&amp;#x5176;&amp;#x9AD8;2&amp;#x4F4D;&amp;#x8868;&amp;#x793A;SpecMode&amp;#xFF0C;&amp;#x4F4E;30&amp;#x4F4D;&amp;#x8868;&amp;#x793A;SpecSize&amp;#xFF0C;&amp;#x524D;&amp;#x8005;&amp;#x8868;&amp;#x793A;&amp;#x6D4B;&amp;#x91CF;&amp;#x6A21;&amp;#x5F0F;&amp;#xFF0C;&amp;#x540E;&amp;#x8005;&amp;#x8868;&amp;#x793A;&amp;#x5176;&amp;#x89C4;&amp;#x683C;&amp;#x5927;&amp;#x5C0F;&amp;#x3002;&amp;#x5176;&amp;#x4E2D;SpecMode&amp;#x5B9A;&amp;#x4E49;&amp;#x4E09;&amp;#x79CD;&amp;#x53D6;&amp;#x503C;&amp;#xFF1A;&lt;/p&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th style=&quot;text-align:left&quot;&gt;Mode&lt;/th&gt;
&lt;th style=&quot;text-align:left&quot;&gt;Description&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td style=&quot;text-align:left&quot;&gt;&lt;code&gt;AT_MOST&lt;/code&gt;&lt;/td&gt;
&lt;td style=&quot;text-align:left&quot;&gt;&amp;#x7236;&amp;#x5BB9;&amp;#x5668;&amp;#x6307;&amp;#x5B9A;&amp;#x53EF;&amp;#x7528;&amp;#x7684;&amp;#x6700;&amp;#x5927;&amp;#x503C;&amp;#xFF0C;&amp;#x5177;&amp;#x4F53;View&amp;#x5BF9;&amp;#x5176;&amp;#x5B9E;&amp;#x73B0;&amp;#x4E0D;&amp;#x540C;&amp;#xFF0C;&amp;#x901A;&amp;#x5E38;&amp;#x5BF9;&amp;#x5E94;LayoutParams&amp;#x4E2D;&amp;#x7684;wrap_content&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&quot;text-align:left&quot;&gt;&lt;code&gt;EXACTLY&lt;/code&gt;&lt;/td&gt;
&lt;td style=&quot;text-align:left&quot;&gt;&amp;#x7236;&amp;#x5BB9;&amp;#x5668;&amp;#x6307;&amp;#x5B9A;&amp;#x8BE5;View&amp;#x6D4B;&amp;#x91CF;&amp;#x7684;&amp;#x7CBE;&amp;#x786E;&amp;#x503C;&amp;#xFF0C;&amp;#x5C31;&amp;#x662F;SpecSize&amp;#xFF0C;&amp;#x901A;&amp;#x5E38;&amp;#x5BF9;&amp;#x5E94;LayoutParams&amp;#x4E2D;&amp;#x7684;match_parent&amp;#x548C;&amp;#x5177;&amp;#x4F53;&amp;#x6570;&amp;#x503C;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&quot;text-align:left&quot;&gt;&lt;code&gt;UNSPECIFIED&lt;/code&gt;&lt;/td&gt;
&lt;td style=&quot;text-align:left&quot;&gt;&amp;#x7236;&amp;#x5BB9;&amp;#x5668;&amp;#x6CA1;&amp;#x6709;&amp;#x9650;&amp;#x5236;&amp;#xFF0C;&amp;#x901A;&amp;#x5E38;&amp;#x7CFB;&amp;#x7EDF;&amp;#x5185;&amp;#x90E8;&amp;#x4F7F;&amp;#x7528;&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;p&gt;&amp;#x6574;&amp;#x4E2A;measure&amp;#x8FC7;&amp;#x7A0B;&amp;#x4ECE;&amp;#x9876;&amp;#x5C42;View(DecorView)&amp;#x5F00;&amp;#x59CB;&amp;#xFF0C;&amp;#x5176;&amp;#x957F;&amp;#x5EA6;&amp;#x548C;&amp;#x9AD8;&amp;#x5EA6;&amp;#x7684;MeasureSpec&amp;#x751F;&amp;#x6210;&amp;#x53C2;&amp;#x8003; &lt;strong&gt;ViewRootImp#getRootMeasureSpec()&lt;/strong&gt;&amp;#xFF1A;&lt;br&gt;&lt;figure class=&quot;highlight java&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;12&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;13&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;14&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;15&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;16&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;17&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;18&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;19&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;20&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;21&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;22&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;23&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;24&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;25&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;26&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;27&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;28&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;29&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;30&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;31&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;32&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;/**&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt; * Figures out the measure spec for the root view in a window based on it&amp;apos;s&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt; * layout params.&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt; *&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt; * &lt;span class=&quot;doctag&quot;&gt;@param&lt;/span&gt; windowSize&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt; *            The available width or height of the window&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt; *&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt; * &lt;span class=&quot;doctag&quot;&gt;@param&lt;/span&gt; rootDimension&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt; *            The layout params for one dimension (width or height) of the&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt; *            window.&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt; *&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt; * &lt;span class=&quot;doctag&quot;&gt;@return&lt;/span&gt; The measure spec to use to measure the root view.&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt; */&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;private&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;static&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;int&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;getRootMeasureSpec&lt;/span&gt;&lt;span class=&quot;params&quot;&gt;(&lt;span class=&quot;keyword&quot;&gt;int&lt;/span&gt; windowSize, &lt;span class=&quot;keyword&quot;&gt;int&lt;/span&gt; rootDimension)&lt;/span&gt; &lt;/span&gt;{&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;int&lt;/span&gt; measureSpec;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;switch&lt;/span&gt; (rootDimension) {&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;case&lt;/span&gt; ViewGroup.LayoutParams.MATCH_PARENT:&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &lt;span class=&quot;comment&quot;&gt;// Window can&amp;apos;t resize. Force root view to be windowSize.&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        measureSpec = MeasureSpec.makeMeasureSpec(windowSize, MeasureSpec.EXACTLY);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &lt;span class=&quot;keyword&quot;&gt;break&lt;/span&gt;;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;case&lt;/span&gt; ViewGroup.LayoutParams.WRAP_CONTENT:&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &lt;span class=&quot;comment&quot;&gt;// Window can resize. Set max size for root view.&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        measureSpec = MeasureSpec.makeMeasureSpec(windowSize, MeasureSpec.AT_MOST);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &lt;span class=&quot;keyword&quot;&gt;break&lt;/span&gt;;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;default&lt;/span&gt;:&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &lt;span class=&quot;comment&quot;&gt;// Window wants to be an exact size. Force root view to be that size.&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        measureSpec = MeasureSpec.makeMeasureSpec(rootDimension, MeasureSpec.EXACTLY);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &lt;span class=&quot;keyword&quot;&gt;break&lt;/span&gt;;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    }&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;return&lt;/span&gt; measureSpec;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;}&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;&amp;#x7136;&amp;#x540E;&amp;#x8FDB;&amp;#x884C;DecorView&amp;#x7684;measure&amp;#xFF0C;DecorView&amp;#x672C;&amp;#x8D28;&amp;#x662F;FrameLayout&amp;#xFF0C;&amp;#x6240;&amp;#x4EE5;&amp;#x9700;&amp;#x8981;&amp;#x5173;&amp;#x6CE8; &lt;strong&gt;ViewGroup#onMeasure()&lt;/strong&gt;&amp;#x3002;&amp;#x4E0D;&amp;#x540C;&amp;#x7684;Layout&amp;#x5BF9;onMeasure()&amp;#x5B9E;&amp;#x73B0;&amp;#x4E0D;&amp;#x540C;&amp;#xFF0C;&amp;#x4F46;&amp;#x90FD;&amp;#x4F1A;&amp;#x904D;&amp;#x5386;&amp;#x5176;&amp;#x5B50;View&amp;#x8C03;&amp;#x7528;measure()&amp;#x65B9;&amp;#x6CD5;&amp;#xFF0C;&amp;#x6700;&amp;#x7EC8;&amp;#x6267;&amp;#x884C;&amp;#x81F3; &lt;strong&gt;View#onMeasure()&lt;/strong&gt;&amp;#xFF1B;&amp;#x4EE5;FrameLayout&amp;#x4E3A;&amp;#x4F8B;&amp;#xFF0C;&amp;#x770B; &lt;strong&gt;View#onMeasure()&lt;/strong&gt; &amp;#x7684;&amp;#x53C2;&amp;#x6570;&amp;#x662F;&amp;#x5982;&amp;#x4F55;&amp;#x751F;&amp;#x6210;&amp;#x7684;&amp;#x3002;&amp;#x5176;&amp;#x5173;&amp;#x952E;&amp;#x4EE3;&amp;#x7801;&amp;#xFF1A;&lt;br&gt;&lt;figure class=&quot;highlight java&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;12&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;13&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;14&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;15&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;16&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;17&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;18&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;19&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;20&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;21&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;22&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;23&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;24&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;25&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;26&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;27&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;28&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;29&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;30&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;31&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;32&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;33&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;34&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;35&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;36&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;37&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;38&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;39&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;40&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;41&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;42&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;43&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;44&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;45&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;46&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;47&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;48&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;49&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;50&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;51&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;52&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;53&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;54&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;55&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;56&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;57&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;58&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;59&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;60&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;61&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;62&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;63&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;64&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;65&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;66&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;67&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;68&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;69&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;70&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;71&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;72&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;73&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;74&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;75&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;76&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;77&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;78&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;79&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;80&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;81&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;82&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;83&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;84&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;85&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;86&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;87&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;88&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;89&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;90&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;91&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;92&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;93&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;94&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;95&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;96&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;97&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;98&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;99&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;100&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;101&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;102&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;103&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;104&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;105&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;106&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;107&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;108&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;109&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;110&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;111&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;112&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;113&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;114&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;115&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;class&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;FrameLayout&lt;/span&gt;&lt;/span&gt;{&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    ...&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;meta&quot;&gt;@Override&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;protected&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;onMeasure&lt;/span&gt;&lt;span class=&quot;params&quot;&gt;(&lt;span class=&quot;keyword&quot;&gt;int&lt;/span&gt; widthMeasureSpec, &lt;span class=&quot;keyword&quot;&gt;int&lt;/span&gt; heightMeasureSpec)&lt;/span&gt; &lt;/span&gt;{&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        ...&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &lt;span class=&quot;keyword&quot;&gt;for&lt;/span&gt; (&lt;span class=&quot;keyword&quot;&gt;int&lt;/span&gt; i = &lt;span class=&quot;number&quot;&gt;0&lt;/span&gt;; i &amp;lt; count; i++) {&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;            &lt;span class=&quot;keyword&quot;&gt;final&lt;/span&gt; View child = mMatchParentChildren.get(i);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;            &lt;span class=&quot;keyword&quot;&gt;final&lt;/span&gt; MarginLayoutParams lp = (MarginLayoutParams) child.getLayoutParams();&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;            &lt;span class=&quot;keyword&quot;&gt;final&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;int&lt;/span&gt; childWidthMeasureSpec;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;            &lt;span class=&quot;keyword&quot;&gt;if&lt;/span&gt; (lp.width == LayoutParams.MATCH_PARENT) {&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;                &lt;span class=&quot;keyword&quot;&gt;final&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;int&lt;/span&gt; width = Math.max(&lt;span class=&quot;number&quot;&gt;0&lt;/span&gt;, getMeasuredWidth()&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;                        - getPaddingLeftWithForeground() - getPaddingRightWithForeground()&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;                        - lp.leftMargin - lp.rightMargin);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;                childWidthMeasureSpec = MeasureSpec.makeMeasureSpec(&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;                        width, MeasureSpec.EXACTLY);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;            } &lt;span class=&quot;keyword&quot;&gt;else&lt;/span&gt; {&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;                childWidthMeasureSpec = getChildMeasureSpec(widthMeasureSpec,&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;                        getPaddingLeftWithForeground() + getPaddingRightWithForeground() +&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;                        lp.leftMargin + lp.rightMargin,&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;                        lp.width);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;            }&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;            &lt;span class=&quot;keyword&quot;&gt;final&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;int&lt;/span&gt; childHeightMeasureSpec;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;            &lt;span class=&quot;keyword&quot;&gt;if&lt;/span&gt; (lp.height == LayoutParams.MATCH_PARENT) {&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;                &lt;span class=&quot;keyword&quot;&gt;final&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;int&lt;/span&gt; height = Math.max(&lt;span class=&quot;number&quot;&gt;0&lt;/span&gt;, getMeasuredHeight()&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;                        - getPaddingTopWithForeground() - getPaddingBottomWithForeground()&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;                        - lp.topMargin - lp.bottomMargin);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;                childHeightMeasureSpec = MeasureSpec.makeMeasureSpec(&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;                        height, MeasureSpec.EXACTLY);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;            } &lt;span class=&quot;keyword&quot;&gt;else&lt;/span&gt; {&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;                childHeightMeasureSpec = getChildMeasureSpec(heightMeasureSpec,&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;                        getPaddingTopWithForeground() + getPaddingBottomWithForeground() +&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;                        lp.topMargin + lp.bottomMargin,&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;                        lp.height);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;            }&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;            child.measure(childWidthMeasureSpec, childHeightMeasureSpec);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        }&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        ...&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    }&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;}&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;class&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;ViewGroup&lt;/span&gt; &lt;/span&gt;{&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    ...&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;static&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;int&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;getChildMeasureSpec&lt;/span&gt;&lt;span class=&quot;params&quot;&gt;(&lt;span class=&quot;keyword&quot;&gt;int&lt;/span&gt; spec, &lt;span class=&quot;keyword&quot;&gt;int&lt;/span&gt; padding, &lt;span class=&quot;keyword&quot;&gt;int&lt;/span&gt; childDimension)&lt;/span&gt; &lt;/span&gt;{&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &lt;span class=&quot;keyword&quot;&gt;int&lt;/span&gt; specMode = MeasureSpec.getMode(spec);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &lt;span class=&quot;keyword&quot;&gt;int&lt;/span&gt; specSize = MeasureSpec.getSize(spec);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &lt;span class=&quot;keyword&quot;&gt;int&lt;/span&gt; size = Math.max(&lt;span class=&quot;number&quot;&gt;0&lt;/span&gt;, specSize - padding);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &lt;span class=&quot;keyword&quot;&gt;int&lt;/span&gt; resultSize = &lt;span class=&quot;number&quot;&gt;0&lt;/span&gt;;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &lt;span class=&quot;keyword&quot;&gt;int&lt;/span&gt; resultMode = &lt;span class=&quot;number&quot;&gt;0&lt;/span&gt;;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &lt;span class=&quot;keyword&quot;&gt;switch&lt;/span&gt; (specMode) {&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;            &lt;span class=&quot;comment&quot;&gt;// Parent has imposed an exact size on us&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;            &lt;span class=&quot;keyword&quot;&gt;case&lt;/span&gt; MeasureSpec.EXACTLY:&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;                &lt;span class=&quot;keyword&quot;&gt;if&lt;/span&gt; (childDimension &amp;gt;= &lt;span class=&quot;number&quot;&gt;0&lt;/span&gt;) {&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;                    resultSize = childDimension;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;                    resultMode = MeasureSpec.EXACTLY;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;                } &lt;span class=&quot;keyword&quot;&gt;else&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;if&lt;/span&gt; (childDimension == LayoutParams.MATCH_PARENT) {&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;                    &lt;span class=&quot;comment&quot;&gt;// Child wants to be our size. So be it.&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;                    resultSize = size;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;                    resultMode = MeasureSpec.EXACTLY;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;                } &lt;span class=&quot;keyword&quot;&gt;else&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;if&lt;/span&gt; (childDimension == LayoutParams.WRAP_CONTENT) {&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;                    &lt;span class=&quot;comment&quot;&gt;// Child wants to determine its own size. It can&amp;apos;t be&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;                    &lt;span class=&quot;comment&quot;&gt;// bigger than us.&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;                    resultSize = size;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;                    resultMode = MeasureSpec.AT_MOST;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;                }&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;                &lt;span class=&quot;keyword&quot;&gt;break&lt;/span&gt;;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;            &lt;span class=&quot;comment&quot;&gt;// Parent has imposed a maximum size on us&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;            &lt;span class=&quot;keyword&quot;&gt;case&lt;/span&gt; MeasureSpec.AT_MOST:&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;                &lt;span class=&quot;keyword&quot;&gt;if&lt;/span&gt; (childDimension &amp;gt;= &lt;span class=&quot;number&quot;&gt;0&lt;/span&gt;) {&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;                    &lt;span class=&quot;comment&quot;&gt;// Child wants a specific size... so be it&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;                    resultSize = childDimension;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;                    resultMode = MeasureSpec.EXACTLY;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;                } &lt;span class=&quot;keyword&quot;&gt;else&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;if&lt;/span&gt; (childDimension == LayoutParams.MATCH_PARENT) {&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;                    &lt;span class=&quot;comment&quot;&gt;// Child wants to be our size, but our size is not fixed.&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;                    &lt;span class=&quot;comment&quot;&gt;// Constrain child to not be bigger than us.&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;                    resultSize = size;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;                    resultMode = MeasureSpec.AT_MOST;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;                } &lt;span class=&quot;keyword&quot;&gt;else&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;if&lt;/span&gt; (childDimension == LayoutParams.WRAP_CONTENT) {&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;                    &lt;span class=&quot;comment&quot;&gt;// Child wants to determine its own size. It can&amp;apos;t be&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;                    &lt;span class=&quot;comment&quot;&gt;// bigger than us.&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;                    resultSize = size;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;                    resultMode = MeasureSpec.AT_MOST;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;                }&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;                &lt;span class=&quot;keyword&quot;&gt;break&lt;/span&gt;;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;            &lt;span class=&quot;comment&quot;&gt;// Parent asked to see how big we want to be&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;            &lt;span class=&quot;keyword&quot;&gt;case&lt;/span&gt; MeasureSpec.UNSPECIFIED:&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;                &lt;span class=&quot;keyword&quot;&gt;if&lt;/span&gt; (childDimension &amp;gt;= &lt;span class=&quot;number&quot;&gt;0&lt;/span&gt;) {&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;                    &lt;span class=&quot;comment&quot;&gt;// Child wants a specific size... let him have it&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;                    resultSize = childDimension;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;                    resultMode = MeasureSpec.EXACTLY;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;                } &lt;span class=&quot;keyword&quot;&gt;else&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;if&lt;/span&gt; (childDimension == LayoutParams.MATCH_PARENT) {&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;                    &lt;span class=&quot;comment&quot;&gt;// Child wants to be our size... find out how big it should&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;                    &lt;span class=&quot;comment&quot;&gt;// be&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;                    resultSize = View.sUseZeroUnspecifiedMeasureSpec ? &lt;span class=&quot;number&quot;&gt;0&lt;/span&gt; : size;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;                    resultMode = MeasureSpec.UNSPECIFIED;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;                } &lt;span class=&quot;keyword&quot;&gt;else&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;if&lt;/span&gt; (childDimension == LayoutParams.WRAP_CONTENT) {&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;                    &lt;span class=&quot;comment&quot;&gt;// Child wants to determine its own size.... find out how&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;                    &lt;span class=&quot;comment&quot;&gt;// big it should be&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;                    resultSize = View.sUseZeroUnspecifiedMeasureSpec ? &lt;span class=&quot;number&quot;&gt;0&lt;/span&gt; : size;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;                    resultMode = MeasureSpec.UNSPECIFIED;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;                }&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;                &lt;span class=&quot;keyword&quot;&gt;break&lt;/span&gt;;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        }&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &lt;span class=&quot;keyword&quot;&gt;return&lt;/span&gt; MeasureSpec.makeMeasureSpec(resultSize, resultMode);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    }&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    ...&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;}&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;&amp;#x901A;&amp;#x8FC7;&amp;#x4E0A;&amp;#x8FF0;&amp;#x4EE3;&amp;#x7801;&amp;#x5F97;&amp;#x51FA;&amp;#x7ED3;&amp;#x8BBA; &lt;strong&gt;View#onMeasure()&lt;/strong&gt; &amp;#x53C2;&amp;#x6570;&amp;#x4E0E; &lt;strong&gt;&amp;#x7236;&amp;#x5BB9;&amp;#x5668;&amp;#x7684;MeasureSpec&lt;/strong&gt; &amp;#x548C; &lt;strong&gt;&amp;#x81EA;&amp;#x8EAB;&amp;#x7684;LayoutParams&lt;/strong&gt; &amp;#x90FD;&amp;#x6709;&amp;#x5173;&amp;#x7CFB;&amp;#x3002;&amp;#x6700;&amp;#x540E;&amp;#x770B;&amp;#x4E00;&amp;#x4E0B; &lt;strong&gt;View#onMeasure()&lt;/strong&gt; &amp;#x7684;&amp;#x9ED8;&amp;#x8BA4;&amp;#x5B9E;&amp;#x73B0;&amp;#xFF0C;&amp;#x4EE5;width&amp;#x4E3A;&amp;#x4F8B;&amp;#xFF1A;&lt;br&gt;&lt;figure class=&quot;highlight java&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;12&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;13&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;14&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;15&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;16&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;17&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;18&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;19&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;20&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;21&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;22&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;23&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;24&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;25&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;26&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;27&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;28&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;29&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;30&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;31&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;32&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;33&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;34&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;35&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;36&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;class&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;View&lt;/span&gt;&lt;/span&gt;{&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    ...&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;protected&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;onMeasure&lt;/span&gt;&lt;span class=&quot;params&quot;&gt;(&lt;span class=&quot;keyword&quot;&gt;int&lt;/span&gt; widthMeasureSpec, &lt;span class=&quot;keyword&quot;&gt;int&lt;/span&gt; heightMeasureSpec)&lt;/span&gt; &lt;/span&gt;{&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        setMeasuredDimension(getDefaultSize(getSuggestedMinimumWidth(), widthMeasureSpec),&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;                getDefaultSize(getSuggestedMinimumHeight(), heightMeasureSpec));&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    }&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;static&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;int&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;getDefaultSize&lt;/span&gt;&lt;span class=&quot;params&quot;&gt;(&lt;span class=&quot;keyword&quot;&gt;int&lt;/span&gt; size, &lt;span class=&quot;keyword&quot;&gt;int&lt;/span&gt; measureSpec)&lt;/span&gt; &lt;/span&gt;{&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &lt;span class=&quot;keyword&quot;&gt;int&lt;/span&gt; result = size;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &lt;span class=&quot;keyword&quot;&gt;int&lt;/span&gt; specMode = MeasureSpec.getMode(measureSpec);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &lt;span class=&quot;keyword&quot;&gt;int&lt;/span&gt; specSize = MeasureSpec.getSize(measureSpec);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &lt;span class=&quot;keyword&quot;&gt;switch&lt;/span&gt; (specMode) {&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;            &lt;span class=&quot;keyword&quot;&gt;case&lt;/span&gt; MeasureSpec.UNSPECIFIED:&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;                result = size;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;                &lt;span class=&quot;keyword&quot;&gt;break&lt;/span&gt;;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;            &lt;span class=&quot;keyword&quot;&gt;case&lt;/span&gt; MeasureSpec.AT_MOST:&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;            &lt;span class=&quot;keyword&quot;&gt;case&lt;/span&gt; MeasureSpec.EXACTLY:&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;                result = specSize;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;                &lt;span class=&quot;keyword&quot;&gt;break&lt;/span&gt;;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        }&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &lt;span class=&quot;keyword&quot;&gt;return&lt;/span&gt; result;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    }&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;protected&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;int&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;getSuggestedMinimumWidth&lt;/span&gt;&lt;span class=&quot;params&quot;&gt;()&lt;/span&gt; &lt;/span&gt;{&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &lt;span class=&quot;keyword&quot;&gt;return&lt;/span&gt; (mBackground == &lt;span class=&quot;keyword&quot;&gt;null&lt;/span&gt;) ? mMinWidth : max(mMinWidth, mBackground.getMinimumWidth());&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    }&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    ...&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;}&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;Drawable:&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;int&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;getMinimumWidth&lt;/span&gt;&lt;span class=&quot;params&quot;&gt;()&lt;/span&gt; &lt;/span&gt;{&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;final&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;int&lt;/span&gt; intrinsicWidth = getIntrinsicWidth();&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;return&lt;/span&gt; intrinsicWidth &amp;gt; &lt;span class=&quot;number&quot;&gt;0&lt;/span&gt; ? intrinsicWidth : &lt;span class=&quot;number&quot;&gt;0&lt;/span&gt;;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;}&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;&amp;#x5176;&amp;#x4E2D; mMinWidth &amp;#x5BF9;&amp;#x5E94;&lt;code&gt;android:miandroid:minWidth&lt;/code&gt;&amp;#xFF0C;&amp;#x6709;&amp;#x4E9B;Drawable(&amp;#x6BD4;&amp;#x5982;BitmapDrawable)&amp;#x662F;&amp;#x6709;&amp;#x539F;&amp;#x59CB;&amp;#x957F;&amp;#x5EA6;&amp;#x7684;&amp;#xFF0C;&amp;#x6709;&amp;#x4E9B;(&amp;#x6BD4;&amp;#x5982;ShapeDrawable)&amp;#x6CA1;&amp;#x6709;&amp;#x3002;&lt;strong&gt;View#onMeasure()&lt;/strong&gt; &amp;#x9ED8;&amp;#x8BA4;&amp;#x5B9E;&amp;#x73B0;&amp;#x5E76;&amp;#x6CA1;&amp;#x6709;&amp;#x533A;&amp;#x5206;LayoutParams&amp;#x4E2D;match_parent&amp;#x548C;wrap_content&amp;#xFF0C;&amp;#x81EA;&amp;#x5B9A;&amp;#x4E49;View&amp;#x65F6;&amp;#x5EFA;&amp;#x8BAE;&amp;#x5B9E;&amp;#x73B0;&amp;#x3002;&amp;#x4E3A;&amp;#x5B8C;&amp;#x6574;&amp;#x5B9E;&amp;#x73B0;View&amp;#x7684;&amp;#x6D4B;&amp;#x91CF;&amp;#x8FC7;&amp;#x7A0B;&amp;#xFF0C;&amp;#x52A1;&amp;#x5FC5; &lt;strong&gt;View#onMeasure()&lt;/strong&gt; &amp;#x4E2D;&amp;#x4E00;&amp;#x5B9A;&amp;#x8981;&amp;#x6267;&amp;#x884C;&lt;strong&gt; View#setMeasuredDimension(int measuredWidth, int measuredHeight)&lt;/strong&gt; &amp;#x65B9;&amp;#x6CD5;&amp;#x3002;&lt;strong&gt;ViewGroup#onMeasure()&lt;/strong&gt; &amp;#x5B9E;&amp;#x73B0;&amp;#x65F6;&amp;#x9700;&amp;#x8981;&amp;#x5148;&amp;#x5BF9;&amp;#x5B50;View&amp;#x904D;&amp;#x5386;&amp;#x8FDB;&amp;#x884C;&amp;#x6D4B;&amp;#x91CF;&amp;#xFF0C;&amp;#x6700;&amp;#x540E;&amp;#x8BBE;&amp;#x7F6E;ViewGroup&amp;#x7684;measuredWidth&amp;#x548C;measuredHeight&amp;#xFF0C;&amp;#x5EFA;&amp;#x8BAE;&amp;#x9605;&amp;#x8BFB;FrameLayout&amp;#x6E90;&amp;#x7801;&amp;#x8FDB;&amp;#x884C;&amp;#x7406;&amp;#x89E3;&amp;#x3002;&lt;/p&gt;
&lt;h3 id=&quot;onlayout&quot;&gt;&lt;a href=&quot;#onLayout&quot; class=&quot;headerlink&quot; title=&quot;onLayout()&quot;&gt;&lt;/a&gt;onLayout()&lt;/h3&gt;&lt;p&gt;View&amp;#x5B8C;&amp;#x6210;&amp;#x6D4B;&amp;#x91CF;&amp;#x540E;&amp;#xFF0C;&amp;#x6839;&amp;#x636E; &lt;strong&gt;View#getMeasuredWidth()&lt;/strong&gt; &amp;#x548C; &lt;strong&gt;View#getMeasuredHeight()&lt;/strong&gt; &amp;#x5F97;&amp;#x5230;View&amp;#x6D4B;&amp;#x91CF;&amp;#x7684;&amp;#x9AD8;&amp;#x5EA6;&amp;#x548C;&amp;#x5BBD;&amp;#x5EA6;&amp;#xFF0C;&amp;#x7136;&amp;#x540E;&amp;#x786E;&amp;#x5B9A;View&amp;#x5E03;&amp;#x5C40;&amp;#x5728;Window&amp;#x4E2D;&amp;#x7684;&amp;#x4F4D;&amp;#x7F6E;&amp;#xFF0C;&amp;#x5373;&amp;#x786E;&amp;#x5B9A;mLeft&amp;#xFF0C;mRight&amp;#xFF0C;mTop&amp;#x548C;mBottom&amp;#x503C;&amp;#x3002;&amp;#x51FD;&amp;#x6570;&amp;#x539F;&amp;#x578B;&amp;#xFF1A;&lt;br&gt;&lt;figure class=&quot;highlight java&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;protected&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;onLayout&lt;/span&gt;&lt;span class=&quot;params&quot;&gt;(&lt;span class=&quot;keyword&quot;&gt;boolean&lt;/span&gt; changed, &lt;span class=&quot;keyword&quot;&gt;int&lt;/span&gt; left, &lt;span class=&quot;keyword&quot;&gt;int&lt;/span&gt; top, &lt;span class=&quot;keyword&quot;&gt;int&lt;/span&gt; right, &lt;span class=&quot;keyword&quot;&gt;int&lt;/span&gt; bottom)&lt;/span&gt; &lt;/span&gt;{}&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;&amp;#x901A;&amp;#x5E38;View&amp;#x4E0D;&amp;#x9700;&amp;#x8981;&amp;#x989D;&amp;#x5916;&amp;#x5B9E;&amp;#x73B0;&amp;#xFF0C;ViewGroup&amp;#x4F1A;&amp;#x5B9E;&amp;#x73B0;&amp;#x8BE5;&amp;#x65B9;&amp;#x6CD5;&amp;#xFF0C;&amp;#x6839;&amp;#x636E;&amp;#x5E03;&amp;#x5C40;&amp;#x7279;&amp;#x6027;&amp;#x8BA1;&amp;#x7B97;&amp;#x6BCF;&amp;#x4E2A;&amp;#x5B50;View&amp;#x4E0A;&amp;#x8FF0;&amp;#x56DB;&amp;#x4E2A;&amp;#x503C;&amp;#xFF0C;&amp;#x8C03;&amp;#x7528; &lt;strong&gt;View#setFrame(int left, int top, int right, int bottom)&lt;/strong&gt; &amp;#x8FDB;&amp;#x884C;&amp;#x8BBE;&amp;#x7F6E;&amp;#x3002;View&amp;#x5E03;&amp;#x5C40;&amp;#x5B8C;&amp;#x6210;&amp;#x540E;&amp;#x624D;&amp;#x53EF;&amp;#x4EE5;&amp;#x8C03;&amp;#x7528; &lt;strong&gt;View#getWidth()&lt;/strong&gt; &amp;#x548C; &lt;strong&gt;View#getHeight()&lt;/strong&gt; &amp;#x65B9;&amp;#x6CD5;&amp;#xFF1A;&lt;br&gt;&lt;figure class=&quot;highlight java&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;12&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;13&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;14&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;15&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;16&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;17&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;18&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;19&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;/**&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt; * Return the width of the your view.&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt; *&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt; * &lt;span class=&quot;doctag&quot;&gt;@return&lt;/span&gt; The width of your view, in pixels.&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt; */&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;meta&quot;&gt;@ViewDebug&lt;/span&gt;.ExportedProperty(category = &lt;span class=&quot;string&quot;&gt;&amp;quot;layout&amp;quot;&lt;/span&gt;)&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;final&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;int&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;getWidth&lt;/span&gt;&lt;span class=&quot;params&quot;&gt;()&lt;/span&gt; &lt;/span&gt;{&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;return&lt;/span&gt; mRight - mLeft;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;}&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;/**&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt; * Return the height of your view.&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt; *&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt; * &lt;span class=&quot;doctag&quot;&gt;@return&lt;/span&gt; The height of your view, in pixels.&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt; */&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;meta&quot;&gt;@ViewDebug&lt;/span&gt;.ExportedProperty(category = &lt;span class=&quot;string&quot;&gt;&amp;quot;layout&amp;quot;&lt;/span&gt;)&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;final&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;int&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;getHeight&lt;/span&gt;&lt;span class=&quot;params&quot;&gt;()&lt;/span&gt; &lt;/span&gt;{&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;return&lt;/span&gt; mBottom - mTop;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;}&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt; Tips: &lt;/strong&gt;&lt;br&gt;Activity&amp;#x5728;onResume()&amp;#x65B9;&amp;#x6CD5;&amp;#x6267;&amp;#x884C;&amp;#x540E;&amp;#x624D;&amp;#x4F1A;&amp;#x6267;&amp;#x884C; &lt;strong&gt;ViewRootImpl#performTraversals()&lt;/strong&gt; &amp;#xFF0C;&amp;#x6240;&amp;#x4EE5;&amp;#x83B7;&amp;#x5F97;View&amp;#x7684;&amp;#x957F;&amp;#x5EA6;&amp;#x548C;&amp;#x5BBD;&amp;#x5EA6;&amp;#x5EFA;&amp;#x8BAE;&amp;#x4F7F;&amp;#x7528; &lt;strong&gt;View#post()&lt;/strong&gt;&amp;#xFF0C;&amp;#x76F8;&amp;#x6BD4;ViewTreeObserver&amp;#x7B80;&amp;#x5355;&amp;#x6027;&amp;#x80FD;&amp;#x597D;&amp;#x3002;demo&amp;#x5982;&amp;#x4E0B;&amp;#xFF1A;&lt;br&gt;&lt;figure class=&quot;highlight java&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;view.post(&lt;span class=&quot;keyword&quot;&gt;new&lt;/span&gt; Runnable() {&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;meta&quot;&gt;@Override&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;run&lt;/span&gt;&lt;span class=&quot;params&quot;&gt;()&lt;/span&gt; &lt;/span&gt;{&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &lt;span class=&quot;keyword&quot;&gt;int&lt;/span&gt; width = view.getMeasuredWidth()&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &lt;span class=&quot;keyword&quot;&gt;int&lt;/span&gt; height = view.getMeasuredHeight();&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    }&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;});&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;h3 id=&quot;ondraw&quot;&gt;&lt;a href=&quot;#onDraw&quot; class=&quot;headerlink&quot; title=&quot;onDraw()&quot;&gt;&lt;/a&gt;onDraw()&lt;/h3&gt;&lt;p&gt;&lt;strong&gt;View#draw()&lt;/strong&gt; &amp;#x65B9;&amp;#x6CD5;&amp;#x660E;&amp;#x786E;&amp;#x4E86;View&amp;#x7ED8;&amp;#x5236;&amp;#x7684;&amp;#x6D41;&amp;#x7A0B;&amp;#xFF0C;&amp;#x5982;&amp;#x4E0B;&amp;#xFF1A;&lt;/p&gt;
&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1. Draw the background&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2. If necessary, save the canvas&amp;apos; layers to prepare for fading&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3. Draw view&amp;apos;s content&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4. Draw children&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5. If necessary, draw the fading edges and restore layers&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6. Draw decorations (scrollbars for instance)&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;&lt;strong&gt;View#onDraw()&lt;/strong&gt; &amp;#x5C5E;&amp;#x4E8E;&amp;#x7B2C;&amp;#x4E09;&amp;#x6B65;&amp;#xFF0C;&amp;#x6CE8;&amp;#x610F;padding&amp;#x5C5E;&amp;#x6027;&amp;#x5B9E;&amp;#x73B0;&amp;#xFF0C;&amp;#x5176;&amp;#x51FD;&amp;#x6570;&amp;#x539F;&amp;#x578B;&amp;#xFF1A;&lt;/p&gt;
&lt;figure class=&quot;highlight java&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;/**&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt; * Implement this to do your drawing.&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt; *&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt; * &lt;span class=&quot;doctag&quot;&gt;@param&lt;/span&gt; canvas the canvas on which the background will be drawn&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt; */&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;protected&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;onDraw&lt;/span&gt;&lt;span class=&quot;params&quot;&gt;(Canvas canvas)&lt;/span&gt; &lt;/span&gt;{}&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;h3 id=&quot;&amp;#x4E00;&amp;#x4E9B;tips&quot;&gt;&lt;a href=&quot;#&amp;#x4E00;&amp;#x4E9B;Tips&amp;#xFF1A;&quot; class=&quot;headerlink&quot; title=&quot;&amp;#x4E00;&amp;#x4E9B;Tips&amp;#xFF1A;&quot;&gt;&lt;/a&gt;&amp;#x4E00;&amp;#x4E9B;Tips&amp;#xFF1A;&lt;/h3&gt;&lt;ol&gt;
&lt;li&gt;&lt;strong&gt;View#post()&lt;/strong&gt; &amp;#x65B9;&amp;#x6CD5;&amp;#x53EF;&amp;#x4EE5;&amp;#x66FF;&amp;#x4EE3;Handler&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;View#onAttachedToWindow()&lt;/strong&gt; &amp;#x548C; &lt;strong&gt;View#onDetachedFromWindow()&lt;/strong&gt; &amp;#x6CE8;&amp;#x610F;&amp;#x8D44;&amp;#x6E90;&amp;#x7684;&amp;#x56DE;&amp;#x6536;&amp;#xFF0C;&amp;#x6BD4;&amp;#x5982;&amp;#x52A8;&amp;#x753B;&amp;#x6216;&amp;#x7EBF;&amp;#x7A0B;&amp;#x3002;&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;View#onDraw()&lt;/strong&gt; &amp;#x4E2D;&amp;#x4E0D;&amp;#x8981;&amp;#x6709;&amp;#x5BF9;&amp;#x8C61;&amp;#x7684;&amp;#x5206;&amp;#x914D;&amp;#x7B49;&amp;#x5BB9;&amp;#x6613;&amp;#x5F15;&amp;#x8D77;&amp;#x5783;&amp;#x573E;&amp;#x56DE;&amp;#x6536;&amp;#x7684;&amp;#x64CD;&amp;#x4F5C;&amp;#xFF0C;&amp;#x6CE8;&amp;#x610F;invalidate()&amp;#x548C;requestLayout()&amp;#x8C03;&amp;#x7528;&amp;#x6B21;&amp;#x6570;&amp;#x3002;&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id=&quot;drawable&amp;#x603B;&amp;#x7ED3;&quot;&gt;&lt;a href=&quot;#Drawable&amp;#x603B;&amp;#x7ED3;&quot; class=&quot;headerlink&quot; title=&quot;Drawable&amp;#x603B;&amp;#x7ED3;&quot;&gt;&lt;/a&gt;Drawable&amp;#x603B;&amp;#x7ED3;&lt;/h2&gt;&lt;p&gt;Drawable&amp;#x8868;&amp;#x793A;&amp;#x4E00;&amp;#x79CD;&amp;#x53EF;&amp;#x4EE5;&amp;#x753B;&amp;#x5728;&amp;#x5C4F;&amp;#x5E55;&amp;#x4E0A;&amp;#x7684;&amp;#x62BD;&amp;#x8C61;&amp;#x6982;&amp;#x5FF5;&amp;#xFF0C;&amp;#x4E00;&amp;#x822C;&amp;#x901A;&amp;#x8FC7;XML&amp;#x8FDB;&amp;#x884C;&amp;#x5B9A;&amp;#x4E49;&amp;#xFF0C;&amp;#x4E5F;&amp;#x53EF;&amp;#x4EE5;&amp;#x901A;&amp;#x8FC7;&amp;#x4EE3;&amp;#x7801;&amp;#x521B;&amp;#x5EFA;&amp;#x5177;&amp;#x4F53;&amp;#x7684;Drawable&amp;#x5BF9;&amp;#x8C61;&amp;#xFF1B;Drawable&amp;#x662F;&amp;#x62BD;&amp;#x8C61;&amp;#x7C7B;&amp;#xFF0C;&amp;#x6BCF;&amp;#x4E2A;&amp;#x5177;&amp;#x4F53;&amp;#x7684;Drawable&amp;#x90FD;&amp;#x662F;&amp;#x5176;&amp;#x5B50;&amp;#x7C7B;&amp;#xFF1B;&amp;#x6709;&amp;#x4E9B;Drawable&amp;#x4F1A;&amp;#x6709;&amp;#x5185;&amp;#x90E8;&amp;#x5BBD;/&amp;#x9AD8;(&lt;strong&gt;Drawable#getIntrinsicWidth()&lt;/strong&gt; &amp;#x548C;&lt;strong&gt;Drawable#getIntrinsicHeight()&lt;/strong&gt;)&amp;#xFF0C;&amp;#x6BD4;&amp;#x5982;&amp;#x4E00;&amp;#x5F20;&amp;#x56FE;&amp;#x7247;&amp;#x3002;&amp;#x4EE5;&amp;#x4E0B;&amp;#x5BF9;&amp;#x5E38;&amp;#x89C1;Drawable&amp;#x8FDB;&amp;#x884C;&amp;#x4ECB;&amp;#x7ECD;&amp;#xFF1A;&lt;/p&gt;
&lt;h3 id=&quot;bitmapdrawable&quot;&gt;&lt;a href=&quot;#BitmapDrawable&quot; class=&quot;headerlink&quot; title=&quot;BitmapDrawable&quot;&gt;&lt;/a&gt;BitmapDrawable&lt;/h3&gt;&lt;p&gt;&amp;#x4F4D;&amp;#x56FE;&amp;#x652F;&amp;#x6301;&amp;#x4E09;&amp;#x79CD;&amp;#x683C;&amp;#x5F0F;&amp;#xFF1A;.png&amp;#xFF0C;.jpg&amp;#xFF0C;.gif&amp;#xFF0C;&amp;#x63A8;&amp;#x8350;.png&amp;#x683C;&amp;#x5F0F;&amp;#x3002;&amp;#x5B58;&amp;#x5728;res/drawable/&amp;#x8DEF;&amp;#x5F84;&amp;#x4E0B;&amp;#xFF0C;APK&amp;#x6784;&amp;#x5EFA;&amp;#x671F;&amp;#x95F4;&amp;#x4F1A;&amp;#x5BF9;&amp;#x8BE5;&amp;#x8DEF;&amp;#x5F84;&amp;#x4E0B;&amp;#x7684;&amp;#x4F4D;&amp;#x56FE;&amp;#x8FDB;&amp;#x884C;&amp;#x538B;&amp;#x7F29;&amp;#xFF0C;&amp;#x6240;&amp;#x4EE5;&amp;#x5982;&amp;#x679C;&amp;#x9700;&amp;#x8981;&amp;#x8BFB;&amp;#x4F4D;&amp;#x56FE;&amp;#x7684;bit stream&amp;#x65F6;&amp;#xFF0C;&amp;#x9700;&amp;#x8981;&amp;#x628A;&amp;#x4F4D;&amp;#x56FE;&amp;#x5B58;&amp;#x4E8E;res/raw/&amp;#x8DEF;&amp;#x5F84;&amp;#x4E0B;&amp;#x3002;&lt;br&gt;&lt;figure class=&quot;highlight xml&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&amp;#x6587;&amp;#x4EF6;&amp;#x8DEF;&amp;#x5F84;&amp;#xFF1A;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    res/drawable/filename.png (.png, .jpg, or .gif)&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#x8D44;&amp;#x6E90;&amp;#x5F15;&amp;#x7528;&amp;#xFF1A;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    In Java: R.drawable.filename&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    In XML: @[package:]drawable/filename&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;&amp;#x540C;&amp;#x6837;&amp;#x53EF;&amp;#x4EE5;&amp;#x4F7F;&amp;#x7528;XML&amp;#x8FDB;&amp;#x884C;&amp;#x5B9A;&amp;#x4E49;&amp;#xFF0C;&amp;#x597D;&amp;#x5904;&amp;#x662F;&amp;#x53EF;&amp;#x4EE5;&amp;#x6307;&amp;#x5B9A;&amp;#x989D;&amp;#x5916;&amp;#x7684;&amp;#x5C5E;&amp;#x6027;&amp;#xFF0C;&amp;#x8BED;&amp;#x6CD5;&amp;#x5982;&amp;#x4E0B;&amp;#xFF1A;&lt;br&gt;&lt;figure class=&quot;highlight xml&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;12&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;meta&quot;&gt;&amp;lt;?xml version=&amp;quot;1.0&amp;quot; encoding=&amp;quot;utf-8&amp;quot;?&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;tag&quot;&gt;&amp;lt;&lt;span class=&quot;name&quot;&gt;bitmap&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;tag&quot;&gt;    &lt;span class=&quot;attr&quot;&gt;xmlns:android&lt;/span&gt;=&lt;span class=&quot;string&quot;&gt;&amp;quot;http://schemas.android.com/apk/res/android&amp;quot;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;tag&quot;&gt;    &lt;span class=&quot;attr&quot;&gt;android:src&lt;/span&gt;=&lt;span class=&quot;string&quot;&gt;&amp;quot;@[package:]drawable/drawable_resource&amp;quot;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;tag&quot;&gt;    &lt;span class=&quot;attr&quot;&gt;android:antialias&lt;/span&gt;=&lt;span class=&quot;string&quot;&gt;[&lt;/span&gt;&amp;quot;&lt;span class=&quot;attr&quot;&gt;true&lt;/span&gt;&amp;quot;|&amp;quot;&lt;span class=&quot;attr&quot;&gt;false&lt;/span&gt;&amp;quot;]&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;tag&quot;&gt;    &lt;span class=&quot;attr&quot;&gt;android:dither&lt;/span&gt;=&lt;span class=&quot;string&quot;&gt;[&lt;/span&gt;&amp;quot;&lt;span class=&quot;attr&quot;&gt;true&lt;/span&gt;&amp;quot;|&amp;quot;&lt;span class=&quot;attr&quot;&gt;false&lt;/span&gt;&amp;quot;]&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;tag&quot;&gt;    &lt;span class=&quot;attr&quot;&gt;android:filter&lt;/span&gt;=&lt;span class=&quot;string&quot;&gt;[&lt;/span&gt;&amp;quot;&lt;span class=&quot;attr&quot;&gt;true&lt;/span&gt;&amp;quot;|&amp;quot;&lt;span class=&quot;attr&quot;&gt;false&lt;/span&gt;&amp;quot;]&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;tag&quot;&gt;    &lt;span class=&quot;attr&quot;&gt;android:gravity&lt;/span&gt;=&lt;span class=&quot;string&quot;&gt;[&lt;/span&gt;&amp;quot;&lt;span class=&quot;attr&quot;&gt;top&lt;/span&gt;&amp;quot;|&amp;quot;&lt;span class=&quot;attr&quot;&gt;bottom&lt;/span&gt;&amp;quot;|&amp;quot;&lt;span class=&quot;attr&quot;&gt;left&lt;/span&gt;&amp;quot;|&amp;quot;&lt;span class=&quot;attr&quot;&gt;right&lt;/span&gt;&amp;quot;|&amp;quot;&lt;span class=&quot;attr&quot;&gt;center_vertical&lt;/span&gt;&amp;quot;|&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;tag&quot;&gt;                    &amp;quot;&lt;span class=&quot;attr&quot;&gt;fill_vertical&lt;/span&gt;&amp;quot;|&amp;quot;&lt;span class=&quot;attr&quot;&gt;center_horizontal&lt;/span&gt;&amp;quot;|&amp;quot;&lt;span class=&quot;attr&quot;&gt;fill_horizontal&lt;/span&gt;&amp;quot;|&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;tag&quot;&gt;                    &amp;quot;&lt;span class=&quot;attr&quot;&gt;center&lt;/span&gt;&amp;quot;|&amp;quot;&lt;span class=&quot;attr&quot;&gt;fill&lt;/span&gt;&amp;quot;|&amp;quot;&lt;span class=&quot;attr&quot;&gt;clip_vertical&lt;/span&gt;&amp;quot;|&amp;quot;&lt;span class=&quot;attr&quot;&gt;clip_horizontal&lt;/span&gt;&amp;quot;]&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;tag&quot;&gt;    &lt;span class=&quot;attr&quot;&gt;android:mipMap&lt;/span&gt;=&lt;span class=&quot;string&quot;&gt;[&lt;/span&gt;&amp;quot;&lt;span class=&quot;attr&quot;&gt;true&lt;/span&gt;&amp;quot;|&amp;quot;&lt;span class=&quot;attr&quot;&gt;false&lt;/span&gt;&amp;quot;]&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;tag&quot;&gt;    &lt;span class=&quot;attr&quot;&gt;android:tileMode&lt;/span&gt;=&lt;span class=&quot;string&quot;&gt;[&lt;/span&gt;&amp;quot;&lt;span class=&quot;attr&quot;&gt;disabled&lt;/span&gt;&amp;quot;|&amp;quot;&lt;span class=&quot;attr&quot;&gt;clamp&lt;/span&gt;&amp;quot;|&amp;quot;&lt;span class=&quot;attr&quot;&gt;repeat&lt;/span&gt;&amp;quot;|&amp;quot;&lt;span class=&quot;attr&quot;&gt;mirror&lt;/span&gt;&amp;quot;] /&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;h3 id=&quot;ninepatchdrawable&quot;&gt;&lt;a href=&quot;#NinePatchDrawable&quot; class=&quot;headerlink&quot; title=&quot;NinePatchDrawable&quot;&gt;&lt;/a&gt;NinePatchDrawable&lt;/h3&gt;&lt;p&gt;.9&amp;#x56FE;&amp;#x5BF9;&amp;#x5E94;&amp;#x7684;Drawable&amp;#x5B50;&amp;#x7C7B;&amp;#xFF0C;&amp;#x6587;&amp;#x4EF6;&amp;#x4F4D;&amp;#x4E8E;res/drawable/&amp;#x4E0B;&amp;#xFF0C;&amp;#x5982;&amp;#x4E0B;&amp;#xFF1A;&lt;br&gt;&lt;figure class=&quot;highlight xml&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&amp;#x6587;&amp;#x4EF6;&amp;#x8DEF;&amp;#x5F84;:&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    res/drawable/filename.9.png&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#x8D44;&amp;#x6E90;&amp;#x4F7F;&amp;#x7528;:&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    In Java: R.drawable.filename&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    In XML: @[package:]drawable/filename&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;&amp;#x540C;&amp;#x6837;&amp;#x53EF;&amp;#x4EE5;&amp;#x4F7F;&amp;#x7528;XML&amp;#x8FDB;&amp;#x884C;&amp;#x5B9A;&amp;#x4E49;&amp;#xFF0C;&amp;#x8BED;&amp;#x6CD5;&amp;#x5982;&amp;#x4E0B;&amp;#xFF1A;&lt;br&gt;&lt;figure class=&quot;highlight xml&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;meta&quot;&gt;&amp;lt;?xml version=&amp;quot;1.0&amp;quot; encoding=&amp;quot;utf-8&amp;quot;?&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;tag&quot;&gt;&amp;lt;&lt;span class=&quot;name&quot;&gt;nine-patch&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;tag&quot;&gt;    &lt;span class=&quot;attr&quot;&gt;xmlns:android&lt;/span&gt;=&lt;span class=&quot;string&quot;&gt;&amp;quot;http://schemas.android.com/apk/res/android&amp;quot;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;tag&quot;&gt;    &lt;span class=&quot;attr&quot;&gt;android:src&lt;/span&gt;=&lt;span class=&quot;string&quot;&gt;&amp;quot;@[package:]drawable/drawable_resource&amp;quot;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;tag&quot;&gt;    &lt;span class=&quot;attr&quot;&gt;android:dither&lt;/span&gt;=&lt;span class=&quot;string&quot;&gt;[&lt;/span&gt;&amp;quot;&lt;span class=&quot;attr&quot;&gt;true&lt;/span&gt;&amp;quot;|&amp;quot;&lt;span class=&quot;attr&quot;&gt;false&lt;/span&gt;&amp;quot;] /&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;h3 id=&quot;layerdrawable&quot;&gt;&lt;a href=&quot;#LayerDrawable&quot; class=&quot;headerlink&quot; title=&quot;LayerDrawable&quot;&gt;&lt;/a&gt;LayerDrawable&lt;/h3&gt;&lt;p&gt;&amp;#x8868;&amp;#x793A;&amp;#x4E00;&amp;#x79CD;&amp;#x5C42;&amp;#x6B21;&amp;#x5316;&amp;#x7684;Drawable&amp;#x96C6;&amp;#x5408;&amp;#xFF0C;&amp;#x4E0B;&amp;#x5C42;Item&amp;#x4F1A;&amp;#x8986;&amp;#x76D6;&amp;#x4E0A;&amp;#x5C42;Item&amp;#xFF0C;&amp;#x4F7F;&amp;#x7528;&amp;#x5982;&amp;#x4E0B;&amp;#xFF1A;&lt;br&gt;&lt;figure class=&quot;highlight xml&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;12&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;13&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;14&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;15&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;16&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;17&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&amp;#x6587;&amp;#x4EF6;&amp;#x8DEF;&amp;#x5F84;&amp;#xFF1A;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    res/drawable/filename.xml&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#x8D44;&amp;#x6E90;&amp;#x5F15;&amp;#x7528;&amp;#xFF1A;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    In Java: R.drawable.filename&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    In XML: @[package:]drawable/filename&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#x8BED;&amp;#x6CD5;&amp;#xFF1A;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;meta&quot;&gt;&amp;lt;?xml version=&amp;quot;1.0&amp;quot; encoding=&amp;quot;utf-8&amp;quot;?&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;tag&quot;&gt;&amp;lt;&lt;span class=&quot;name&quot;&gt;layer-list&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;tag&quot;&gt;        &lt;span class=&quot;attr&quot;&gt;xmlns:android&lt;/span&gt;=&lt;span class=&quot;string&quot;&gt;&amp;quot;http://schemas.android.com/apk/res/android&amp;quot;&lt;/span&gt; &amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &lt;span class=&quot;tag&quot;&gt;&amp;lt;&lt;span class=&quot;name&quot;&gt;item&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;tag&quot;&gt;            &lt;span class=&quot;attr&quot;&gt;android:drawable&lt;/span&gt;=&lt;span class=&quot;string&quot;&gt;&amp;quot;@[package:]drawable/drawable_resource&amp;quot;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;tag&quot;&gt;            &lt;span class=&quot;attr&quot;&gt;android:id&lt;/span&gt;=&lt;span class=&quot;string&quot;&gt;&amp;quot;@[+][package:]id/resource_name&amp;quot;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;tag&quot;&gt;            &lt;span class=&quot;attr&quot;&gt;android:top&lt;/span&gt;=&lt;span class=&quot;string&quot;&gt;&amp;quot;dimension&amp;quot;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;tag&quot;&gt;            &lt;span class=&quot;attr&quot;&gt;android:right&lt;/span&gt;=&lt;span class=&quot;string&quot;&gt;&amp;quot;dimension&amp;quot;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;tag&quot;&gt;            &lt;span class=&quot;attr&quot;&gt;android:bottom&lt;/span&gt;=&lt;span class=&quot;string&quot;&gt;&amp;quot;dimension&amp;quot;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;tag&quot;&gt;            &lt;span class=&quot;attr&quot;&gt;android:left&lt;/span&gt;=&lt;span class=&quot;string&quot;&gt;&amp;quot;dimension&amp;quot;&lt;/span&gt; /&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;tag&quot;&gt;&amp;lt;/&lt;span class=&quot;name&quot;&gt;layer-list&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;&amp;#x4E3A;&amp;#x4E86;&amp;#x9632;&amp;#x6B62;Item&amp;#x9ED8;&amp;#x8BA4;scale&amp;#x81F3;&amp;#x7236;&amp;#x5BB9;&amp;#x5668;&amp;#xFF0C;&amp;#x901A;&amp;#x5E38;&lt;code&gt;&amp;lt;Item&amp;gt;&lt;/code&gt;&amp;#x4E2D;&amp;#x5D4C;&amp;#x5957;&lt;code&gt;&amp;lt;bitmap&amp;gt;&lt;/code&gt;&amp;#x6807;&amp;#x7B7E;&amp;#x8FBE;&amp;#x5230;&amp;#x60F3;&amp;#x8981;&amp;#x7684;&amp;#x5C42;&amp;#x6B21;&amp;#x6548;&amp;#x679C;&amp;#xFF0C;demo&amp;#x5982;&amp;#x4E0B;&amp;#xFF1A;&lt;br&gt;&lt;figure class=&quot;highlight xml&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;12&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;13&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;14&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;15&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;meta&quot;&gt;&amp;lt;?xml version=&amp;quot;1.0&amp;quot; encoding=&amp;quot;utf-8&amp;quot;?&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;tag&quot;&gt;&amp;lt;&lt;span class=&quot;name&quot;&gt;layer-list&lt;/span&gt; &lt;span class=&quot;attr&quot;&gt;xmlns:android&lt;/span&gt;=&lt;span class=&quot;string&quot;&gt;&amp;quot;http://schemas.android.com/apk/res/android&amp;quot;&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;tag&quot;&gt;&amp;lt;&lt;span class=&quot;name&quot;&gt;item&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;      &lt;span class=&quot;tag&quot;&gt;&amp;lt;&lt;span class=&quot;name&quot;&gt;bitmap&lt;/span&gt; &lt;span class=&quot;attr&quot;&gt;android:src&lt;/span&gt;=&lt;span class=&quot;string&quot;&gt;&amp;quot;@drawable/android_red&amp;quot;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;tag&quot;&gt;        &lt;span class=&quot;attr&quot;&gt;android:gravity&lt;/span&gt;=&lt;span class=&quot;string&quot;&gt;&amp;quot;center&amp;quot;&lt;/span&gt; /&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;tag&quot;&gt;&amp;lt;/&lt;span class=&quot;name&quot;&gt;item&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;tag&quot;&gt;&amp;lt;&lt;span class=&quot;name&quot;&gt;item&lt;/span&gt; &lt;span class=&quot;attr&quot;&gt;android:top&lt;/span&gt;=&lt;span class=&quot;string&quot;&gt;&amp;quot;10dp&amp;quot;&lt;/span&gt; &lt;span class=&quot;attr&quot;&gt;android:left&lt;/span&gt;=&lt;span class=&quot;string&quot;&gt;&amp;quot;10dp&amp;quot;&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;      &lt;span class=&quot;tag&quot;&gt;&amp;lt;&lt;span class=&quot;name&quot;&gt;bitmap&lt;/span&gt; &lt;span class=&quot;attr&quot;&gt;android:src&lt;/span&gt;=&lt;span class=&quot;string&quot;&gt;&amp;quot;@drawable/android_green&amp;quot;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;tag&quot;&gt;        &lt;span class=&quot;attr&quot;&gt;android:gravity&lt;/span&gt;=&lt;span class=&quot;string&quot;&gt;&amp;quot;center&amp;quot;&lt;/span&gt; /&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;tag&quot;&gt;&amp;lt;/&lt;span class=&quot;name&quot;&gt;item&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;tag&quot;&gt;&amp;lt;&lt;span class=&quot;name&quot;&gt;item&lt;/span&gt; &lt;span class=&quot;attr&quot;&gt;android:top&lt;/span&gt;=&lt;span class=&quot;string&quot;&gt;&amp;quot;20dp&amp;quot;&lt;/span&gt; &lt;span class=&quot;attr&quot;&gt;android:left&lt;/span&gt;=&lt;span class=&quot;string&quot;&gt;&amp;quot;20dp&amp;quot;&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;      &lt;span class=&quot;tag&quot;&gt;&amp;lt;&lt;span class=&quot;name&quot;&gt;bitmap&lt;/span&gt; &lt;span class=&quot;attr&quot;&gt;android:src&lt;/span&gt;=&lt;span class=&quot;string&quot;&gt;&amp;quot;@drawable/android_blue&amp;quot;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;tag&quot;&gt;        &lt;span class=&quot;attr&quot;&gt;android:gravity&lt;/span&gt;=&lt;span class=&quot;string&quot;&gt;&amp;quot;center&amp;quot;&lt;/span&gt; /&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;tag&quot;&gt;&amp;lt;/&lt;span class=&quot;name&quot;&gt;item&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;tag&quot;&gt;&amp;lt;/&lt;span class=&quot;name&quot;&gt;layer-list&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;h3 id=&quot;statelistdrawable&quot;&gt;&lt;a href=&quot;#StateListDrawable&quot; class=&quot;headerlink&quot; title=&quot;StateListDrawable&quot;&gt;&lt;/a&gt;StateListDrawable&lt;/h3&gt;&lt;p&gt;&amp;#x5BF9;&amp;#x5E94;&lt;code&gt;&amp;lt;selector&amp;gt;&lt;/code&gt;&amp;#x6807;&amp;#x7B7E;&amp;#xFF0C;&amp;#x8868;&amp;#x793A;View&amp;#x5404;&amp;#x79CD;&amp;#x72B6;&amp;#x6001;&amp;#x7684;Drawable&amp;#x96C6;&amp;#x5408;&amp;#xFF0C;&amp;#x4F7F;&amp;#x7528;&amp;#x5982;&amp;#x4E0B;&amp;#xFF1A;&lt;/p&gt;
&lt;figure class=&quot;highlight xml&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;12&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;13&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;14&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;15&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;16&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;17&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;18&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;19&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;20&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;21&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;22&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;23&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&amp;#x6587;&amp;#x4EF6;&amp;#x8DEF;&amp;#x5F84;&amp;#xFF1A;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    res/drawable/filename.xml&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#x8D44;&amp;#x6E90;&amp;#x5F15;&amp;#x7528;&amp;#xFF1A;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    In Java: R.drawable.filename&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    In XML: @[package:]drawable/filename&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#x8BED;&amp;#x6CD5;&amp;#xFF1A;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;meta&quot;&gt;&amp;lt;?xml version=&amp;quot;1.0&amp;quot; encoding=&amp;quot;utf-8&amp;quot;?&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;tag&quot;&gt;&amp;lt;&lt;span class=&quot;name&quot;&gt;selector&lt;/span&gt; &lt;span class=&quot;attr&quot;&gt;xmlns:android&lt;/span&gt;=&lt;span class=&quot;string&quot;&gt;&amp;quot;http://schemas.android.com/apk/res/android&amp;quot;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;tag&quot;&gt;        &lt;span class=&quot;attr&quot;&gt;android:constantSize&lt;/span&gt;=&lt;span class=&quot;string&quot;&gt;[&lt;/span&gt;&amp;quot;&lt;span class=&quot;attr&quot;&gt;true&lt;/span&gt;&amp;quot;|&amp;quot;&lt;span class=&quot;attr&quot;&gt;false&lt;/span&gt;&amp;quot;]&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;tag&quot;&gt;        &lt;span class=&quot;attr&quot;&gt;android:dither&lt;/span&gt;=&lt;span class=&quot;string&quot;&gt;[&lt;/span&gt;&amp;quot;&lt;span class=&quot;attr&quot;&gt;true&lt;/span&gt;&amp;quot;|&amp;quot;&lt;span class=&quot;attr&quot;&gt;false&lt;/span&gt;&amp;quot;]&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;tag&quot;&gt;        &lt;span class=&quot;attr&quot;&gt;android:variablePadding&lt;/span&gt;=&lt;span class=&quot;string&quot;&gt;[&lt;/span&gt;&amp;quot;&lt;span class=&quot;attr&quot;&gt;true&lt;/span&gt;&amp;quot;|&amp;quot;&lt;span class=&quot;attr&quot;&gt;false&lt;/span&gt;&amp;quot;] &amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &lt;span class=&quot;tag&quot;&gt;&amp;lt;&lt;span class=&quot;name&quot;&gt;item&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;tag&quot;&gt;            &lt;span class=&quot;attr&quot;&gt;android:drawable&lt;/span&gt;=&lt;span class=&quot;string&quot;&gt;&amp;quot;@[package:]drawable/drawable_resource&amp;quot;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;tag&quot;&gt;            &lt;span class=&quot;attr&quot;&gt;android:state_pressed&lt;/span&gt;=&lt;span class=&quot;string&quot;&gt;[&lt;/span&gt;&amp;quot;&lt;span class=&quot;attr&quot;&gt;true&lt;/span&gt;&amp;quot;|&amp;quot;&lt;span class=&quot;attr&quot;&gt;false&lt;/span&gt;&amp;quot;]&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;tag&quot;&gt;            &lt;span class=&quot;attr&quot;&gt;android:state_focused&lt;/span&gt;=&lt;span class=&quot;string&quot;&gt;[&lt;/span&gt;&amp;quot;&lt;span class=&quot;attr&quot;&gt;true&lt;/span&gt;&amp;quot;|&amp;quot;&lt;span class=&quot;attr&quot;&gt;false&lt;/span&gt;&amp;quot;]&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;tag&quot;&gt;            &lt;span class=&quot;attr&quot;&gt;android:state_hovered&lt;/span&gt;=&lt;span class=&quot;string&quot;&gt;[&lt;/span&gt;&amp;quot;&lt;span class=&quot;attr&quot;&gt;true&lt;/span&gt;&amp;quot;|&amp;quot;&lt;span class=&quot;attr&quot;&gt;false&lt;/span&gt;&amp;quot;]&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;tag&quot;&gt;            &lt;span class=&quot;attr&quot;&gt;android:state_selected&lt;/span&gt;=&lt;span class=&quot;string&quot;&gt;[&lt;/span&gt;&amp;quot;&lt;span class=&quot;attr&quot;&gt;true&lt;/span&gt;&amp;quot;|&amp;quot;&lt;span class=&quot;attr&quot;&gt;false&lt;/span&gt;&amp;quot;]&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;tag&quot;&gt;            &lt;span class=&quot;attr&quot;&gt;android:state_checkable&lt;/span&gt;=&lt;span class=&quot;string&quot;&gt;[&lt;/span&gt;&amp;quot;&lt;span class=&quot;attr&quot;&gt;true&lt;/span&gt;&amp;quot;|&amp;quot;&lt;span class=&quot;attr&quot;&gt;false&lt;/span&gt;&amp;quot;]&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;tag&quot;&gt;            &lt;span class=&quot;attr&quot;&gt;android:state_checked&lt;/span&gt;=&lt;span class=&quot;string&quot;&gt;[&lt;/span&gt;&amp;quot;&lt;span class=&quot;attr&quot;&gt;true&lt;/span&gt;&amp;quot;|&amp;quot;&lt;span class=&quot;attr&quot;&gt;false&lt;/span&gt;&amp;quot;]&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;tag&quot;&gt;            &lt;span class=&quot;attr&quot;&gt;android:state_enabled&lt;/span&gt;=&lt;span class=&quot;string&quot;&gt;[&lt;/span&gt;&amp;quot;&lt;span class=&quot;attr&quot;&gt;true&lt;/span&gt;&amp;quot;|&amp;quot;&lt;span class=&quot;attr&quot;&gt;false&lt;/span&gt;&amp;quot;]&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;tag&quot;&gt;            &lt;span class=&quot;attr&quot;&gt;android:state_activated&lt;/span&gt;=&lt;span class=&quot;string&quot;&gt;[&lt;/span&gt;&amp;quot;&lt;span class=&quot;attr&quot;&gt;true&lt;/span&gt;&amp;quot;|&amp;quot;&lt;span class=&quot;attr&quot;&gt;false&lt;/span&gt;&amp;quot;]&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;tag&quot;&gt;            &lt;span class=&quot;attr&quot;&gt;android:state_window_focused&lt;/span&gt;=&lt;span class=&quot;string&quot;&gt;[&lt;/span&gt;&amp;quot;&lt;span class=&quot;attr&quot;&gt;true&lt;/span&gt;&amp;quot;|&amp;quot;&lt;span class=&quot;attr&quot;&gt;false&lt;/span&gt;&amp;quot;] /&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;tag&quot;&gt;&amp;lt;/&lt;span class=&quot;name&quot;&gt;selector&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;&amp;#x5176;&amp;#x4E2D;&amp;#xFF0C;&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;12&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;13&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;14&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;15&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;16&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;17&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;18&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;### LevelListDrawable&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;Drawable&amp;#x96C6;&amp;#x5408;&amp;#x4E2D;&amp;#x6BCF;&amp;#x4E2A;Drawable&amp;#x90FD;&amp;#x6709;Level&amp;#xFF0C;Level&amp;#x53D6;&amp;#x503C;&amp;#x4ECE;0&amp;#x5230;10000&amp;#xFF0C;&amp;#x53EF;&amp;#x4EE5;&amp;#x901A;&amp;#x8FC7;Drawable#setLevel()&amp;#x548C;ImageView#setImageLevel()&amp;#x6539;&amp;#x53D8;Level&amp;#xFF0C;&amp;#x4ECE;&amp;#x800C;&amp;#x6539;&amp;#x53D8;&amp;#x5BF9;&amp;#x5E94;&amp;#x7684;Drawable&amp;#xFF0C;&amp;#x5339;&amp;#x914D;&amp;#x89C4;&amp;#x5219;&amp;#x662F;&amp;#x4ECE;&amp;#x4E0A;&amp;#x5230;&amp;#x4E0B;&amp;#x5BFB;&amp;#x627E;&amp;#x7B2C;&amp;#x4E00;&amp;#x4E2A;&amp;#x4F7F;&amp;#x5F97;Level&amp;#x5904;&amp;#x4E8E;minLevel&amp;#x548C;maxLevel&amp;#x4E4B;&amp;#x4E2D;&amp;#x7684;Item&amp;#x3002;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;``` xml&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#x6587;&amp;#x4EF6;&amp;#x8DEF;&amp;#x5F84;&amp;#xFF1A;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    res/drawable/filename.xml&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#x8D44;&amp;#x6E90;&amp;#x5F15;&amp;#x7528;&amp;#xFF1A;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    In Java: R.drawable.filename&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    In XML: @[package:]drawable/filename&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#x8BED;&amp;#x6CD5;&amp;#xFF1A;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &amp;lt;?xml version=&amp;quot;1.0&amp;quot; encoding=&amp;quot;utf-8&amp;quot;?&amp;gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &amp;lt;level-list&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        xmlns:android=&amp;quot;http://schemas.android.com/apk/res/android&amp;quot; &amp;gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &amp;lt;item&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;            android:drawable=&amp;quot;@drawable/drawable_resource&amp;quot;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;            android:maxLevel=&amp;quot;integer&amp;quot;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;            android:minLevel=&amp;quot;integer&amp;quot; /&amp;gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &amp;lt;/level-list&amp;gt;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;h3 id=&quot;transitiondrawable&quot;&gt;&lt;a href=&quot;#TransitionDrawable&quot; class=&quot;headerlink&quot; title=&quot;TransitionDrawable&quot;&gt;&lt;/a&gt;TransitionDrawable&lt;/h3&gt;&lt;p&gt;&amp;#x5B9E;&amp;#x73B0;&amp;#x4E24;&amp;#x4E2A;Drawable&amp;#x4E4B;&amp;#x95F4;&amp;#x7684;&amp;#x6DE1;&amp;#x5165;&amp;#x6DE1;&amp;#x51FA;&amp;#x6548;&amp;#x679C;&amp;#xFF0C;&amp;#x5411;&amp;#x524D;&amp;#x542F;&amp;#x52A8;&amp;#x65F6;&amp;#x8C03;&amp;#x7528; &lt;strong&gt;Drawable#startTransition()&lt;/strong&gt;&amp;#xFF0C;&amp;#x5411;&amp;#x540E;&amp;#x8C03;&amp;#x7528; &lt;strong&gt;Drawable#reverseTransition()&lt;/strong&gt;&amp;#x3002;&amp;#x4F7F;&amp;#x7528;&amp;#x5982;&amp;#x4E0B;&amp;#xFF1A;&lt;br&gt;&lt;figure class=&quot;highlight xml&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;12&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;13&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;14&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;15&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;16&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;17&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&amp;#x6587;&amp;#x4EF6;&amp;#x8DEF;&amp;#x5F84;&amp;#xFF1A;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    res/drawable/filename.xml&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#x8D44;&amp;#x6E90;&amp;#x5F15;&amp;#x7528;&amp;#xFF1A;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    In Java: R.drawable.filename&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    In XML: @[package:]drawable/filename&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#x8BED;&amp;#x6CD5;&amp;#xFF1A;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;meta&quot;&gt;&amp;lt;?xml version=&amp;quot;1.0&amp;quot; encoding=&amp;quot;utf-8&amp;quot;?&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;tag&quot;&gt;&amp;lt;&lt;span class=&quot;name&quot;&gt;transition&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;tag&quot;&gt;    &lt;span class=&quot;attr&quot;&gt;xmlns:android&lt;/span&gt;=&lt;span class=&quot;string&quot;&gt;&amp;quot;http://schemas.android.com/apk/res/android&amp;quot;&lt;/span&gt; &amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &lt;span class=&quot;tag&quot;&gt;&amp;lt;&lt;span class=&quot;name&quot;&gt;item&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;tag&quot;&gt;            &lt;span class=&quot;attr&quot;&gt;android:drawable&lt;/span&gt;=&lt;span class=&quot;string&quot;&gt;&amp;quot;@[package:]drawable/drawable_resource&amp;quot;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;tag&quot;&gt;            &lt;span class=&quot;attr&quot;&gt;android:id&lt;/span&gt;=&lt;span class=&quot;string&quot;&gt;&amp;quot;@[+][package:]id/resource_name&amp;quot;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;tag&quot;&gt;            &lt;span class=&quot;attr&quot;&gt;android:top&lt;/span&gt;=&lt;span class=&quot;string&quot;&gt;&amp;quot;dimension&amp;quot;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;tag&quot;&gt;            &lt;span class=&quot;attr&quot;&gt;android:right&lt;/span&gt;=&lt;span class=&quot;string&quot;&gt;&amp;quot;dimension&amp;quot;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;tag&quot;&gt;            &lt;span class=&quot;attr&quot;&gt;android:bottom&lt;/span&gt;=&lt;span class=&quot;string&quot;&gt;&amp;quot;dimension&amp;quot;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;tag&quot;&gt;            &lt;span class=&quot;attr&quot;&gt;android:left&lt;/span&gt;=&lt;span class=&quot;string&quot;&gt;&amp;quot;dimension&amp;quot;&lt;/span&gt; /&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;tag&quot;&gt;&amp;lt;/&lt;span class=&quot;name&quot;&gt;transition&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;h3 id=&quot;insertdrawable&quot;&gt;&lt;a href=&quot;#InsertDrawable&quot; class=&quot;headerlink&quot; title=&quot;InsertDrawable&quot;&gt;&lt;/a&gt;InsertDrawable&lt;/h3&gt;&lt;p&gt;&amp;#x7528;&amp;#x4E8E;&amp;#x5D4C;&amp;#x5165;&amp;#x5176;&amp;#x4ED6;Drawable&amp;#x5E76;&amp;#x80FD;&amp;#x7559;&amp;#x51FA;&amp;#x4E00;&amp;#x5B9A;&amp;#x95F4;&amp;#x8DDD;&amp;#x7684;&amp;#x573A;&amp;#x666F;&amp;#x3002;&amp;#x4F7F;&amp;#x7528;&amp;#x5982;&amp;#x4E0B;&amp;#xFF1A;&lt;br&gt;&lt;figure class=&quot;highlight xml&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;12&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;13&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;14&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&amp;#x6587;&amp;#x4EF6;&amp;#x8DEF;&amp;#x5F84;&amp;#xFF1A;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    res/drawable/filename.xml&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#x8D44;&amp;#x6E90;&amp;#x5F15;&amp;#x7528;&amp;#xFF1A;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    In Java: R.drawable.filename&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    In XML: @[package:]drawable/filename&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#x8BED;&amp;#x6CD5;&amp;#xFF1A;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;meta&quot;&gt;&amp;lt;?xml version=&amp;quot;1.0&amp;quot; encoding=&amp;quot;utf-8&amp;quot;?&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;tag&quot;&gt;&amp;lt;&lt;span class=&quot;name&quot;&gt;inset&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;tag&quot;&gt;        &lt;span class=&quot;attr&quot;&gt;xmlns:android&lt;/span&gt;=&lt;span class=&quot;string&quot;&gt;&amp;quot;http://schemas.android.com/apk/res/android&amp;quot;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;tag&quot;&gt;        &lt;span class=&quot;attr&quot;&gt;android:drawable&lt;/span&gt;=&lt;span class=&quot;string&quot;&gt;&amp;quot;@drawable/drawable_resource&amp;quot;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;tag&quot;&gt;        &lt;span class=&quot;attr&quot;&gt;android:insetTop&lt;/span&gt;=&lt;span class=&quot;string&quot;&gt;&amp;quot;dimension&amp;quot;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;tag&quot;&gt;        &lt;span class=&quot;attr&quot;&gt;android:insetRight&lt;/span&gt;=&lt;span class=&quot;string&quot;&gt;&amp;quot;dimension&amp;quot;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;tag&quot;&gt;        &lt;span class=&quot;attr&quot;&gt;android:insetBottom&lt;/span&gt;=&lt;span class=&quot;string&quot;&gt;&amp;quot;dimension&amp;quot;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;tag&quot;&gt;        &lt;span class=&quot;attr&quot;&gt;android:insetLeft&lt;/span&gt;=&lt;span class=&quot;string&quot;&gt;&amp;quot;dimension&amp;quot;&lt;/span&gt; /&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;h3 id=&quot;clipdrawable&quot;&gt;&lt;a href=&quot;#ClipDrawable&quot; class=&quot;headerlink&quot; title=&quot;ClipDrawable&quot;&gt;&lt;/a&gt;ClipDrawable&lt;/h3&gt;&lt;p&gt;&amp;#x5B9A;&amp;#x4E49;&amp;#x4E00;&amp;#x4E2A;&amp;#x6839;&amp;#x636E;Level&amp;#x88C1;&amp;#x526A;Drawable&amp;#x800C;&amp;#x751F;&amp;#x6210;&amp;#x7684;Drawable&amp;#xFF0C;&amp;#x901A;&amp;#x5E38;&amp;#x7528;&amp;#x4E8E;&amp;#x8FDB;&amp;#x5EA6;&amp;#x6761;&amp;#x7684;&amp;#x5B9E;&amp;#x73B0;&amp;#x3002;&amp;#x4F7F;&amp;#x7528;&amp;#x5982;&amp;#x4E0B;&amp;#xFF1A;&lt;br&gt;&lt;figure class=&quot;highlight xml&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;12&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;13&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;14&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&amp;#x6587;&amp;#x4EF6;&amp;#x8DEF;&amp;#x5F84;&amp;#xFF1A;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    res/drawable/filename.xml&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#x8D44;&amp;#x6E90;&amp;#x5F15;&amp;#x7528;&amp;#xFF1A;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    In Java: R.drawable.filename&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    In XML: @[package:]drawable/filename&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#x8BED;&amp;#x6CD5;&amp;#xFF1A;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;meta&quot;&gt;&amp;lt;?xml version=&amp;quot;1.0&amp;quot; encoding=&amp;quot;utf-8&amp;quot;?&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;tag&quot;&gt;&amp;lt;&lt;span class=&quot;name&quot;&gt;clip&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;tag&quot;&gt;        &lt;span class=&quot;attr&quot;&gt;xmlns:android&lt;/span&gt;=&lt;span class=&quot;string&quot;&gt;&amp;quot;http://schemas.android.com/apk/res/android&amp;quot;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;tag&quot;&gt;        &lt;span class=&quot;attr&quot;&gt;android:drawable&lt;/span&gt;=&lt;span class=&quot;string&quot;&gt;&amp;quot;@drawable/drawable_resource&amp;quot;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;tag&quot;&gt;        &lt;span class=&quot;attr&quot;&gt;android:clipOrientation&lt;/span&gt;=&lt;span class=&quot;string&quot;&gt;[&lt;/span&gt;&amp;quot;&lt;span class=&quot;attr&quot;&gt;horizontal&lt;/span&gt;&amp;quot;|&amp;quot;&lt;span class=&quot;attr&quot;&gt;vertical&lt;/span&gt;&amp;quot;]&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;tag&quot;&gt;        &lt;span class=&quot;attr&quot;&gt;android:gravity&lt;/span&gt;=&lt;span class=&quot;string&quot;&gt;[&lt;/span&gt;&amp;quot;&lt;span class=&quot;attr&quot;&gt;top&lt;/span&gt;&amp;quot;|&amp;quot;&lt;span class=&quot;attr&quot;&gt;bottom&lt;/span&gt;&amp;quot;|&amp;quot;&lt;span class=&quot;attr&quot;&gt;left&lt;/span&gt;&amp;quot;|&amp;quot;&lt;span class=&quot;attr&quot;&gt;right&lt;/span&gt;&amp;quot;|&amp;quot;&lt;span class=&quot;attr&quot;&gt;center_vertical&lt;/span&gt;&amp;quot;|&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;tag&quot;&gt;                        &amp;quot;&lt;span class=&quot;attr&quot;&gt;fill_vertical&lt;/span&gt;&amp;quot;|&amp;quot;&lt;span class=&quot;attr&quot;&gt;center_horizontal&lt;/span&gt;&amp;quot;|&amp;quot;&lt;span class=&quot;attr&quot;&gt;fill_horizontal&lt;/span&gt;&amp;quot;|&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;tag&quot;&gt;                        &amp;quot;&lt;span class=&quot;attr&quot;&gt;center&lt;/span&gt;&amp;quot;|&amp;quot;&lt;span class=&quot;attr&quot;&gt;fill&lt;/span&gt;&amp;quot;|&amp;quot;&lt;span class=&quot;attr&quot;&gt;clip_vertical&lt;/span&gt;&amp;quot;|&amp;quot;&lt;span class=&quot;attr&quot;&gt;clip_horizontal&lt;/span&gt;&amp;quot;] /&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;&amp;#x9ED8;&amp;#x8BA4;Level&amp;#x4E3A;0&amp;#xFF0C;&amp;#x8868;&amp;#x793A;&amp;#x5168;&amp;#x90E8;&amp;#x88C1;&amp;#x526A;&amp;#xFF1B;level&amp;#x6700;&amp;#x5927;&amp;#x503C;&amp;#x4E3A;10000&amp;#xFF0C;&amp;#x8868;&amp;#x793A;&amp;#x4E0D;&amp;#x88C1;&amp;#x526A;&amp;#x3002;&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;12&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;13&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;14&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;15&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;16&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;17&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;18&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;19&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;### ScaleDrawable&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#x5B9A;&amp;#x4E49;&amp;#x4E00;&amp;#x4E2A;&amp;#x6839;&amp;#x636E;Level&amp;#x7F29;&amp;#x653E;Drawable&amp;#x800C;&amp;#x751F;&amp;#x6210;&amp;#x7684;Drawable&amp;#xFF0C;&amp;#x4F7F;&amp;#x7528;&amp;#x5982;&amp;#x4E0B;&amp;#xFF1A;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;``` xml&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#x6587;&amp;#x4EF6;&amp;#x8DEF;&amp;#x5F84;&amp;#xFF1A;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    res/drawable/filename.xml&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#x8D44;&amp;#x6E90;&amp;#x5F15;&amp;#x7528;&amp;#xFF1A;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    In Java: R.drawable.filename&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    In XML: @[package:]drawable/filename&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#x8BED;&amp;#x6CD5;&amp;#xFF1A;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &amp;lt;?xml version=&amp;quot;1.0&amp;quot; encoding=&amp;quot;utf-8&amp;quot;?&amp;gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &amp;lt;scale&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        xmlns:android=&amp;quot;http://schemas.android.com/apk/res/android&amp;quot;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        android:drawable=&amp;quot;@drawable/drawable_resource&amp;quot;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        android:scaleGravity=[&amp;quot;top&amp;quot;|&amp;quot;bottom&amp;quot;|&amp;quot;left&amp;quot;|&amp;quot;right&amp;quot;|&amp;quot;center_vertical&amp;quot;|&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;                              &amp;quot;fill_vertical&amp;quot;|&amp;quot;center_horizontal&amp;quot;|&amp;quot;fill_horizontal&amp;quot;|&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;                              &amp;quot;center&amp;quot;|&amp;quot;fill&amp;quot;|&amp;quot;clip_vertical&amp;quot;|&amp;quot;clip_horizontal&amp;quot;]&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        android:scaleHeight=&amp;quot;percentage&amp;quot;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        android:scaleWidth=&amp;quot;percentage&amp;quot; /&amp;gt;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;12&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;13&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;14&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;15&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;16&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;17&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;18&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;19&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;20&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;21&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;22&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;23&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;24&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;25&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;26&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;27&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;28&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;29&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;30&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;31&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;32&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;33&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;34&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;35&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;36&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;37&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;38&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;39&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;40&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;41&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;42&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;43&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;44&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;45&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;46&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;### GradientDrawable&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#x4F7F;&amp;#x7528;XML&amp;#x5B9A;&amp;#x4E49;&amp;#x7684;&amp;#x901A;&amp;#x7528;&amp;#x56FE;&amp;#x5F62;&amp;#xFF0C;&amp;#x4F7F;&amp;#x7528;&amp;#x5982;&amp;#x4E0B;&amp;#xFF1A;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;``` xml&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#x6587;&amp;#x4EF6;&amp;#x8DEF;&amp;#x5F84;&amp;#xFF1A;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    res/drawable/filename.xml&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#x8D44;&amp;#x6E90;&amp;#x5F15;&amp;#x7528;&amp;#xFF1A;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    In Java: R.drawable.filename&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    In XML: @[package:]drawable/filename&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#x8BED;&amp;#x6CD5;&amp;#xFF1A;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &amp;lt;?xml version=&amp;quot;1.0&amp;quot; encoding=&amp;quot;utf-8&amp;quot;?&amp;gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &amp;lt;shape&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        xmlns:android=&amp;quot;http://schemas.android.com/apk/res/android&amp;quot;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        android:shape=[&amp;quot;rectangle&amp;quot;|&amp;quot;oval&amp;quot;|&amp;quot;line&amp;quot;|&amp;quot;ring&amp;quot;] &amp;gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &amp;lt;corners&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;            android:radius=&amp;quot;integer&amp;quot;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;            android:topLeftRadius=&amp;quot;integer&amp;quot;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;            android:topRightRadius=&amp;quot;integer&amp;quot;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;            android:bottomLeftRadius=&amp;quot;integer&amp;quot;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;            android:bottomRightRadius=&amp;quot;integer&amp;quot; /&amp;gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &amp;lt;gradient&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;            android:angle=&amp;quot;integer&amp;quot;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;            android:centerX=&amp;quot;float&amp;quot;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;            android:centerY=&amp;quot;float&amp;quot;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;            android:centerColor=&amp;quot;integer&amp;quot;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;            android:endColor=&amp;quot;color&amp;quot;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;            android:gradientRadius=&amp;quot;integer&amp;quot;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;            android:startColor=&amp;quot;color&amp;quot;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;            android:type=[&amp;quot;linear&amp;quot;|&amp;quot;radial&amp;quot;|&amp;quot;sweep&amp;quot;]&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;            android:useLevel=[&amp;quot;true&amp;quot;|&amp;quot;false&amp;quot;] /&amp;gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &amp;lt;padding&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;            android:left=&amp;quot;integer&amp;quot;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;            android:top=&amp;quot;integer&amp;quot;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;            android:right=&amp;quot;integer&amp;quot;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;            android:bottom=&amp;quot;integer&amp;quot; /&amp;gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &amp;lt;size&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;            android:width=&amp;quot;integer&amp;quot;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;            android:height=&amp;quot;integer&amp;quot; /&amp;gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &amp;lt;solid&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;            android:color=&amp;quot;color&amp;quot; /&amp;gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &amp;lt;stroke&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;            android:width=&amp;quot;integer&amp;quot;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;            android:color=&amp;quot;color&amp;quot;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;            android:dashWidth=&amp;quot;integer&amp;quot;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;            android:dashGap=&amp;quot;integer&amp;quot; /&amp;gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &amp;lt;/shape&amp;gt;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;&lt;strong&gt;Tips:&lt;/strong&gt;  &lt;/p&gt;
&lt;p&gt;&lt;strong&gt;1.&lt;/strong&gt; &lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;12&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;**2.** &amp;#x4EE5;&amp;#x4E0B;&amp;#x5C5E;&amp;#x6027;&amp;#x4EC5;&amp;#x5BF9;```android:shape=&amp;quot;ring&amp;quot;```&amp;#x6709;&amp;#x6548;&amp;#xFF1A;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;|Attribute|Description|&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;|:-|:-|&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;|```android:innerRadius```|&amp;#x5185;&amp;#x534A;&amp;#x5F84;|&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;|```android:innerRadiusRatio```|&amp;#x5185;&amp;#x534A;&amp;#x5F84;&amp;#x6BD4;&amp;#x7387;&amp;#xFF0C;&amp;#x6700;&amp;#x7EC8;&amp;#x503C;&amp;#x4E3A;&amp;#x73AF;&amp;#x5BBD;&amp;#x5EA6;/n&amp;#xFF0C;&amp;#x9ED8;&amp;#x8BA4;n=9&amp;#xFF1B;&amp;#x53EF;&amp;#x88AB;innerRadius&amp;#x8986;&amp;#x76D6;|&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;|```android:thickness```|&amp;#x73AF;&amp;#x7684;&amp;#x539A;&amp;#x5EA6;|&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;|```android:thicknessRatio```|&amp;#x73AF;&amp;#x539A;&amp;#x5EA6;&amp;#x6BD4;&amp;#x7387;&amp;#xFF0C;&amp;#x6700;&amp;#x7EC8;&amp;#x503C;&amp;#x4E3A;&amp;#x73AF;&amp;#x5BBD;&amp;#x5EA6;/n&amp;#xFF0C;&amp;#x9ED8;&amp;#x8BA4;n=3&amp;#xFF1B;&amp;#x53EF;&amp;#x88AB;thickness&amp;#x8986;&amp;#x76D6;|&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;|```android:useLevel```|true&amp;#x8868;&amp;#x793A;&amp;#x7528;&amp;#x4E8E;LevelListDrawable&amp;#xFF0C;&amp;#x901A;&amp;#x5E38;&amp;#x5E94;&amp;#x8BE5;&amp;#x662F;false|&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;**3.** &amp;#x6E10;&amp;#x53D8;&amp;#x8272;```&amp;lt;gradient&amp;gt;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th style=&quot;text-align:left&quot;&gt;Attribute&lt;/th&gt;
&lt;th style=&quot;text-align:left&quot;&gt;Description&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td style=&quot;text-align:left&quot;&gt;&lt;code&gt;android:angle&lt;/code&gt;&lt;/td&gt;
&lt;td style=&quot;text-align:left&quot;&gt;&amp;#x6E10;&amp;#x53D8;&amp;#x89D2;&amp;#x5EA6;&amp;#xFF0C;0&amp;#x8868;&amp;#x793A;&amp;#x4ECE;&amp;#x5DE6;&amp;#x5230;&amp;#x53F3;&amp;#xFF0C;90&amp;#x8868;&amp;#x793A;&amp;#x4ECE;&amp;#x4E0B;&amp;#x5F80;&amp;#x4E0A;&amp;#xFF0C;&amp;#x5FC5;&amp;#x987B;&amp;#x662F;45&amp;#x500D;&amp;#x6570;&amp;#xFF0C;&amp;#x9ED8;&amp;#x8BA4;&amp;#x4E3A;0&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&quot;text-align:left&quot;&gt;&lt;code&gt;android:centerX&lt;/code&gt;&lt;/td&gt;
&lt;td style=&quot;text-align:left&quot;&gt;&amp;#x6E10;&amp;#x53D8;&amp;#x4E2D;&amp;#x5FC3;X&amp;#x5750;&amp;#x6807;&amp;#xFF0C;&amp;#x53D6;&amp;#x503C;[0-1]&amp;#xFF0C;&amp;#x9ED8;&amp;#x8BA4;0.5&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&quot;text-align:left&quot;&gt;&lt;code&gt;android:centerY&lt;/code&gt;&lt;/td&gt;
&lt;td style=&quot;text-align:left&quot;&gt;&amp;#x6E10;&amp;#x53D8;&amp;#x4E2D;&amp;#x5FC3;Y&amp;#x5750;&amp;#x6807;&amp;#xFF0C;&amp;#x53D6;&amp;#x503C;[0-1]&amp;#xFF0C;&amp;#x9ED8;&amp;#x8BA4;0.5&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&quot;text-align:left&quot;&gt;&lt;code&gt;android:startColor&lt;/code&gt;&lt;/td&gt;
&lt;td style=&quot;text-align:left&quot;&gt;&amp;#x6E10;&amp;#x53D8;&amp;#x5F00;&amp;#x59CB;&amp;#x989C;&amp;#x8272;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&quot;text-align:left&quot;&gt;&lt;code&gt;android:endColor&lt;/code&gt;&lt;/td&gt;
&lt;td style=&quot;text-align:left&quot;&gt;&amp;#x6E10;&amp;#x53D8;&amp;#x7ED3;&amp;#x675F;&amp;#x989C;&amp;#x8272;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&quot;text-align:left&quot;&gt;&lt;code&gt;android:centerColor&lt;/code&gt;&lt;/td&gt;
&lt;td style=&quot;text-align:left&quot;&gt;&amp;#x6E10;&amp;#x53D8;&amp;#x4E2D;&amp;#x95F4;&amp;#x989C;&amp;#x8272;&amp;#xFF0C;&amp;#x53EF;&amp;#x9009;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&quot;text-align:left&quot;&gt;&lt;code&gt;android:type&lt;/code&gt;&lt;/td&gt;
&lt;td style=&quot;text-align:left&quot;&gt;&amp;#x7C7B;&amp;#x578B;&amp;#xFF1A;linear&amp;#xFF0C;radial&amp;#xFF0C;sweep&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&quot;text-align:left&quot;&gt;&lt;code&gt;android:gradientRadius&lt;/code&gt;&lt;/td&gt;
&lt;td style=&quot;text-align:left&quot;&gt;&amp;#x4EC5;&amp;#x5BF9;type=radial&amp;#x6709;&amp;#x6548;&amp;#xFF0C;&amp;#x6E10;&amp;#x53D8;&amp;#x534A;&amp;#x5F84;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&quot;text-align:left&quot;&gt;&lt;code&gt;android:useLevel&lt;/code&gt;&lt;/td&gt;
&lt;td style=&quot;text-align:left&quot;&gt;true&amp;#x8868;&amp;#x793A;&amp;#x7528;&amp;#x4E8E;LevelListDrawable&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;p&gt;&lt;strong&gt;4.&lt;/strong&gt; &lt;code&gt;&amp;lt;padding&amp;gt;&lt;/code&gt;&amp;#x4E0D;&amp;#x5EFA;&amp;#x8BAE;&amp;#x4F7F;&amp;#x7528;&amp;#xFF0C;&amp;#x6D4B;&amp;#x8BD5;&amp;#x7684;&amp;#x65F6;&amp;#x5019;&amp;#x4E0D;&amp;#x751F;&amp;#x6548;&amp;#xFF0C;&amp;#x53EF;&amp;#x4EE5;&amp;#x901A;&amp;#x8FC7;InsertDrawable&amp;#x6216;&amp;#x8005;LayerDrawable&amp;#x5D4C;&amp;#x5957;&amp;#x5B9E;&amp;#x73B0;&amp;#x5BF9;&amp;#x5E94;&amp;#x6548;&amp;#x679C;&amp;#x3002;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;5.&lt;/strong&gt; &lt;code&gt;&amp;lt;size&amp;gt;&lt;/code&gt; &amp;#x4E0E; &lt;strong&gt;Drawable#getIntrinsicWidth()&lt;/strong&gt; &amp;#x548C; &lt;strong&gt;Drawable#getIntrinsicHeight()&lt;/strong&gt; &amp;#x5BF9;&amp;#x5E94;&amp;#xFF1B;Drawable&amp;#x5B9E;&amp;#x9645;&amp;#x5927;&amp;#x5C0F;&amp;#x901A;&amp;#x8FC7; &lt;strong&gt;Drawable#getBounds()&lt;/strong&gt; &amp;#x83B7;&amp;#x5F97;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;6.&lt;/strong&gt; &lt;code&gt;&amp;lt;solid&amp;gt;&lt;/code&gt; &amp;#x8868;&amp;#x793A;&amp;#x586B;&amp;#x5145;&amp;#x7EAF;&amp;#x8272;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;7.&lt;/strong&gt; &lt;code&gt;&amp;lt;stroke&amp;gt;&lt;/code&gt;  &lt;/p&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th style=&quot;text-align:left&quot;&gt;Attribute&lt;/th&gt;
&lt;th style=&quot;text-align:left&quot;&gt;Description&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td style=&quot;text-align:left&quot;&gt;&lt;code&gt;android:width&lt;/code&gt;&lt;/td&gt;
&lt;td style=&quot;text-align:left&quot;&gt;&amp;#x7EBF;&amp;#x5BBD;&amp;#x5EA6;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&quot;text-align:left&quot;&gt;&lt;code&gt;android:color&lt;/code&gt;&lt;/td&gt;
&lt;td style=&quot;text-align:left&quot;&gt;&amp;#x7EBF;&amp;#x989C;&amp;#x8272;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&quot;text-align:left&quot;&gt;&lt;code&gt;android:dashGap&lt;/code&gt;&lt;/td&gt;
&lt;td style=&quot;text-align:left&quot;&gt;&amp;#x7EBF;&amp;#x95F4;&amp;#x9694;&amp;#x957F;&amp;#x5EA6;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&quot;text-align:left&quot;&gt;&lt;code&gt;android:dashWidth&lt;/code&gt;&lt;/td&gt;
&lt;td style=&quot;text-align:left&quot;&gt;&amp;#x5982;&amp;#x679C;&amp;#x5B58;&amp;#x5728;&amp;#x95F4;&amp;#x9694;&amp;#xFF0C;&amp;#x95F4;&amp;#x9694;&amp;#x7EBF;&amp;#x7684;&amp;#x5BBD;&amp;#x5EA6;&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;h2 id=&quot;&amp;#x53C2;&amp;#x8003;&quot;&gt;&lt;a href=&quot;#&amp;#x53C2;&amp;#x8003;&quot; class=&quot;headerlink&quot; title=&quot;&amp;#x53C2;&amp;#x8003;&quot;&gt;&lt;/a&gt;&amp;#x53C2;&amp;#x8003;&lt;/h2&gt;&lt;p&gt;[1] &lt;a href=&quot;https://developer.android.com/training/custom-views/create-view.html&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;https://developer.android.com/training/custom-views/create-view.html&lt;/a&gt;&lt;br&gt;[2] &lt;a href=&quot;https://developer.android.com/guide/topics/resources/drawable-resource.html&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;https://developer.android.com/guide/topics/resources/drawable-resource.html&lt;/a&gt;&lt;br&gt;[3] &amp;#x300A;Android&amp;#x5F00;&amp;#x53D1;&amp;#x827A;&amp;#x672F;&amp;#x63A2;&amp;#x7D22;&amp;#x300B; &amp;#x4EFB;&amp;#x7389;&amp;#x521A; &amp;#x8457;&lt;/p&gt;
</content>
    
    <summary type="html">
    
      &lt;!-- toc --&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;#android自定义view简述&quot;&gt;Android自定义View简述&lt;/a&gt;&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;#自定义属性&quot;&gt;自定义属性&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;#onmeasure&quot;&gt;onMeasure()&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;#onlayout&quot;&gt;onLayout()&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;#ondraw&quot;&gt;onDraw()&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;#一些tips&quot;&gt;一些Tips：&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;#drawable总结&quot;&gt;Drawable总结&lt;/a&gt;&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;#bitmapdrawable&quot;&gt;BitmapDrawable&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;#ninepatchdrawable&quot;&gt;NinePatchDrawable&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;#layerdrawable&quot;&gt;LayerDrawable&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;#statelistdrawable&quot;&gt;StateListDrawable&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;#transitiondrawable&quot;&gt;TransitionDrawable&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;#insertdrawable&quot;&gt;InsertDrawable&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;#clipdrawable&quot;&gt;ClipDrawable&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;#参考&quot;&gt;参考&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;!-- tocstop --&gt;
&lt;h2 id=&quot;Android自定义View简述&quot;&gt;&lt;a href=&quot;#Android自定义View简述&quot; class=&quot;headerlink&quot; title=&quot;Android自定义View简述&quot;&gt;&lt;/a&gt;Android自定义View简述&lt;/h2&gt;&lt;p&gt;Android自定义View方式有许多，本文对直接继承View的方式进行总结，建议深入阅读源码了解View是如何进行绘制的，可以从 &lt;strong&gt;ViewRootImpl#performTraversals()&lt;/strong&gt; 方法开始，并且建议同时理解View的事件传递机制和动画机制，这样才能实现非常炫丽的View；我们主要讨论onMeasure()、onLayout()和onDraw()进行override的注意事项，不会讨论增加交互和动画等事宜。&lt;/p&gt;
&lt;h3 id=&quot;自定义属性&quot;&gt;&lt;a href=&quot;#自定义属性&quot; class=&quot;headerlink&quot; title=&quot;自定义属性&quot;&gt;&lt;/a&gt;自定义属性&lt;/h3&gt;&lt;p&gt;&lt;strong&gt;1.&lt;/strong&gt; 建立&lt;code&gt;res/values/attrs.xml&lt;/code&gt;，demo如下：&lt;br&gt;&lt;figure class=&quot;highlight xml&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;9&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;tag&quot;&gt;&amp;lt;&lt;span class=&quot;name&quot;&gt;resources&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;   &lt;span class=&quot;tag&quot;&gt;&amp;lt;&lt;span class=&quot;name&quot;&gt;declare-styleable&lt;/span&gt; &lt;span class=&quot;attr&quot;&gt;name&lt;/span&gt;=&lt;span class=&quot;string&quot;&gt;&quot;PieChart&quot;&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;       &lt;span class=&quot;tag&quot;&gt;&amp;lt;&lt;span class=&quot;name&quot;&gt;attr&lt;/span&gt; &lt;span class=&quot;attr&quot;&gt;name&lt;/span&gt;=&lt;span class=&quot;string&quot;&gt;&quot;showText&quot;&lt;/span&gt; &lt;span class=&quot;attr&quot;&gt;format&lt;/span&gt;=&lt;span class=&quot;string&quot;&gt;&quot;boolean&quot;&lt;/span&gt; /&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;       &lt;span class=&quot;tag&quot;&gt;&amp;lt;&lt;span class=&quot;name&quot;&gt;attr&lt;/span&gt; &lt;span class=&quot;attr&quot;&gt;name&lt;/span&gt;=&lt;span class=&quot;string&quot;&gt;&quot;labelPosition&quot;&lt;/span&gt; &lt;span class=&quot;attr&quot;&gt;format&lt;/span&gt;=&lt;span class=&quot;string&quot;&gt;&quot;enum&quot;&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;           &lt;span class=&quot;tag&quot;&gt;&amp;lt;&lt;span class=&quot;name&quot;&gt;enum&lt;/span&gt; &lt;span class=&quot;attr&quot;&gt;name&lt;/span&gt;=&lt;span class=&quot;string&quot;&gt;&quot;left&quot;&lt;/span&gt; &lt;span class=&quot;attr&quot;&gt;value&lt;/span&gt;=&lt;span class=&quot;string&quot;&gt;&quot;0&quot;&lt;/span&gt;/&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;           &lt;span class=&quot;tag&quot;&gt;&amp;lt;&lt;span class=&quot;name&quot;&gt;enum&lt;/span&gt; &lt;span class=&quot;attr&quot;&gt;name&lt;/span&gt;=&lt;span class=&quot;string&quot;&gt;&quot;right&quot;&lt;/span&gt; &lt;span class=&quot;attr&quot;&gt;value&lt;/span&gt;=&lt;span class=&quot;string&quot;&gt;&quot;1&quot;&lt;/span&gt;/&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;       &lt;span class=&quot;tag&quot;&gt;&amp;lt;/&lt;span class=&quot;name&quot;&gt;attr&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;   &lt;span class=&quot;tag&quot;&gt;&amp;lt;/&lt;span class=&quot;name&quot;&gt;declare-styleable&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;tag&quot;&gt;&amp;lt;/&lt;span class=&quot;name&quot;&gt;resources&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;2.&lt;/strong&gt; 布局文件中使用自定义属性时，Gradle建议命名空间统一使用&lt;code&gt;&amp;quot;http://schemas.android.com/apk/res-auto&amp;quot;&lt;/code&gt;&lt;br&gt;&lt;strong&gt;3.&lt;/strong&gt; 官方建议通过&lt;code&gt;TypedArray&lt;/code&gt;在程序中读取定义的属性，demo如下：&lt;br&gt;&lt;figure class=&quot;highlight java&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;12&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;13&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;14&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;PieChart&lt;/span&gt;&lt;span class=&quot;params&quot;&gt;(Context context, AttributeSet attrs)&lt;/span&gt; &lt;/span&gt;&amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;   &lt;span class=&quot;keyword&quot;&gt;super&lt;/span&gt;(context, attrs);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;   TypedArray a = context.getTheme().obtainStyledAttributes(&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        attrs,&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        R.styleable.PieChart,&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &lt;span class=&quot;number&quot;&gt;0&lt;/span&gt;, &lt;span class=&quot;number&quot;&gt;0&lt;/span&gt;);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;   &lt;span class=&quot;keyword&quot;&gt;try&lt;/span&gt; &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;       mShowText = a.getBoolean(R.styleable.PieChart_showText, &lt;span class=&quot;keyword&quot;&gt;false&lt;/span&gt;);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;       mTextPos = a.getInteger(R.styleable.PieChart_labelPosition, &lt;span class=&quot;number&quot;&gt;0&lt;/span&gt;);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;   &amp;#125; &lt;span class=&quot;keyword&quot;&gt;finally&lt;/span&gt; &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;       a.recycle();&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;   &amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
    
    </summary>
    
      <category term="Andorid学习笔记" scheme="http://yoursite.com/categories/Andorid%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/"/>
    
    
      <category term="Android" scheme="http://yoursite.com/tags/Android/"/>
    
  </entry>
  
  <entry>
    <title>Android 多线程使用总结</title>
    <link href="http://yoursite.com/2016/08/31/Android-multiThread-summary/"/>
    <id>http://yoursite.com/2016/08/31/Android-multiThread-summary/</id>
    <published>2016-08-31T12:23:25.000Z</published>
    <updated>2016-08-31T12:30:00.000Z</updated>
    
    <content type="html">&lt;!-- toc --&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;#asynctask&amp;#x7C7B;&quot;&gt;AsyncTask&amp;#x7C7B;&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;#loaders&amp;#x6846;&amp;#x67B6;&quot;&gt;Loaders&amp;#x6846;&amp;#x67B6;&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;#handlerthread&amp;#x7C7B;&quot;&gt;HandlerThread&amp;#x7C7B;&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;#intentservice&amp;#x7C7B;&quot;&gt;IntentService&amp;#x7C7B;&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;#&amp;#x7EBF;&amp;#x7A0B;&amp;#x6C60;threadpoolexecutor&quot;&gt;&amp;#x7EBF;&amp;#x7A0B;&amp;#x6C60;ThreadPoolExecutor&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;#&amp;#x53C2;&amp;#x8003;&quot;&gt;&amp;#x53C2;&amp;#x8003;&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;!-- tocstop --&gt;
&lt;p&gt;APK&amp;#x542F;&amp;#x52A8;&amp;#x65F6;&amp;#x4F1A;&amp;#x6267;&amp;#x884C;ActivityThread&amp;#x4E2D;main()&amp;#x65B9;&amp;#x6CD5;&amp;#xFF0C;&amp;#x5176;&amp;#x4E2D;&amp;#x521B;&amp;#x5EFA;ActivityThread&amp;#x7684;&amp;#x7EBF;&amp;#x7A0B;&amp;#x4F5C;&amp;#x4E3A;&amp;#x4E3B;&amp;#x7EBF;&amp;#x7A0B;&amp;#xFF0C;&amp;#x7531;&amp;#x4E8E;&amp;#x8BE5;&amp;#x7EBF;&amp;#x7A0B;&amp;#x4E3B;&amp;#x8981;&amp;#x4E0E;UI&amp;#x4EA4;&amp;#x4E92;&amp;#x76F8;&amp;#x5173;&amp;#xFF0C;&amp;#x6240;&amp;#x4EE5;&amp;#x79F0;&amp;#x4E3A;UI&amp;#x7EBF;&amp;#x7A0B;&amp;#xFF1B;UI&amp;#x7EBF;&amp;#x7A0B;&amp;#x4E2D;&amp;#x4E0D;&amp;#x80FD;&amp;#x6267;&amp;#x884C;&amp;#x8017;&amp;#x65F6;&amp;#x64CD;&amp;#x4F5C;&amp;#xFF0C;&amp;#x5426;&amp;#x5219;&amp;#x5BB9;&amp;#x6613;&amp;#x5F15;&amp;#x8D77;ANR&amp;#xFF0C;&amp;#x6240;&amp;#x4EE5;Google&amp;#x5EFA;&amp;#x8BAE;&amp;#x5F00;&amp;#x542F;worker thread&amp;#x6267;&amp;#x884C;&amp;#x8017;&amp;#x65F6;&amp;#x64CD;&amp;#x4F5C;&amp;#xFF0C;&amp;#x7136;&amp;#x540E;&amp;#x901A;&amp;#x8FC7;Handler&amp;#x673A;&amp;#x5236;&amp;#x901A;&amp;#x77E5;&amp;#x4E3B;&amp;#x7EBF;&amp;#x7A0B;&amp;#x5237;&amp;#x65B0;UI&amp;#x3002;&amp;#x7CFB;&amp;#x7EDF;&amp;#x63D0;&amp;#x4F9B;&amp;#x4E09;&amp;#x79CD;&amp;#x65B9;&amp;#x6CD5;&amp;#xFF1A;&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;Activity.runOnUiThread(Runnable)&lt;/li&gt;
&lt;li&gt;View.post(Runnable)&lt;/li&gt;
&lt;li&gt;View.postDelayed(Runnable,long)&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&amp;#x4F7F;&amp;#x5F97;worker thread&amp;#x4E2D;&amp;#x65B9;&amp;#x4FBF;&amp;#x7684;&amp;#x5237;&amp;#x65B0;View&amp;#xFF0C;&amp;#x4F46;&amp;#x4E0A;&amp;#x8FF0;&amp;#x65B9;&amp;#x6CD5;&amp;#x4E0D;&amp;#x4FBF;&amp;#x4E8E;&amp;#x7BA1;&amp;#x7406;&amp;#x3002;&amp;#x9488;&amp;#x5BF9;&amp;#x8FD9;&amp;#x79CD;&amp;#x573A;&amp;#x666F;&amp;#xFF0C;&amp;#x7CFB;&amp;#x7EDF;&amp;#x5BF9;Handler&amp;#x673A;&amp;#x5236;&amp;#x8FDB;&amp;#x884C;&amp;#x4E00;&amp;#x5B9A;&amp;#x8F7B;&amp;#x91CF;&amp;#x7EA7;&amp;#x5C01;&amp;#x88C5;&amp;#xFF0C;&amp;#x65B9;&amp;#x4FBF;worker thread&amp;#x901A;&amp;#x77E5;&amp;#x4E3B;&amp;#x7EBF;&amp;#x7A0B;&amp;#xFF0C;&amp;#x6211;&amp;#x4EEC;&amp;#x4E3B;&amp;#x8981;&amp;#x5206;&amp;#x6790;&amp;#x4EE5;&amp;#x4E0B;&amp;#x51E0;&amp;#x4E2A;&amp;#x7C7B;&amp;#xFF1A;&lt;/p&gt;
&lt;a id=&quot;more&quot;&gt;&lt;/a&gt;
&lt;h3 id=&quot;asynctask&amp;#x7C7B;&quot;&gt;&lt;a href=&quot;#AsyncTask&amp;#x7C7B;&quot; class=&quot;headerlink&quot; title=&quot;AsyncTask&amp;#x7C7B;&quot;&gt;&lt;/a&gt;AsyncTask&amp;#x7C7B;&lt;/h3&gt;&lt;p&gt;AsyncTask&amp;#x7C7B;&amp;#x5BF9;Thread&amp;#x548C;Handler&amp;#x8FDB;&amp;#x884C;&amp;#x5C01;&amp;#x88C5;&amp;#xFF0C;&amp;#x9002;&amp;#x7528;&amp;#x4E8E;&amp;#x540E;&amp;#x53F0;&amp;#x6267;&amp;#x884C;&amp;#x77ED;&amp;#x65F6;&amp;#x95F4;&amp;#x4EFB;&amp;#x52A1;&amp;#x5E76;&amp;#x901A;&amp;#x77E5;UI&amp;#x7684;&amp;#x573A;&amp;#x666F;&amp;#xFF0C;demo&amp;#x5982;&amp;#x4E0B;&amp;#xFF1A;&lt;br&gt;&lt;figure class=&quot;highlight java&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;12&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;13&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;14&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;15&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;16&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;17&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;18&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;19&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;20&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;21&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;22&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;23&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;private&lt;/span&gt; &lt;span class=&quot;class&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;DownloadFilesTask&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;extends&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;AsyncTask&lt;/span&gt;&amp;lt;&lt;span class=&quot;title&quot;&gt;URL&lt;/span&gt;, &lt;span class=&quot;title&quot;&gt;Integer&lt;/span&gt;, &lt;span class=&quot;title&quot;&gt;Long&lt;/span&gt;&amp;gt; &lt;/span&gt;{&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;protected&lt;/span&gt; Long &lt;span class=&quot;title&quot;&gt;doInBackground&lt;/span&gt;&lt;span class=&quot;params&quot;&gt;(URL... urls)&lt;/span&gt; &lt;/span&gt;{&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &lt;span class=&quot;keyword&quot;&gt;int&lt;/span&gt; count = urls.length;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &lt;span class=&quot;keyword&quot;&gt;long&lt;/span&gt; totalSize = &lt;span class=&quot;number&quot;&gt;0&lt;/span&gt;;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &lt;span class=&quot;keyword&quot;&gt;for&lt;/span&gt; (&lt;span class=&quot;keyword&quot;&gt;int&lt;/span&gt; i = &lt;span class=&quot;number&quot;&gt;0&lt;/span&gt;; i &amp;lt; count; i++) {&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;            totalSize += Downloader.downloadFile(urls[i]);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;            publishProgress((&lt;span class=&quot;keyword&quot;&gt;int&lt;/span&gt;) ((i / (&lt;span class=&quot;keyword&quot;&gt;float&lt;/span&gt;) count) * &lt;span class=&quot;number&quot;&gt;100&lt;/span&gt;));&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;            &lt;span class=&quot;comment&quot;&gt;// Escape early if cancel() is called&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;            &lt;span class=&quot;keyword&quot;&gt;if&lt;/span&gt; (isCancelled()) &lt;span class=&quot;keyword&quot;&gt;break&lt;/span&gt;;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        }&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &lt;span class=&quot;keyword&quot;&gt;return&lt;/span&gt; totalSize;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    }&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;protected&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;onProgressUpdate&lt;/span&gt;&lt;span class=&quot;params&quot;&gt;(Integer... progress)&lt;/span&gt; &lt;/span&gt;{&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        setProgressPercent(progress[&lt;span class=&quot;number&quot;&gt;0&lt;/span&gt;]);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    }&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;protected&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;onPostExecute&lt;/span&gt;&lt;span class=&quot;params&quot;&gt;(Long result)&lt;/span&gt; &lt;/span&gt;{&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        showDialog(&lt;span class=&quot;string&quot;&gt;&amp;quot;Downloaded &amp;quot;&lt;/span&gt; + result + &lt;span class=&quot;string&quot;&gt;&amp;quot; bytes&amp;quot;&lt;/span&gt;);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    }&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;}&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;new&lt;/span&gt; DownloadFilesTask().execute(url1, url2, url3);&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Tips&amp;#xFF1A;&lt;/strong&gt;&lt;br&gt;&lt;strong&gt;1.&lt;/strong&gt; AsyncTask&amp;#x4E09;&amp;#x4E2A;&amp;#x6CDB;&amp;#x578B;&amp;#x53C2;&amp;#x6570;Params&amp;#xFF0C;Progress&amp;#x548C;Result(&amp;#x5982;&amp;#x679C;&amp;#x4E0D;&amp;#x9700;&amp;#x8981;&amp;#x5219;&amp;#x4F20;Void)&amp;#xFF0C;&amp;#x5176;&amp;#x610F;&amp;#x4E49;&amp;#x5982;&amp;#x4E0B;&amp;#xFF1A;&lt;/p&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th style=&quot;text-align:left&quot;&gt;&amp;#x53C2;&amp;#x6570;&lt;/th&gt;
&lt;th style=&quot;text-align:left&quot;&gt;&amp;#x610F;&amp;#x4E49;&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td style=&quot;text-align:left&quot;&gt;Params&lt;/td&gt;
&lt;td style=&quot;text-align:left&quot;&gt;&amp;#x542F;&amp;#x52A8;AsyncTask&amp;#x65F6;&amp;#x4F20;&amp;#x5165;&amp;#x7684;&amp;#x53C2;&amp;#x6570;&amp;#xFF0C;&amp;#x4F20;&amp;#x5165;doInBackground()&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&quot;text-align:left&quot;&gt;Progress&lt;/td&gt;
&lt;td style=&quot;text-align:left&quot;&gt;&amp;#x6807;&amp;#x8BC6;&amp;#x540E;&amp;#x53F0;&amp;#x4EFB;&amp;#x52A1;&amp;#x8FDB;&amp;#x5EA6;&amp;#xFF0C;&amp;#x901A;&amp;#x5E38;&amp;#x5728;doInBackground()&amp;#x4E2D;&amp;#x901A;&amp;#x8FC7;&amp;#x8C03;&amp;#x7528;publishProgress()&amp;#x65B9;&amp;#x6CD5;&amp;#x4F20;&amp;#x9012;&amp;#x7ED9;onProgressUpdate()&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&quot;text-align:left&quot;&gt;Result&lt;/td&gt;
&lt;td style=&quot;text-align:left&quot;&gt;doInBackground()&amp;#x8FD4;&amp;#x56DE;&amp;#x7684;&amp;#x7ED3;&amp;#x679C;&amp;#xFF0C;&amp;#x4F20;&amp;#x7ED9;onPostExecute()&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;p&gt;&lt;strong&gt;2.&lt;/strong&gt; AsyncTask&amp;#x6267;&amp;#x884C;&amp;#x6D41;&amp;#x7A0B;&amp;#x793A;&amp;#x610F;&amp;#x56FE;&amp;#xFF1A;&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;pic_0.png&quot; alt=&quot;&quot;&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;3.&lt;/strong&gt; &amp;#x5EFA;&amp;#x8BAE;&amp;#x770B;&amp;#x6E90;&amp;#x7801;&amp;#x7406;&amp;#x89E3;&amp;#x5176;&amp;#x5B9E;&amp;#x73B0;&amp;#x539F;&amp;#x7406;&amp;#xFF0C;&amp;#x4F7F;&amp;#x7528;AsyncTask&amp;#x9700;&amp;#x8981;&amp;#x9075;&amp;#x5FAA;&amp;#x4E0B;&amp;#x5217;&amp;#x89C4;&amp;#x5219;&amp;#xFF1A;&lt;br&gt;a. AsyncTask&amp;#x7C7B;&amp;#x5FC5;&amp;#x987B;&amp;#x5728;UI&amp;#x7EBF;&amp;#x7A0B;load&amp;#xFF0C;Android4.3&amp;#x540E;&amp;#x7CFB;&amp;#x7EDF;&amp;#x81EA;&amp;#x52A8;&amp;#x63D0;&amp;#x4F9B;&amp;#x4FDD;&amp;#x8BC1;&lt;br&gt;b. AsyncTask&amp;#x5B9E;&amp;#x4F8B;&amp;#x5FC5;&amp;#x987B;&amp;#x5728;UI&amp;#x7EBF;&amp;#x7A0B;&amp;#x521B;&amp;#x5EFA;&lt;br&gt;c. execute(Params&amp;#x2026;)&amp;#x5FC5;&amp;#x987B;&amp;#x5728;UI&amp;#x7EBF;&amp;#x7A0B;&amp;#x8C03;&amp;#x7528;&lt;br&gt;d. &amp;#x4E0D;&amp;#x8981;&amp;#x624B;&amp;#x52A8;&amp;#x8C03;&amp;#x7528;onPreExecute()&amp;#xFF0C;onPostExecute(Result)&amp;#xFF0C;doInBackground(Params&amp;#x2026;)&amp;#x548C;onProgressUpdate(Progress&amp;#x2026;)&lt;br&gt;e. AsyncTask&amp;#x5B9E;&amp;#x4F8B;&amp;#x53EA;&amp;#x80FD;&amp;#x6267;&amp;#x884C;&amp;#x4E00;&amp;#x6B21;  &lt;/p&gt;
&lt;p&gt;&lt;strong&gt;4.&lt;/strong&gt; &amp;#x4ECE;Andorid 3.0&amp;#x8D77;&amp;#xFF0C;AsyncTask&amp;#x5B9E;&amp;#x4F8B;&amp;#x662F;&amp;#x987A;&amp;#x5E8F;&amp;#x6267;&amp;#x884C;&amp;#x7684;&amp;#xFF1B;&amp;#x5982;&amp;#x679C;&amp;#x5E0C;&amp;#x671B;&amp;#x5E76;&amp;#x53D1;&amp;#x6267;&amp;#x884C;&amp;#xFF0C;&amp;#x53EF;&amp;#x4EE5;&amp;#x8C03;&amp;#x7528;&amp;#x51FD;&amp;#x6570;executeOnExecutor(java.util.concurrent.Executor, Object[])&lt;br&gt;&amp;#x5E76;&amp;#x4F20;&amp;#x5165;&amp;#x53C2;&amp;#x6570;AsyncTask#THREAD_POOL_EXECUTOR&amp;#xFF0C;THREAD_POOL_EXECUTOR&amp;#x5B9A;&amp;#x4E49;&amp;#x5982;&amp;#x4E0B;&amp;#xFF1A;&lt;/p&gt;
&lt;figure class=&quot;highlight java&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;12&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;13&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;14&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;15&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;16&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;17&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;18&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;19&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;20&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;21&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;22&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;private&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;static&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;final&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;int&lt;/span&gt; CPU_COUNT = Runtime.getRuntime().availableProcessors();&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;private&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;static&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;final&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;int&lt;/span&gt; CORE_POOL_SIZE = CPU_COUNT + &lt;span class=&quot;number&quot;&gt;1&lt;/span&gt;;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;private&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;static&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;final&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;int&lt;/span&gt; MAXIMUM_POOL_SIZE = CPU_COUNT * &lt;span class=&quot;number&quot;&gt;2&lt;/span&gt; + &lt;span class=&quot;number&quot;&gt;1&lt;/span&gt;;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;private&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;static&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;final&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;int&lt;/span&gt; KEEP_ALIVE = &lt;span class=&quot;number&quot;&gt;1&lt;/span&gt;;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;private&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;static&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;final&lt;/span&gt; ThreadFactory sThreadFactory = &lt;span class=&quot;keyword&quot;&gt;new&lt;/span&gt; ThreadFactory() {&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;private&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;final&lt;/span&gt; AtomicInteger mCount = &lt;span class=&quot;keyword&quot;&gt;new&lt;/span&gt; AtomicInteger(&lt;span class=&quot;number&quot;&gt;1&lt;/span&gt;);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;public&lt;/span&gt; Thread &lt;span class=&quot;title&quot;&gt;newThread&lt;/span&gt;&lt;span class=&quot;params&quot;&gt;(Runnable r)&lt;/span&gt; &lt;/span&gt;{&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &lt;span class=&quot;keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;new&lt;/span&gt; Thread(r, &lt;span class=&quot;string&quot;&gt;&amp;quot;AsyncTask #&amp;quot;&lt;/span&gt; + mCount.getAndIncrement());&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    }&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;};&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;private&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;static&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;final&lt;/span&gt; BlockingQueue&amp;lt;Runnable&amp;gt; sPoolWorkQueue =&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &lt;span class=&quot;keyword&quot;&gt;new&lt;/span&gt; LinkedBlockingQueue&amp;lt;Runnable&amp;gt;(&lt;span class=&quot;number&quot;&gt;128&lt;/span&gt;);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;/**&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt; * An {&lt;span class=&quot;doctag&quot;&gt;@link&lt;/span&gt; Executor} that can be used to execute tasks in parallel.&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt; */&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;static&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;final&lt;/span&gt; Executor THREAD_POOL_EXECUTOR&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        = &lt;span class=&quot;keyword&quot;&gt;new&lt;/span&gt; ThreadPoolExecutor(CORE_POOL_SIZE, MAXIMUM_POOL_SIZE, KEEP_ALIVE,&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        TimeUnit.SECONDS, sPoolWorkQueue, sThreadFactory);&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;&lt;strong&gt;5.&lt;/strong&gt; AsyncTask&amp;#x672C;&amp;#x8EAB;&amp;#x8BBE;&amp;#x8BA1;&amp;#x5B58;&amp;#x5728;&amp;#x4E00;&amp;#x4E9B;&amp;#x95EE;&amp;#x9898;&amp;#xFF0C;&amp;#x6BD4;&amp;#x5982;&amp;#x8BF4;&amp;#xFF1A;&amp;#x751F;&amp;#x547D;&amp;#x5468;&amp;#x671F;&amp;#x7684;&amp;#x63A7;&amp;#x5236;&amp;#xFF0C;Configuration&amp;#x53D8;&amp;#x5316;&amp;#x5BB9;&amp;#x6613;&amp;#x5F15;&amp;#x8D77;&amp;#x5185;&amp;#x5B58;&amp;#x6CC4;&amp;#x9732;&amp;#x7B49;&amp;#xFF0C;&amp;#x53C2;&amp;#x8003;blog(&lt;a href=&quot;#reference_1&quot;&gt;[1]&lt;/a&gt;)&amp;#x5173;&amp;#x4E8E;AsyncTask&amp;#x548C;Loaders&amp;#x7684;&amp;#x5BF9;&amp;#x6BD4;&amp;#xFF0C;&amp;#x5EFA;&amp;#x8BAE;Activity/Fragment&amp;#x4E2D;&amp;#x4F7F;&amp;#x7528;Loaders&amp;#x6846;&amp;#x67B6;&amp;#x4EE3;&amp;#x66FF;AsyncTask&amp;#x3002;&lt;/p&gt;
&lt;h3 id=&quot;loaders&amp;#x6846;&amp;#x67B6;&quot;&gt;&lt;a href=&quot;#Loaders&amp;#x6846;&amp;#x67B6;&quot; class=&quot;headerlink&quot; title=&quot;Loaders&amp;#x6846;&amp;#x67B6;&quot;&gt;&lt;/a&gt;Loaders&amp;#x6846;&amp;#x67B6;&lt;/h3&gt;&lt;p&gt;&amp;#x4E13;&amp;#x95E8;&amp;#x5728;Activity&amp;#x548C;Fragment&amp;#x4E2D;&amp;#x5B9E;&amp;#x73B0;&amp;#x5F02;&amp;#x6B65;&amp;#x6570;&amp;#x636E;&amp;#x52A0;&amp;#x8F7D;&amp;#x529F;&amp;#x80FD;&amp;#xFF0C;&amp;#x5185;&amp;#x90E8;&amp;#x5BF9;AsyncTask&amp;#x8FDB;&amp;#x884C;&amp;#x5C01;&amp;#x88C5;&amp;#xFF0C;&amp;#x6709;&amp;#x4EE5;&amp;#x4E0B;&amp;#x7279;&amp;#x5F81;&amp;#xFF1A;&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;Activity/Fragment&amp;#x5929;&amp;#x7136;&amp;#x652F;&amp;#x6301;&amp;#xFF1B; &lt;/li&gt;
&lt;li&gt;&amp;#x63D0;&amp;#x4F9B;&amp;#x5F02;&amp;#x6B65;&amp;#x52A0;&amp;#x8F7D;&amp;#x6570;&amp;#x636E;&amp;#xFF0C;&amp;#x5E76;&amp;#x4E14;&amp;#x6570;&amp;#x636E;&amp;#x6E90;&amp;#x53D8;&amp;#x5316;&amp;#x65F6;&amp;#x8FDB;&amp;#x884C;&amp;#x901A;&amp;#x77E5;&amp;#xFF1B;&lt;/li&gt;
&lt;li&gt;Activity Configuration&amp;#x53D8;&amp;#x5316;&amp;#x65F6;&amp;#x4E0D;&amp;#x9700;&amp;#x8981;re-query&amp;#x3002;&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;Loaders&amp;#x6846;&amp;#x67B6;&amp;#x4E3B;&amp;#x8981;&amp;#x6D89;&amp;#x53CA;LoaderManager&amp;#xFF0C;LoaderManager.LoaderCallbacks&amp;#xFF0C;Loader&amp;#xFF0C;AsyncTaskLoader&amp;#x548C;CursorLoader&amp;#x51E0;&amp;#x4E2A;&amp;#x7C7B;&amp;#xFF0C;&amp;#x5B98;&amp;#x65B9;&amp;#x53EA;&amp;#x63D0;&amp;#x4F9B;&amp;#x5BF9;&amp;#x6570;&amp;#x636E;&amp;#x6E90;&amp;#x662F;Cursor&amp;#x7684;&amp;#x5C01;&amp;#x88C5;&amp;#xFF0C;&amp;#x53EF;&amp;#x4EE5;&amp;#x81EA;&amp;#x5B9A;&amp;#x4E49;Loader&amp;#x5BF9;&amp;#x4EFB;&amp;#x610F;&amp;#x6570;&amp;#x636E;&amp;#x6E90;&amp;#x8FDB;&amp;#x884C;&amp;#x5C01;&amp;#x88C5;&amp;#x3002;&amp;#x5177;&amp;#x4F53;&amp;#x7528;&amp;#x6CD5;&amp;#x53C2;&amp;#x7167;&lt;a href=&quot;#reference_2&quot;&gt;[2]&lt;/a&gt;&amp;#xFF0C;&amp;#x8FD9;&amp;#x91CC;&amp;#x6211;&amp;#x4EEC;&amp;#x5173;&amp;#x6CE8;&amp;#x4E3B;&amp;#x8981;&amp;#x6267;&amp;#x884C;&amp;#x6D41;&amp;#x7A0B;&amp;#x4EE5;&amp;#x53CA;&amp;#x81EA;&amp;#x5B9A;&amp;#x4E49;Loader&amp;#x65F6;&amp;#x9700;&amp;#x8981;Override&amp;#x7684;&amp;#x51FD;&amp;#x6570;&amp;#xFF0C;&amp;#x5E76;&amp;#x7ED9;&amp;#x51FA;&amp;#x81EA;&amp;#x5B9A;&amp;#x4E49;Loader&amp;#x6A21;&amp;#x677F;&amp;#xFF1B;&amp;#x5EFA;&amp;#x8BAE;&amp;#x53C2;&amp;#x7167;&amp;#x6E90;&amp;#x7801;&amp;#x7406;&amp;#x89E3;&amp;#x3002;&lt;/p&gt;
&lt;p&gt;Loaders&amp;#x6846;&amp;#x67B6;&amp;#x5404;&amp;#x4E2A;&amp;#x7C7B;&amp;#x7684;&amp;#x5173;&amp;#x7CFB;&amp;#x4EE5;&amp;#x53CA;&amp;#x6D41;&amp;#x7A0B;&amp;#x56FE;&amp;#x5982;&amp;#x4E0B;&amp;#xFF1A;&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;pic_1.png&quot; alt=&quot;&quot;&gt;&lt;/p&gt;
&lt;p&gt;&amp;#x901A;&amp;#x5E38;&amp;#x81EA;&amp;#x5B9A;&amp;#x4E49;Loader&amp;#x65F6;&amp;#x9700;&amp;#x8981;Override&amp;#x4E0A;&amp;#x8FF0;&amp;#x9EC4;&amp;#x8272;&amp;#x7684;&amp;#x65B9;&amp;#x6CD5;&amp;#xFF0C;&amp;#x53C2;&amp;#x8003;&lt;a href=&quot;#reference_3&quot;&gt;[3]&lt;/a&gt;&amp;#x7ED9;&amp;#x51FA;&amp;#x8BE6;&amp;#x7EC6;&amp;#x7684;&amp;#x89E3;&amp;#x91CA;&amp;#xFF0C;&amp;#x5E76;&amp;#x603B;&amp;#x7ED3;&amp;#x81EA;&amp;#x5B9A;&amp;#x4E49;Loader&amp;#x7684;&amp;#x6A21;&amp;#x677F;&amp;#x5982;&amp;#x4E0B;&amp;#xFF1A;&lt;/p&gt;
&lt;figure class=&quot;highlight java&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;12&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;13&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;14&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;15&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;16&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;17&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;18&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;19&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;20&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;21&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;22&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;23&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;24&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;25&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;26&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;27&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;28&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;29&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;30&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;31&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;32&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;33&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;34&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;35&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;36&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;37&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;38&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;39&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;40&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;41&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;42&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;43&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;44&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;45&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;46&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;47&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;48&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;49&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;50&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;51&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;52&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;53&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;54&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;55&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;56&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;57&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;58&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;59&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;60&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;61&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;62&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;63&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;64&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;65&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;66&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;67&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;68&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;69&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;70&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;71&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;72&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;73&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;74&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;75&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;76&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;77&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;78&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;79&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;80&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;81&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;82&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;83&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;84&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;85&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;86&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;87&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;88&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;89&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;90&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;91&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;92&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;93&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;94&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;95&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;96&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;97&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;98&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;99&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;100&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;101&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;102&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;103&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;104&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;105&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;106&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;107&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;108&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;109&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;110&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;111&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;112&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;113&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;114&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;115&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;116&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;117&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;118&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;119&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;120&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;121&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;122&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;123&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;124&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;125&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;126&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;127&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;128&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;129&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;130&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;131&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;132&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;133&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;134&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;135&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;136&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;137&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;138&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;139&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;140&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;141&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;142&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;143&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;144&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;145&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;146&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;class&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;SampleLoader&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;extends&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;AsyncTaskLoader&lt;/span&gt;&amp;lt;&lt;span class=&quot;title&quot;&gt;List&lt;/span&gt;&amp;lt;&lt;span class=&quot;title&quot;&gt;SampleItem&lt;/span&gt;&amp;gt;&amp;gt; &lt;/span&gt;{&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  &lt;span class=&quot;comment&quot;&gt;// We hold a reference to the Loader&amp;#x2019;s data here.&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  &lt;span class=&quot;keyword&quot;&gt;private&lt;/span&gt; List&amp;lt;SampleItem&amp;gt; mData;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  &lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;SampleLoader&lt;/span&gt;&lt;span class=&quot;params&quot;&gt;(Context ctx)&lt;/span&gt; &lt;/span&gt;{&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;comment&quot;&gt;// Loaders may be used across multiple Activitys (assuming they aren&amp;apos;t&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;comment&quot;&gt;// bound to the LoaderManager), so NEVER hold a reference to the context&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;comment&quot;&gt;// directly. Doing so will cause you to leak an entire Activity&amp;apos;s context.&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;comment&quot;&gt;// The superclass constructor will store a reference to the Application&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;comment&quot;&gt;// Context instead, and can be retrieved with a call to getContext().&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;super&lt;/span&gt;(ctx);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  }&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  &lt;span class=&quot;comment&quot;&gt;/****************************************************/&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  &lt;span class=&quot;comment&quot;&gt;/** (1) A task that performs the asynchronous load **/&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  &lt;span class=&quot;comment&quot;&gt;/****************************************************/&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  &lt;span class=&quot;meta&quot;&gt;@Override&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  &lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;public&lt;/span&gt; List&amp;lt;SampleItem&amp;gt; &lt;span class=&quot;title&quot;&gt;loadInBackground&lt;/span&gt;&lt;span class=&quot;params&quot;&gt;()&lt;/span&gt; &lt;/span&gt;{&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;comment&quot;&gt;// This method is called on a background thread and should generate a&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;comment&quot;&gt;// new set of data to be delivered back to the client.&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    List&amp;lt;SampleItem&amp;gt; data = &lt;span class=&quot;keyword&quot;&gt;new&lt;/span&gt; ArrayList&amp;lt;SampleItem&amp;gt;();&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;comment&quot;&gt;// &lt;span class=&quot;doctag&quot;&gt;TODO:&lt;/span&gt; Perform the query here and add the results to &amp;apos;data&amp;apos;.&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;return&lt;/span&gt; data;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  }&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  &lt;span class=&quot;comment&quot;&gt;/********************************************************/&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  &lt;span class=&quot;comment&quot;&gt;/** (2) Deliver the results to the registered listener **/&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  &lt;span class=&quot;comment&quot;&gt;/********************************************************/&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  &lt;span class=&quot;meta&quot;&gt;@Override&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  &lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;deliverResult&lt;/span&gt;&lt;span class=&quot;params&quot;&gt;(List&amp;lt;SampleItem&amp;gt; data)&lt;/span&gt; &lt;/span&gt;{&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;if&lt;/span&gt; (isReset()) {&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;      &lt;span class=&quot;comment&quot;&gt;// The Loader has been reset; ignore the result and invalidate the data.&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;      releaseResources(data);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;      &lt;span class=&quot;keyword&quot;&gt;return&lt;/span&gt;;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    }&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;comment&quot;&gt;// Hold a reference to the old data so it doesn&amp;apos;t get garbage collected.&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;comment&quot;&gt;// We must protect it until the new data has been delivered.&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    List&amp;lt;SampleItem&amp;gt; oldData = mData;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    mData = data;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;if&lt;/span&gt; (isStarted()) {&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;      &lt;span class=&quot;comment&quot;&gt;// If the Loader is in a started state, deliver the results to the&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;      &lt;span class=&quot;comment&quot;&gt;// client. The superclass method does this for us.&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;      &lt;span class=&quot;keyword&quot;&gt;super&lt;/span&gt;.deliverResult(data);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    }&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;comment&quot;&gt;// Invalidate the old data as we don&amp;apos;t need it any more.&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;if&lt;/span&gt; (oldData != &lt;span class=&quot;keyword&quot;&gt;null&lt;/span&gt; &amp;amp;&amp;amp; oldData != data) {&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;      releaseResources(oldData);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    }&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  }&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  &lt;span class=&quot;comment&quot;&gt;/*********************************************************/&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  &lt;span class=&quot;comment&quot;&gt;/** (3) Implement the Loader&amp;#x2019;s state-dependent behavior **/&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  &lt;span class=&quot;comment&quot;&gt;/*********************************************************/&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  &lt;span class=&quot;meta&quot;&gt;@Override&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  &lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;protected&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;onStartLoading&lt;/span&gt;&lt;span class=&quot;params&quot;&gt;()&lt;/span&gt; &lt;/span&gt;{&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;if&lt;/span&gt; (mData != &lt;span class=&quot;keyword&quot;&gt;null&lt;/span&gt;) {&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;      &lt;span class=&quot;comment&quot;&gt;// Deliver any previously loaded data immediately.&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;      deliverResult(mData);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    }&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;comment&quot;&gt;// Begin monitoring the underlying data source.&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;if&lt;/span&gt; (mObserver == &lt;span class=&quot;keyword&quot;&gt;null&lt;/span&gt;) {&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;      mObserver = &lt;span class=&quot;keyword&quot;&gt;new&lt;/span&gt; SampleObserver();&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;      &lt;span class=&quot;comment&quot;&gt;// &lt;span class=&quot;doctag&quot;&gt;TODO:&lt;/span&gt; register the observer&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    }&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;if&lt;/span&gt; (takeContentChanged() || mData == &lt;span class=&quot;keyword&quot;&gt;null&lt;/span&gt;) {&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;      &lt;span class=&quot;comment&quot;&gt;// When the observer detects a change, it should call onContentChanged()&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;      &lt;span class=&quot;comment&quot;&gt;// on the Loader, which will cause the next call to takeContentChanged()&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;      &lt;span class=&quot;comment&quot;&gt;// to return true. If this is ever the case (or if the current data is&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;      &lt;span class=&quot;comment&quot;&gt;// null), we force a new load.&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;      forceLoad();&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    }&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  }&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  &lt;span class=&quot;meta&quot;&gt;@Override&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  &lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;protected&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;onStopLoading&lt;/span&gt;&lt;span class=&quot;params&quot;&gt;()&lt;/span&gt; &lt;/span&gt;{&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;comment&quot;&gt;// The Loader is in a stopped state, so we should attempt to cancel the &lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;comment&quot;&gt;// current load (if there is one).&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    cancelLoad();&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;comment&quot;&gt;// Note that we leave the observer as is. Loaders in a stopped state&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;comment&quot;&gt;// should still monitor the data source for changes so that the Loader&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;comment&quot;&gt;// will know to force a new load if it is ever started again.&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  }&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  &lt;span class=&quot;meta&quot;&gt;@Override&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  &lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;protected&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;onReset&lt;/span&gt;&lt;span class=&quot;params&quot;&gt;()&lt;/span&gt; &lt;/span&gt;{&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;comment&quot;&gt;// Ensure the loader has been stopped.&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    onStopLoading();&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;comment&quot;&gt;// At this point we can release the resources associated with &amp;apos;mData&amp;apos;.&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;if&lt;/span&gt; (mData != &lt;span class=&quot;keyword&quot;&gt;null&lt;/span&gt;) {&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;      releaseResources(mData);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;      mData = &lt;span class=&quot;keyword&quot;&gt;null&lt;/span&gt;;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    }&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;comment&quot;&gt;// The Loader is being reset, so we should stop monitoring for changes.&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;if&lt;/span&gt; (mObserver != &lt;span class=&quot;keyword&quot;&gt;null&lt;/span&gt;) {&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;      &lt;span class=&quot;comment&quot;&gt;// &lt;span class=&quot;doctag&quot;&gt;TODO:&lt;/span&gt; unregister the observer&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;      mObserver = &lt;span class=&quot;keyword&quot;&gt;null&lt;/span&gt;;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    }&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  }&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  &lt;span class=&quot;meta&quot;&gt;@Override&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  &lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;onCanceled&lt;/span&gt;&lt;span class=&quot;params&quot;&gt;(List&amp;lt;SampleItem&amp;gt; data)&lt;/span&gt; &lt;/span&gt;{&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;comment&quot;&gt;// Attempt to cancel the current asynchronous load.&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;super&lt;/span&gt;.onCanceled(data);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;comment&quot;&gt;// The load has been canceled, so we should release the resources&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;comment&quot;&gt;// associated with &amp;apos;data&amp;apos;.&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    releaseResources(data);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  }&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  &lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;private&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;releaseResources&lt;/span&gt;&lt;span class=&quot;params&quot;&gt;(List&amp;lt;SampleItem&amp;gt; data)&lt;/span&gt; &lt;/span&gt;{&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;comment&quot;&gt;// For a simple List, there is nothing to do. For something like a Cursor, we &lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;comment&quot;&gt;// would close it in this method. All resources associated with the Loader&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;comment&quot;&gt;// should be released here.&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  }&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  &lt;span class=&quot;comment&quot;&gt;/*********************************************************************/&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  &lt;span class=&quot;comment&quot;&gt;/** (4) Observer which receives notifications when the data changes **/&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  &lt;span class=&quot;comment&quot;&gt;/*********************************************************************/&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt; &lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  &lt;span class=&quot;comment&quot;&gt;// &lt;span class=&quot;doctag&quot;&gt;NOTE:&lt;/span&gt; Implementing an observer is outside the scope of this post (this example&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  &lt;span class=&quot;comment&quot;&gt;// uses a made-up &amp;quot;SampleObserver&amp;quot; to illustrate when/where the observer should &lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  &lt;span class=&quot;comment&quot;&gt;// be initialized). &lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  &lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  &lt;span class=&quot;comment&quot;&gt;// The observer could be anything so long as it is able to detect content changes&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  &lt;span class=&quot;comment&quot;&gt;// and report them to the loader with a call to onContentChanged(). For example,&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  &lt;span class=&quot;comment&quot;&gt;// if you were writing a Loader which loads a list of all installed applications&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  &lt;span class=&quot;comment&quot;&gt;// on the device, the observer could be a BroadcastReceiver that listens for the&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  &lt;span class=&quot;comment&quot;&gt;// ACTION_PACKAGE_ADDED intent, and calls onContentChanged() on the particular &lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  &lt;span class=&quot;comment&quot;&gt;// Loader whenever the receiver detects that a new application has been installed.&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  &lt;span class=&quot;comment&quot;&gt;// Please don&amp;#x2019;t hesitate to leave a comment if you still find this confusing! :)&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  &lt;span class=&quot;keyword&quot;&gt;private&lt;/span&gt; SampleObserver mObserver;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;}&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;h3 id=&quot;handlerthread&amp;#x7C7B;&quot;&gt;&lt;a href=&quot;#HandlerThread&amp;#x7C7B;&quot; class=&quot;headerlink&quot; title=&quot;HandlerThread&amp;#x7C7B;&quot;&gt;&lt;/a&gt;HandlerThread&amp;#x7C7B;&lt;/h3&gt;&lt;p&gt;&amp;#x8BE5;Thread&amp;#x5185;&amp;#x81EA;&amp;#x52A8;&amp;#x521B;&amp;#x5EFA;Handler&amp;#xFF0C;&amp;#x7531;&amp;#x4E8E;&amp;#x5176;run()&amp;#x662F;&amp;#x4E00;&amp;#x4E2A;&amp;#x65E0;&amp;#x9650;&amp;#x5FAA;&amp;#x73AF;&amp;#x65B9;&amp;#x6CD5;&amp;#xFF0C;&amp;#x6240;&amp;#x4EE5;&amp;#x9700;&amp;#x8981;&amp;#x624B;&amp;#x52A8;&amp;#x4F7F;&amp;#x7528;quit()&amp;#x6216;quitSafely()&amp;#x65B9;&amp;#x6CD5;&amp;#x7EC8;&amp;#x6B62;&amp;#x7EBF;&amp;#x7A0B;&amp;#x6267;&amp;#x884C;&amp;#xFF0C;&amp;#x5176;&amp;#x6E90;&amp;#x7801;HandlerThread#run&amp;#x65B9;&amp;#x6CD5;&amp;#xFF1A;&lt;/p&gt;
&lt;figure class=&quot;highlight java&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;12&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;13&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;meta&quot;&gt;@Override&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;run&lt;/span&gt;&lt;span class=&quot;params&quot;&gt;()&lt;/span&gt; &lt;/span&gt;{&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    mTid = Process.myTid();&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    Looper.prepare();&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;synchronized&lt;/span&gt; (&lt;span class=&quot;keyword&quot;&gt;this&lt;/span&gt;) {&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        mLooper = Looper.myLooper();&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        notifyAll();&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    }&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    Process.setThreadPriority(mPriority);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    onLooperPrepared();&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    Looper.loop();&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    mTid = -&lt;span class=&quot;number&quot;&gt;1&lt;/span&gt;;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;}&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;h3 id=&quot;intentservice&amp;#x7C7B;&quot;&gt;&lt;a href=&quot;#IntentService&amp;#x7C7B;&quot; class=&quot;headerlink&quot; title=&quot;IntentService&amp;#x7C7B;&quot;&gt;&lt;/a&gt;IntentService&amp;#x7C7B;&lt;/h3&gt;&lt;p&gt;IntentService&amp;#x5185;&amp;#x90E8;&amp;#x4F7F;&amp;#x7528;HandlerThread&amp;#x5B9E;&amp;#x73B0;&amp;#x4E86;&amp;#x957F;&amp;#x8017;&amp;#x65F6;&amp;#x4EFB;&amp;#x52A1;&amp;#x5728;&amp;#x540E;&amp;#x53F0;&amp;#x7EBF;&amp;#x7A0B;&amp;#x8FD0;&amp;#x884C;&amp;#x7684;&amp;#x573A;&amp;#x666F;&amp;#xFF0C;&amp;#x4F7F;&amp;#x7528;&amp;#x65F6;&amp;#x53EA;&amp;#x9700;Override&amp;#x5176;&lt;figure class=&quot;highlight plain&quot;&gt;&lt;figcaption&gt;&lt;span&gt;intent)```&amp;#x5373;&amp;#x53EF;&amp;#xFF0C;&amp;#x4F7F;&amp;#x7528;&amp;#x65F6;&amp;#x6CE8;&amp;#x610F;&amp;#x4EE5;&amp;#x4E0B;&amp;#x51E0;&amp;#x70B9;&amp;#xFF1A;  &lt;/span&gt;&lt;/figcaption&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;12&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;13&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;14&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;15&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;16&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;17&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;18&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;19&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;20&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;21&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;22&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;23&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;24&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;25&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;26&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;27&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;28&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;29&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;30&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;31&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;32&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;33&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;34&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;35&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;36&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;37&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;38&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;39&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;40&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;41&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;42&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;43&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;44&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;45&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;46&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;47&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;48&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;49&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;50&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;51&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;52&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;53&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;54&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;55&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;56&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;57&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;58&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;59&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;60&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;61&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;1. &amp;#x4E0D;&amp;#x80FD;&amp;#x76F4;&amp;#x63A5;&amp;#x4E0E;UI&amp;#x4EA4;&amp;#x4E92;&amp;#xFF0C;&amp;#x901A;&amp;#x5E38;&amp;#x53EF;&amp;#x4EE5;&amp;#x901A;&amp;#x8FC7;broadcast&amp;#x5B9E;&amp;#x73B0;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2. &amp;#x4EFB;&amp;#x52A1;&amp;#x662F;&amp;#x987A;&amp;#x5E8F;&amp;#x6267;&amp;#x884C;&amp;#x7684;&amp;#xFF0C;&amp;#x6240;&amp;#x6709;&amp;#x4EFB;&amp;#x52A1;&amp;#x6267;&amp;#x884C;&amp;#x5B8C;&amp;#x6BD5;&amp;#x540E;&amp;#x81EA;&amp;#x52A8;&amp;#x5173;&amp;#x95ED;service&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3. &amp;#x4EFB;&amp;#x52A1;&amp;#x65E0;&amp;#x6CD5;&amp;#x4E2D;&amp;#x65AD;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#x5176;&amp;#x5173;&amp;#x952E;&amp;#x6E90;&amp;#x7801;&amp;#x5982;&amp;#x4E0B;&amp;#xFF1A;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;``` java&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    public abstract class IntentService extends Service {&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        ...&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        @Override&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        public void onCreate() {&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;            ...&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;            HandlerThread thread = new HandlerThread(&amp;quot;IntentService[&amp;quot; + mName + &amp;quot;]&amp;quot;);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;            thread.start();&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;            mServiceLooper = thread.getLooper();&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;            mServiceHandler = new ServiceHandler(mServiceLooper);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        }&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        @Override&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        public void onStart(Intent intent, int startId) {&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;            Message msg = mServiceHandler.obtainMessage();&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;            msg.arg1 = startId;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;            msg.obj = intent;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;            mServiceHandler.sendMessage(msg);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        }&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        private final class ServiceHandler extends Handler {&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;            public ServiceHandler(Looper looper) {&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;                super(looper);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;            }&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        }&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        @Override&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        public void handleMessage(Message msg) {&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;            onHandleIntent((Intent)msg.obj);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;            stopSelf(msg.arg1);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        }&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        @Override&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        public void onDestroy() {&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;            mServiceLooper.quit();&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        }&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        /**&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;         * This method is invoked on the worker thread with a request to process.&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;         * Only one Intent is processed at a time, but the processing happens on a&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;         * worker thread that runs independently from other application logic.&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;         * So, if this code takes a long time, it will hold up other requests to&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;         * the same IntentService, but it will not hold up anything else.&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;         * When all requests have been handled, the IntentService stops itself,&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;         * so you should not call {@link #stopSelf}.&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;         *&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;         * @param intent The value passed to {@link&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;         *               android.content.Context#startService(Intent)}.&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;         */&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        @WorkerThread&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        protected abstract void onHandleIntent(Intent intent);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        ...&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    }&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;h3 id=&quot;&amp;#x7EBF;&amp;#x7A0B;&amp;#x6C60;threadpoolexecutor&quot;&gt;&lt;a href=&quot;#&amp;#x7EBF;&amp;#x7A0B;&amp;#x6C60;ThreadPoolExecutor&quot; class=&quot;headerlink&quot; title=&quot;&amp;#x7EBF;&amp;#x7A0B;&amp;#x6C60;ThreadPoolExecutor&quot;&gt;&lt;/a&gt;&amp;#x7EBF;&amp;#x7A0B;&amp;#x6C60;ThreadPoolExecutor&lt;/h3&gt;&lt;p&gt;&amp;#x5BF9;Java&amp;#x63D0;&amp;#x4F9B;&amp;#x7684;&amp;#x7EBF;&amp;#x7A0B;&amp;#x6C60;&amp;#x603B;&amp;#x7ED3;&amp;#xFF0C;&amp;#x5177;&amp;#x4F53;&amp;#x4F7F;&amp;#x7528;&amp;#x65B9;&amp;#x6CD5;&amp;#x53C2;&amp;#x89C1;Oracle&amp;#x6587;&amp;#x6863;(&lt;a href=&quot;#reference_4&quot;&gt;&amp;#x53C2;&amp;#x8003;[4]&lt;/a&gt;)&amp;#x3002;&lt;/p&gt;
&lt;p&gt;&amp;#x5176;&amp;#x6784;&amp;#x9020;&amp;#x65B9;&amp;#x6CD5;&amp;#xFF1A;&lt;br&gt;&lt;figure class=&quot;highlight java&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;ThreadPoolExecutor(&lt;span class=&quot;keyword&quot;&gt;int&lt;/span&gt; corePoolSize, &lt;span class=&quot;keyword&quot;&gt;int&lt;/span&gt; maximumPoolSize, &lt;span class=&quot;keyword&quot;&gt;long&lt;/span&gt; keepAliveTime, TimeUnit unit,&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;BlockingQueue&amp;lt;Runnable&amp;gt; workQueue, ThreadFactory threadFactory, RejectedExecutionHandler handler)&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;&amp;#x5176;&amp;#x4E2D;&amp;#xFF0C;workQueue&amp;#x6709;&amp;#x4E09;&amp;#x4E2D;&amp;#x7B56;&amp;#x7565;&amp;#xFF1A;&lt;/p&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th style=&quot;text-align:left&quot;&gt;strategy&lt;/th&gt;
&lt;th style=&quot;text-align:left&quot;&gt;example&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td style=&quot;text-align:left&quot;&gt;Direct handoffs&lt;/td&gt;
&lt;td style=&quot;text-align:left&quot;&gt;SynchronousQueue&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&quot;text-align:left&quot;&gt;Unbounded queues&lt;/td&gt;
&lt;td style=&quot;text-align:left&quot;&gt;LinkedBlockingQueue&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&quot;text-align:left&quot;&gt;Bounded queues&lt;/td&gt;
&lt;td style=&quot;text-align:left&quot;&gt;ArrayBlockingQueue&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;p&gt;Rejected tasks strategy&amp;#xFF1A;&lt;/p&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th style=&quot;text-align:left&quot;&gt;strategy&lt;/th&gt;
&lt;th style=&quot;text-align:left&quot;&gt;explanation&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td style=&quot;text-align:left&quot;&gt;ThreadPoolExecutor.AbortPolicy&lt;/td&gt;
&lt;td style=&quot;text-align:left&quot;&gt;default&amp;#xFF0C;throw RejectedExecutionException upon&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&quot;text-align:left&quot;&gt;ThreadPoolExecutor.CallerRunsPolicy&lt;/td&gt;
&lt;td style=&quot;text-align:left&quot;&gt;the thread that invokes execute itself runs the task&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&quot;text-align:left&quot;&gt;ThreadPoolExecutor.DiscardPolicy&lt;/td&gt;
&lt;td style=&quot;text-align:left&quot;&gt;a task that cannot be executed is simply dropped&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&quot;text-align:left&quot;&gt;ThreadPoolExecutor.DiscardOldestPolicy&lt;/td&gt;
&lt;td style=&quot;text-align:left&quot;&gt;discards the oldest unhandled request and then retries execute&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;p&gt;&lt;strong&gt;&amp;#x6267;&amp;#x884C;&amp;#x8FC7;&amp;#x7A0B;&amp;#xFF1A;&lt;/strong&gt;&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;&amp;#x7EBF;&amp;#x7A0B;&amp;#x6C60;&amp;#x4E2D;&amp;#x7EBF;&amp;#x7A0B;&amp;#x6570;&amp;#x5C0F;&amp;#x4E8E;corePoolSize&amp;#x65F6;&amp;#xFF0C;&amp;#x76F4;&amp;#x63A5;&amp;#x542F;&amp;#x52A8;&amp;#x6838;&amp;#x5FC3;&amp;#x7EBF;&amp;#x7A0B;&amp;#x6267;&amp;#x884C;&amp;#x4EFB;&amp;#x52A1;&lt;/li&gt;
&lt;li&gt;&amp;#x7EBF;&amp;#x7A0B;&amp;#x6C60;&amp;#x4E2D;&amp;#x7EBF;&amp;#x7A0B;&amp;#x6570;&amp;#x5C0F;&amp;#x4E8E;&amp;#x7B49;&amp;#x4E8E;corePoolSize&amp;#x65F6;&amp;#xFF0C;&amp;#x4EFB;&amp;#x52A1;&amp;#x63D2;&amp;#x5165;&amp;#x4EFB;&amp;#x52A1;&amp;#x961F;&amp;#x5217;&lt;/li&gt;
&lt;li&gt;&amp;#x5982;&amp;#x679C;&amp;#x4EFB;&amp;#x52A1;&amp;#x961F;&amp;#x5217;&amp;#x5DF2;&amp;#x6EE1;&amp;#xFF0C;&amp;#x7EBF;&amp;#x7A0B;&amp;#x6C60;&amp;#x4E2D;&amp;#x7EBF;&amp;#x7A0B;&amp;#x6570;&amp;#x5C0F;&amp;#x4E8E;maximumPoolSize&amp;#x65F6;&amp;#xFF0C;&amp;#x542F;&amp;#x52A8;&amp;#x975E;&amp;#x6838;&amp;#x5FC3;&amp;#x7EBF;&amp;#x7A0B;&amp;#x6267;&amp;#x884C;&amp;#x4EFB;&amp;#x52A1;&lt;/li&gt;
&lt;li&gt;&amp;#x5982;&amp;#x679C;&amp;#x4EFB;&amp;#x52A1;&amp;#x961F;&amp;#x5217;&amp;#x5DF2;&amp;#x6EE1;&amp;#xFF0C;&amp;#x7EBF;&amp;#x7A0B;&amp;#x6C60;&amp;#x4E2D;&amp;#x7EBF;&amp;#x7A0B;&amp;#x6570;&amp;#x7B49;&amp;#x4E8E;maximumPoolSize&amp;#x65F6;&amp;#xFF0C;&amp;#x8C03;&amp;#x7528;RejectedExecutionHandler&amp;#x8FDB;&amp;#x884C;&amp;#x901A;&amp;#x77E5;&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;strong&gt;&amp;#x56DB;&amp;#x79CD;&amp;#x5E38;&amp;#x7528;&amp;#x7EBF;&amp;#x7A0B;&amp;#x6C60;&amp;#x7684;&amp;#x6784;&amp;#x9020;&amp;#x53C2;&amp;#x6570;&amp;#xFF1A;&lt;/strong&gt;&lt;/p&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th style=&quot;text-align:left&quot;&gt;Type&lt;/th&gt;
&lt;th style=&quot;text-align:left&quot;&gt;corePoolSize&lt;/th&gt;
&lt;th style=&quot;text-align:left&quot;&gt;maximumPoolSize&lt;/th&gt;
&lt;th style=&quot;text-align:left&quot;&gt;keepAliveTime&lt;/th&gt;
&lt;th style=&quot;text-align:left&quot;&gt;unit&lt;/th&gt;
&lt;th style=&quot;text-align:left&quot;&gt;workQueue&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td style=&quot;text-align:left&quot;&gt;newFixedThreadPool&lt;/td&gt;
&lt;td style=&quot;text-align:left&quot;&gt;nThreads&lt;/td&gt;
&lt;td style=&quot;text-align:left&quot;&gt;nThreads&lt;/td&gt;
&lt;td style=&quot;text-align:left&quot;&gt;0L&lt;/td&gt;
&lt;td style=&quot;text-align:left&quot;&gt;TimeUnit.MILLISECONDS&lt;/td&gt;
&lt;td style=&quot;text-align:left&quot;&gt;new LinkedBlockingQueue&lt;runnable&gt;()&lt;/runnable&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&quot;text-align:left&quot;&gt;newSingleThreadExecutor&lt;/td&gt;
&lt;td style=&quot;text-align:left&quot;&gt;1&lt;/td&gt;
&lt;td style=&quot;text-align:left&quot;&gt;1&lt;/td&gt;
&lt;td style=&quot;text-align:left&quot;&gt;0L&lt;/td&gt;
&lt;td style=&quot;text-align:left&quot;&gt;TimeUnit.MILLISECONDS&lt;/td&gt;
&lt;td style=&quot;text-align:left&quot;&gt;new LinkedBlockingQueue&lt;runnable&gt;()&lt;/runnable&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&quot;text-align:left&quot;&gt;newCachedThreadPool&lt;/td&gt;
&lt;td style=&quot;text-align:left&quot;&gt;0&lt;/td&gt;
&lt;td style=&quot;text-align:left&quot;&gt;Integer.MAX_VALUE&lt;/td&gt;
&lt;td style=&quot;text-align:left&quot;&gt;60L&lt;/td&gt;
&lt;td style=&quot;text-align:left&quot;&gt;TimeUnit.SECONDS&lt;/td&gt;
&lt;td style=&quot;text-align:left&quot;&gt;new SynchronousQueue&lt;runnable&gt;()&lt;/runnable&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&quot;text-align:left&quot;&gt;newScheduledThreadPool&lt;/td&gt;
&lt;td style=&quot;text-align:left&quot;&gt;corePoolSize&lt;/td&gt;
&lt;td style=&quot;text-align:left&quot;&gt;Integer.MAX_VALUE&lt;/td&gt;
&lt;td style=&quot;text-align:left&quot;&gt;10L&lt;/td&gt;
&lt;td style=&quot;text-align:left&quot;&gt;MILLISECONDS&lt;/td&gt;
&lt;td style=&quot;text-align:left&quot;&gt;new DelayedWorkQueue()&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;h3 id=&quot;&amp;#x53C2;&amp;#x8003;&quot;&gt;&lt;a href=&quot;#&amp;#x53C2;&amp;#x8003;&quot; class=&quot;headerlink&quot; title=&quot;&amp;#x53C2;&amp;#x8003;&quot;&gt;&lt;/a&gt;&amp;#x53C2;&amp;#x8003;&lt;/h3&gt;&lt;p&gt;&lt;a name=&quot;reference_1&quot;&gt;&lt;/a&gt;[1] &lt;a href=&quot;http://saurabhsharma123k.blogspot.com/2013/11/android-loader-versus-asynctask.html&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;http://saurabhsharma123k.blogspot.com/2013/11/android-loader-versus-asynctask.html&lt;/a&gt;&lt;br&gt;&lt;a name=&quot;reference_2&quot;&gt;&lt;/a&gt;[2] &lt;a href=&quot;https://developer.android.com/guide/components/loaders.html&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;https://developer.android.com/guide/components/loaders.html&lt;/a&gt;&lt;br&gt;&lt;a name=&quot;reference_3&quot;&gt;&lt;/a&gt;[3] &lt;a href=&quot;http://www.androiddesignpatterns.com/2012/08/implementing-loaders.html&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;http://www.androiddesignpatterns.com/2012/08/implementing-loaders.html&lt;/a&gt;&lt;br&gt;&lt;a name=&quot;reference_4&quot;&gt;&lt;/a&gt;[4] &lt;a href=&quot;http://docs.oracle.com/javase/7/docs/api/java/util/concurrent/ThreadPoolExecutor.html&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;http://docs.oracle.com/javase/7/docs/api/java/util/concurrent/ThreadPoolExecutor.html&lt;/a&gt;&lt;br&gt;[5] &lt;a href=&quot;https://developer.android.com/guide/components/processes-and-threads.html&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;https://developer.android.com/guide/components/processes-and-threads.html&lt;/a&gt;&lt;br&gt;[6] &lt;a href=&quot;https://developer.android.com/training/run-background-service/index.html&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;https://developer.android.com/training/run-background-service/index.html&lt;/a&gt;&lt;/p&gt;
</content>
    
    <summary type="html">
    
      &lt;!-- toc --&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;#asynctask类&quot;&gt;AsyncTask类&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;#loaders框架&quot;&gt;Loaders框架&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;#handlerthread类&quot;&gt;HandlerThread类&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;#intentservice类&quot;&gt;IntentService类&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;#线程池threadpoolexecutor&quot;&gt;线程池ThreadPoolExecutor&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;#参考&quot;&gt;参考&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;!-- tocstop --&gt;
&lt;p&gt;APK启动时会执行ActivityThread中main()方法，其中创建ActivityThread的线程作为主线程，由于该线程主要与UI交互相关，所以称为UI线程；UI线程中不能执行耗时操作，否则容易引起ANR，所以Google建议开启worker thread执行耗时操作，然后通过Handler机制通知主线程刷新UI。系统提供三种方法：&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;Activity.runOnUiThread(Runnable)&lt;/li&gt;
&lt;li&gt;View.post(Runnable)&lt;/li&gt;
&lt;li&gt;View.postDelayed(Runnable,long)&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;使得worker thread中方便的刷新View，但上述方法不便于管理。针对这种场景，系统对Handler机制进行一定轻量级封装，方便worker thread通知主线程，我们主要分析以下几个类：&lt;/p&gt;
    
    </summary>
    
      <category term="Android学习笔记" scheme="http://yoursite.com/categories/Android%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/"/>
    
    
      <category term="Android" scheme="http://yoursite.com/tags/Android/"/>
    
  </entry>
  
  <entry>
    <title>Android 动画总结</title>
    <link href="http://yoursite.com/2016/08/22/android-animation-summary/"/>
    <id>http://yoursite.com/2016/08/22/android-animation-summary/</id>
    <published>2016-08-22T07:17:33.000Z</published>
    <updated>2016-08-22T07:59:04.000Z</updated>
    
    <content type="html">&lt;!-- toc --&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;#view-animation&quot;&gt;View Animation&lt;/a&gt;&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;#1-tween-animation&quot;&gt;1. Tween Animation&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;#2-drawable-animation&quot;&gt;2. Drawable Animation&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;#property-animation&quot;&gt;Property Animation&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;#&amp;#x7CFB;&amp;#x7EDF;&amp;#x63D0;&amp;#x4F9B;&amp;#x7684;&amp;#x5E94;&amp;#x7528;&amp;#x573A;&amp;#x666F;&quot;&gt;&amp;#x7CFB;&amp;#x7EDF;&amp;#x63D0;&amp;#x4F9B;&amp;#x7684;&amp;#x5E94;&amp;#x7528;&amp;#x573A;&amp;#x666F;&lt;/a&gt;&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;#activity&amp;#x5207;&amp;#x6362;&amp;#x52A8;&amp;#x753B;&quot;&gt;Activity&amp;#x5207;&amp;#x6362;&amp;#x52A8;&amp;#x753B;&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;#fragment&amp;#x5207;&amp;#x6362;&amp;#x52A8;&amp;#x753B;&quot;&gt;Fragment&amp;#x5207;&amp;#x6362;&amp;#x52A8;&amp;#x753B;&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;#layout-changes-animation&quot;&gt;Layout Changes Animation&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;#&amp;#x4F7F;&amp;#x7528;svg&amp;#x52A8;&amp;#x753B;&quot;&gt;&amp;#x4F7F;&amp;#x7528;SVG&amp;#x52A8;&amp;#x753B;&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;#&amp;#x53C2;&amp;#x8003;&quot;&gt;&amp;#x53C2;&amp;#x8003;&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;!-- tocstop --&gt;
&lt;h2 id=&quot;view-animation&quot;&gt;&lt;a href=&quot;#View-Animation&quot; class=&quot;headerlink&quot; title=&quot;View Animation&quot;&gt;&lt;/a&gt;View Animation&lt;/h2&gt;&lt;h3 id=&quot;1-tween-animation&quot;&gt;&lt;a href=&quot;#1-Tween-Animation&quot; class=&quot;headerlink&quot; title=&quot;1. Tween Animation&quot;&gt;&lt;/a&gt;1. Tween Animation&lt;/h3&gt;&lt;p&gt;&amp;#x9488;&amp;#x5BF9;View&amp;#x7684;&amp;#x52A8;&amp;#x753B;&amp;#xFF0C;&amp;#x5176;&amp;#x76F8;&amp;#x5173;&amp;#x7C7B;&amp;#x5728;&lt;code&gt;android.view.animation&lt;/code&gt;&amp;#x4E2D;&amp;#xFF0C;&lt;br&gt;&amp;#x7531;&amp;#x56DB;&amp;#x79CD;&amp;#x52A8;&amp;#x753B;&amp;#x7EC4;&amp;#x6210;&amp;#xFF1A;&amp;#x5E73;&amp;#x79FB;&amp;#x52A8;&amp;#x753B;&amp;#x3001;&amp;#x7F29;&amp;#x653E;&amp;#x52A8;&amp;#x753B;&amp;#x3001;&amp;#x65CB;&amp;#x8F6C;&amp;#x52A8;&amp;#x753B;&amp;#x548C;&amp;#x900F;&amp;#x660E;&amp;#x5EA6;&amp;#x52A8;&amp;#x753B;&amp;#xFF0C;&amp;#x5206;&amp;#x522B;&amp;#x5BF9;&amp;#x5E94;&lt;code&gt;Animation&lt;/code&gt;&amp;#x56DB;&amp;#x4E2A;&amp;#x5B50;&amp;#x7C7B;&amp;#xFF1A;&lt;/p&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th style=&quot;text-align:left&quot;&gt;&amp;#x540D;&amp;#x79F0;&lt;/th&gt;
&lt;th style=&quot;text-align:left&quot;&gt;&amp;#x5B50;&amp;#x7C7B;&lt;/th&gt;
&lt;th style=&quot;text-align:left&quot;&gt;&amp;#x6807;&amp;#x7B7E;&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td style=&quot;text-align:left&quot;&gt;&amp;#x5E73;&amp;#x79FB;&amp;#x52A8;&amp;#x753B;&lt;/td&gt;
&lt;td style=&quot;text-align:left&quot;&gt;&lt;code&gt;&amp;lt;translate&amp;gt;&lt;/code&gt;&lt;/td&gt;
&lt;td style=&quot;text-align:left&quot;&gt;&lt;code&gt;TranslateAnimation&lt;/code&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&quot;text-align:left&quot;&gt;&amp;#x7F29;&amp;#x653E;&amp;#x52A8;&amp;#x753B;&lt;/td&gt;
&lt;td style=&quot;text-align:left&quot;&gt;&lt;code&gt;&amp;lt;scale&amp;gt;&lt;/code&gt;&lt;/td&gt;
&lt;td style=&quot;text-align:left&quot;&gt;&lt;code&gt;ScaleAnimation&lt;/code&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&quot;text-align:left&quot;&gt;&amp;#x65CB;&amp;#x8F6C;&amp;#x52A8;&amp;#x753B;&lt;/td&gt;
&lt;td style=&quot;text-align:left&quot;&gt;&lt;code&gt;&amp;lt;rotate&amp;gt;&lt;/code&gt;&lt;/td&gt;
&lt;td style=&quot;text-align:left&quot;&gt;&lt;code&gt;RotateAnimation&lt;/code&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&quot;text-align:left&quot;&gt;&amp;#x900F;&amp;#x660E;&amp;#x5EA6;&amp;#x52A8;&amp;#x753B;&lt;/td&gt;
&lt;td style=&quot;text-align:left&quot;&gt;&lt;code&gt;&amp;lt;alpha&amp;gt;&lt;/code&gt;&lt;/td&gt;
&lt;td style=&quot;text-align:left&quot;&gt;&lt;code&gt;AlphaAnimation&lt;/code&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;a id=&quot;more&quot;&gt;&lt;/a&gt;
&lt;p&gt;&amp;#x591A;&amp;#x79CD;&amp;#x52A8;&amp;#x753B;&amp;#x7EC4;&amp;#x5408;&amp;#x4F7F;&amp;#x7528;&lt;code&gt;AnimationSet&lt;/code&gt;&amp;#xFF0C;&amp;#x5BF9;&amp;#x5E94;&lt;code&gt;&amp;lt;set&amp;gt;&lt;/code&gt;&amp;#x6807;&amp;#x7B7E;&amp;#xFF1B;&amp;#x5EFA;&amp;#x8BAE;&amp;#x4F7F;&amp;#x7528;XML&amp;#x5B9A;&amp;#x4E49;&amp;#x52A8;&amp;#x753B;&amp;#xFF0C;&amp;#x6587;&amp;#x4EF6;&amp;#x653E;&amp;#x5728;&lt;code&gt;res/anim/&lt;/code&gt;&amp;#x4E0B;&amp;#x3002;XML&amp;#x5E38;&amp;#x7528;&amp;#x8BED;&amp;#x6CD5;&amp;#x5982;&amp;#x4E0B;&amp;#xFF1A;&lt;br&gt;&lt;figure class=&quot;highlight xml&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;12&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;13&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;14&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;15&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;16&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;17&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;18&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;19&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;20&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;21&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;22&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;23&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;24&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;25&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;26&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;27&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;28&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;meta&quot;&gt;&amp;lt;?xml version=&amp;quot;1.0&amp;quot; encoding=&amp;quot;utf-8&amp;quot;?&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;tag&quot;&gt;&amp;lt;&lt;span class=&quot;name&quot;&gt;set&lt;/span&gt; &lt;span class=&quot;attr&quot;&gt;xmlns:android&lt;/span&gt;=&lt;span class=&quot;string&quot;&gt;&amp;quot;http://schemas.android.com/apk/res/android&amp;quot;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;tag&quot;&gt;    &lt;span class=&quot;attr&quot;&gt;android:interpolator&lt;/span&gt;=&lt;span class=&quot;string&quot;&gt;&amp;quot;@[package:]anim/interpolator_resource&amp;quot;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;tag&quot;&gt;    &lt;span class=&quot;attr&quot;&gt;android:shareInterpolator&lt;/span&gt;=&lt;span class=&quot;string&quot;&gt;[&lt;/span&gt;&amp;quot;&lt;span class=&quot;attr&quot;&gt;true&lt;/span&gt;&amp;quot;|&amp;quot;&lt;span class=&quot;attr&quot;&gt;false&lt;/span&gt;&amp;quot;] &amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;tag&quot;&gt;&amp;lt;&lt;span class=&quot;name&quot;&gt;alpha&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;tag&quot;&gt;        &lt;span class=&quot;attr&quot;&gt;android:fromAlpha&lt;/span&gt;=&lt;span class=&quot;string&quot;&gt;&amp;quot;float&amp;quot;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;tag&quot;&gt;        &lt;span class=&quot;attr&quot;&gt;android:toAlpha&lt;/span&gt;=&lt;span class=&quot;string&quot;&gt;&amp;quot;float&amp;quot;&lt;/span&gt; /&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;tag&quot;&gt;&amp;lt;&lt;span class=&quot;name&quot;&gt;scale&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;tag&quot;&gt;        &lt;span class=&quot;attr&quot;&gt;android:fromXScale&lt;/span&gt;=&lt;span class=&quot;string&quot;&gt;&amp;quot;float&amp;quot;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;tag&quot;&gt;        &lt;span class=&quot;attr&quot;&gt;android:toXScale&lt;/span&gt;=&lt;span class=&quot;string&quot;&gt;&amp;quot;float&amp;quot;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;tag&quot;&gt;        &lt;span class=&quot;attr&quot;&gt;android:fromYScale&lt;/span&gt;=&lt;span class=&quot;string&quot;&gt;&amp;quot;float&amp;quot;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;tag&quot;&gt;        &lt;span class=&quot;attr&quot;&gt;android:toYScale&lt;/span&gt;=&lt;span class=&quot;string&quot;&gt;&amp;quot;float&amp;quot;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;tag&quot;&gt;        &lt;span class=&quot;attr&quot;&gt;android:pivotX&lt;/span&gt;=&lt;span class=&quot;string&quot;&gt;&amp;quot;float&amp;quot;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;tag&quot;&gt;        &lt;span class=&quot;attr&quot;&gt;android:pivotY&lt;/span&gt;=&lt;span class=&quot;string&quot;&gt;&amp;quot;float&amp;quot;&lt;/span&gt; /&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;tag&quot;&gt;&amp;lt;&lt;span class=&quot;name&quot;&gt;translate&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;tag&quot;&gt;        &lt;span class=&quot;attr&quot;&gt;android:fromXDelta&lt;/span&gt;=&lt;span class=&quot;string&quot;&gt;&amp;quot;float&amp;quot;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;tag&quot;&gt;        &lt;span class=&quot;attr&quot;&gt;android:toXDelta&lt;/span&gt;=&lt;span class=&quot;string&quot;&gt;&amp;quot;float&amp;quot;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;tag&quot;&gt;        &lt;span class=&quot;attr&quot;&gt;android:fromYDelta&lt;/span&gt;=&lt;span class=&quot;string&quot;&gt;&amp;quot;float&amp;quot;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;tag&quot;&gt;        &lt;span class=&quot;attr&quot;&gt;android:toYDelta&lt;/span&gt;=&lt;span class=&quot;string&quot;&gt;&amp;quot;float&amp;quot;&lt;/span&gt; /&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;tag&quot;&gt;&amp;lt;&lt;span class=&quot;name&quot;&gt;rotate&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;tag&quot;&gt;        &lt;span class=&quot;attr&quot;&gt;android:fromDegrees&lt;/span&gt;=&lt;span class=&quot;string&quot;&gt;&amp;quot;float&amp;quot;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;tag&quot;&gt;        &lt;span class=&quot;attr&quot;&gt;android:toDegrees&lt;/span&gt;=&lt;span class=&quot;string&quot;&gt;&amp;quot;float&amp;quot;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;tag&quot;&gt;        &lt;span class=&quot;attr&quot;&gt;android:pivotX&lt;/span&gt;=&lt;span class=&quot;string&quot;&gt;&amp;quot;float&amp;quot;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;tag&quot;&gt;        &lt;span class=&quot;attr&quot;&gt;android:pivotY&lt;/span&gt;=&lt;span class=&quot;string&quot;&gt;&amp;quot;float&amp;quot;&lt;/span&gt; /&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;tag&quot;&gt;&amp;lt;&lt;span class=&quot;name&quot;&gt;set&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        ...&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;tag&quot;&gt;&amp;lt;/&lt;span class=&quot;name&quot;&gt;set&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;tag&quot;&gt;&amp;lt;/&lt;span class=&quot;name&quot;&gt;set&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Tips:&lt;/strong&gt;&lt;br&gt;&lt;strong&gt;0.&lt;/strong&gt; Tween Animation&amp;#x6700;&amp;#x5927;&amp;#x7684;&amp;#x7F3A;&amp;#x9677;&amp;#x662F;&amp;#x4E0D;&amp;#x5177;&amp;#x5907;&amp;#x4EA4;&amp;#x4E92;&amp;#x6027;&amp;#xFF0C;&amp;#x5176;&amp;#x54CD;&amp;#x5E94;&amp;#x4E8B;&amp;#x4EF6;&amp;#x53D1;&amp;#x751F;&amp;#x5728;&amp;#x52A8;&amp;#x753B;&amp;#x53D1;&amp;#x751F;&amp;#x524D;&amp;#x7684;&amp;#x5730;&amp;#x65B9;&amp;#xFF0C;&amp;#x8FD9;&amp;#x4E0E;&amp;#x5176;&amp;#x5B9E;&amp;#x73B0;&amp;#x539F;&amp;#x7406;&amp;#x76F8;&amp;#x5173;&amp;#x3002;&lt;br&gt;&lt;strong&gt;1.&lt;/strong&gt; &amp;#x6839;&amp;#x6807;&amp;#x7B7E;&amp;#x5FC5;&amp;#x987B;&amp;#x662F;&lt;code&gt;&amp;lt;alpha&amp;gt;&lt;/code&gt;,&lt;code&gt;&amp;lt;scale&amp;gt;&lt;/code&gt;,&lt;code&gt;&amp;lt;translate&amp;gt;&lt;/code&gt;,&lt;code&gt;&amp;lt;rotate&amp;gt;&lt;/code&gt;&amp;#x6216;&lt;code&gt;&amp;lt;set&amp;gt;&lt;/code&gt;&lt;br&gt;&lt;strong&gt;2.&lt;/strong&gt; &lt;code&gt;android:interpolator&lt;/code&gt;&amp;#x9ED8;&amp;#x8BA4;&amp;#x503C;&amp;#x662F;@android:anim/accelerate_decelerate_interpolator&amp;#xFF1B;&lt;code&gt;android:shareInterpolator&lt;/code&gt;&amp;#x8868;&amp;#x793A;&amp;#x52A8;&amp;#x753B;&amp;#x96C6;&amp;#x5408;&amp;#x662F;&amp;#x5426;&amp;#x5171;&amp;#x4EAB;&amp;#x540C;&amp;#x4E00;&amp;#x63D2;&amp;#x503C;&amp;#x5668;&amp;#xFF0C;&amp;#x5B50;&amp;#x52A8;&amp;#x753B;&amp;#x53EF;&amp;#x4EE5;&amp;#x5355;&amp;#x72EC;&amp;#x6307;&amp;#x5B9A;&amp;#x63D2;&amp;#x503C;&amp;#x5668;&amp;#x3002;&lt;br&gt;&lt;strong&gt;3.&lt;/strong&gt; &lt;code&gt;&amp;lt;alpha&amp;gt;&lt;/code&gt; &amp;#x53D6;&amp;#x503C;&amp;#x8303;&amp;#x56F4;[0.0,1.0]&amp;#xFF0C;&amp;#x5176;&amp;#x4E2D;&amp;#xFF0C;0.0&amp;#x8868;&amp;#x793A;&amp;#x900F;&amp;#x660E;&amp;#xFF0C;1.0&amp;#x8868;&amp;#x793A;&amp;#x5B8C;&amp;#x5168;&amp;#x4E0D;&amp;#x900F;&amp;#x660E;&lt;br&gt;&lt;strong&gt;4.&lt;/strong&gt; &lt;code&gt;&amp;lt;scale&amp;gt;&lt;/code&gt; &amp;#x9ED8;&amp;#x8BA4;&amp;#x7F29;&amp;#x653E;&amp;#x4E2D;&amp;#x5FC3;&amp;#x662F;View&amp;#x4E2D;&amp;#x5FC3;&amp;#x70B9;&amp;#xFF0C;&amp;#x53EF;&amp;#x4EE5;&amp;#x901A;&amp;#x8FC7;&lt;code&gt;android:pivotX&lt;/code&gt;&amp;#x548C;&lt;code&gt;android:pivotY&lt;/code&gt;&amp;#x8FDB;&amp;#x884C;&amp;#x8C03;&amp;#x6574;&amp;#xFF1B;fromXScale&amp;#x7B49;&amp;#x503C;&amp;#x53D6;1.0&amp;#x8868;&amp;#x793A;&amp;#x6CA1;&amp;#x6709;&amp;#x7F29;&amp;#x653E;&amp;#x3002;&lt;br&gt;&lt;strong&gt;5.&lt;/strong&gt; &lt;code&gt;&amp;lt;translate&amp;gt;&lt;/code&gt; &amp;#x53D6;&amp;#x503C;&amp;#x683C;&amp;#x5F0F;&amp;#x6709;&amp;#x4E09;&amp;#x79CD;&amp;#xFF1A;&amp;#x7EDD;&amp;#x5BF9;&amp;#x503C;&amp;#x3001;[-100%, 100%] &amp;#x548C; [-100%p, 100%p]&amp;#xFF1B;&amp;#x7B2C;&amp;#x4E8C;&amp;#x79CD;&amp;#x662F;&amp;#x76F8;&amp;#x5BF9;&amp;#x4E8E;&amp;#x672C;&amp;#x8EAB;width&amp;#x8BA1;&amp;#x7B97;&amp;#x7684;&amp;#xFF0C;&amp;#x7B2C;&amp;#x4E09;&amp;#x79CD;&amp;#x662F;&amp;#x76F8;&amp;#x5BF9;&amp;#x4E8E;&amp;#x7236;View&amp;#x7684;width&amp;#x8FDB;&amp;#x884C;&amp;#x8BA1;&amp;#x7B97;&amp;#x7684;&amp;#x3002;&lt;br&gt;&lt;strong&gt;6.&lt;/strong&gt; &lt;code&gt;&amp;lt;rotate&amp;gt;&lt;/code&gt; &amp;#x9ED8;&amp;#x8BA4;&amp;#x65CB;&amp;#x8F6C;&amp;#x4E2D;&amp;#x5FC3;&amp;#x662F;View&amp;#x4E2D;&amp;#x5FC3;&amp;#x70B9;&amp;#xFF0C;&amp;#x53EF;&amp;#x4EE5;&amp;#x901A;&amp;#x8FC7;&lt;code&gt;android:pivotX&lt;/code&gt;&amp;#x548C;&lt;code&gt;android:pivotY&lt;/code&gt;&amp;#x8FDB;&amp;#x884C;&amp;#x8C03;&amp;#x6574;&amp;#xFF0C;&amp;#x53D6;&amp;#x503C;&amp;#x6709;&amp;#x4E09;&amp;#x79CD;&amp;#xFF1A;&amp;#x6D6E;&amp;#x70B9;&amp;#x6570;&amp;#x8868;&amp;#x793A;&amp;#x76F8;&amp;#x5BF9;&amp;#x4E8E;left&amp;#x6216;&amp;#x8005;top&amp;#x7684;px&amp;#x503C;&amp;#xFF0C;x%&amp;#x8868;&amp;#x793A;&amp;#x76F8;&amp;#x5BF9;&amp;#x4E8E;left&amp;#x6216;&amp;#x8005;top&amp;#x7684;&amp;#x76F8;&amp;#x5BF9;&amp;#x503C;&amp;#xFF0C;x%p&amp;#x8868;&amp;#x793A;&amp;#x76F8;&amp;#x5BF9;&amp;#x4E8E;&amp;#x7236;&amp;#x63A7;&amp;#x4EF6;left&amp;#x6216;&amp;#x8005;top&amp;#x7684;&amp;#x76F8;&amp;#x5BF9;&amp;#x503C;&lt;br&gt;&lt;strong&gt;7.&lt;/strong&gt; &amp;#x5176;&amp;#x4ED6;&amp;#x5E38;&amp;#x7528;&amp;#x6807;&amp;#x7B7E;&amp;#xFF1A; &lt;code&gt;android:repeatMode=[&amp;quot;restart&amp;quot;|&amp;quot;reverse&amp;quot;]&lt;/code&gt;&amp;#x5982;&amp;#x679C;&amp;#x52A8;&amp;#x753B;&amp;#x91CD;&amp;#x590D;&amp;#x65F6;&amp;#x7684;&amp;#x6A21;&amp;#x5F0F;&amp;#xFF1B;&lt;code&gt;android:repeatCount=[infinite|int]&lt;/code&gt;&amp;#x52A8;&amp;#x753B;&amp;#x91CD;&amp;#x590D;&amp;#x6B21;&amp;#x6570;&amp;#xFF0C;&amp;#x9ED8;&amp;#x8BA4;&amp;#x503C;0&amp;#xFF0C;&amp;#x8868;&amp;#x793A;&amp;#x4E0D;&amp;#x91CD;&amp;#x590D;&amp;#xFF1B;&lt;code&gt;android:duration&lt;/code&gt;&amp;#x8868;&amp;#x793A;&amp;#x6301;&amp;#x7EED;&amp;#x65F6;&amp;#x95F4;&amp;#xFF0C;&amp;#x5355;&amp;#x4F4D;ms&amp;#xFF1B;&lt;code&gt;android:startOffset&lt;/code&gt;&amp;#x52A8;&amp;#x753B;&amp;#x5EF6;&amp;#x8FDF;&amp;#x591A;&amp;#x5C11;&amp;#x65F6;&amp;#x95F4;&amp;#x6267;&amp;#x884C;&amp;#xFF1B;&lt;code&gt;android:fillAfter=&amp;quot;true&amp;quot; android:fillBefore=&amp;quot;false&amp;quot;&lt;/code&gt;&amp;#x8868;&amp;#x793A;&amp;#x52A8;&amp;#x753B;&amp;#x7ED3;&amp;#x675F;&amp;#x65F6;&amp;#xFF0C;&amp;#x505C;&amp;#x7559;&amp;#x5728;&amp;#x6700;&amp;#x540E;&amp;#x4E00;&amp;#x5E27;&amp;#xFF1B;&lt;code&gt;android:fillAfter=&amp;quot;false&amp;quot; android:fillBefore=&amp;quot;true&amp;quot;&lt;/code&gt;&amp;#x8868;&amp;#x793A;&amp;#x52A8;&amp;#x753B;&amp;#x7ED3;&amp;#x675F;&amp;#x65F6;&amp;#xFF0C;&amp;#x505C;&amp;#x7559;&amp;#x5728;&amp;#x7B2C;&amp;#x4E00;&amp;#x5E27;&amp;#x3002;&lt;br&gt;&lt;strong&gt;8.&lt;/strong&gt; &amp;#x4F7F;&amp;#x7528;Demo&lt;br&gt;&lt;figure class=&quot;highlight java&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;ImageView image = (ImageView) findViewById(R.id.image);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;Animation hyperspaceJump = AnimationUtils.loadAnimation(&lt;span class=&quot;keyword&quot;&gt;this&lt;/span&gt;, R.anim.hyperspace_jump);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;image.startAnimation(hyperspaceJump);&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;9.&lt;/strong&gt; &amp;#x76D1;&amp;#x542C;&amp;#x52A8;&amp;#x753B;&amp;#x4E8B;&amp;#x4EF6;&lt;br&gt;&lt;figure class=&quot;highlight java&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;12&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;13&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;animation.setAnimationListener(&lt;span class=&quot;keyword&quot;&gt;new&lt;/span&gt; Animation.AnimationListener() {&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;                  &lt;span class=&quot;meta&quot;&gt;@Override&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;                  &lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;onAnimationStart&lt;/span&gt;&lt;span class=&quot;params&quot;&gt;(Animation animation)&lt;/span&gt; &lt;/span&gt;{&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;                  }&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;                  &lt;span class=&quot;meta&quot;&gt;@Override&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;                  &lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;onAnimationEnd&lt;/span&gt;&lt;span class=&quot;params&quot;&gt;(Animation animation)&lt;/span&gt; &lt;/span&gt;{&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;                  }&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;                  &lt;span class=&quot;meta&quot;&gt;@Override&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;                  &lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;onAnimationRepeat&lt;/span&gt;&lt;span class=&quot;params&quot;&gt;(Animation animation)&lt;/span&gt; &lt;/span&gt;{&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;                  }&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;              });&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;10.&lt;/strong&gt; &amp;#x7CFB;&amp;#x7EDF;&amp;#x63D0;&amp;#x4F9B;&amp;#x7684;Interpolators&amp;#x548C;&amp;#x81EA;&amp;#x5B9A;&amp;#x4E49;&amp;#x53C2;&amp;#x6570;&lt;/p&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th style=&quot;text-align:left&quot;&gt;Interpolator class&lt;/th&gt;
&lt;th style=&quot;text-align:left&quot;&gt;Resource ID&lt;/th&gt;
&lt;th style=&quot;text-align:left&quot;&gt;&amp;#x53EF;&amp;#x4EE5;&amp;#x81EA;&amp;#x5B9A;&amp;#x4E49;&amp;#x7684;&amp;#x53C2;&amp;#x6570;&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td style=&quot;text-align:left&quot;&gt;AccelerateDecelerateInterpolator&lt;/td&gt;
&lt;td style=&quot;text-align:left&quot;&gt;@android:anim/accelerate_decelerate_interpolator&lt;/td&gt;
&lt;td style=&quot;text-align:left&quot;&gt;No&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&quot;text-align:left&quot;&gt;AccelerateInterpolator&lt;/td&gt;
&lt;td style=&quot;text-align:left&quot;&gt;@android:anim/accelerate_interpolator&lt;/td&gt;
&lt;td style=&quot;text-align:left&quot;&gt;&lt;code&gt;android:factor=[float]&lt;/code&gt;,&amp;#x9ED8;&amp;#x8BA4;&amp;#x503C;1&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&quot;text-align:left&quot;&gt;AnticipateInterpolator&lt;/td&gt;
&lt;td style=&quot;text-align:left&quot;&gt;@android:anim/anticipate_interpolator&lt;/td&gt;
&lt;td style=&quot;text-align:left&quot;&gt;&lt;code&gt;android:tension=[float]&lt;/code&gt;,&amp;#x9ED8;&amp;#x8BA4;&amp;#x503C;2&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&quot;text-align:left&quot;&gt;AnticipateOvershootInterpolator&lt;/td&gt;
&lt;td style=&quot;text-align:left&quot;&gt;@android:anim/anticipate_overshoot_interpolator&lt;/td&gt;
&lt;td style=&quot;text-align:left&quot;&gt;&lt;code&gt;android:tension=[float]&lt;/code&gt;,&amp;#x9ED8;&amp;#x8BA4;&amp;#x503C;2;  &lt;code&gt;android:extraTension=[float]&lt;/code&gt;,&amp;#x9ED8;&amp;#x8BA4;&amp;#x503C;1.5&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&quot;text-align:left&quot;&gt;BounceInterpolator&lt;/td&gt;
&lt;td style=&quot;text-align:left&quot;&gt;@android:anim/bounce_interpolator&lt;/td&gt;
&lt;td style=&quot;text-align:left&quot;&gt;No&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&quot;text-align:left&quot;&gt;CycleInterpolator&lt;/td&gt;
&lt;td style=&quot;text-align:left&quot;&gt;@android:anim/cycle_interpolator&lt;/td&gt;
&lt;td style=&quot;text-align:left&quot;&gt;&lt;code&gt;android:cycles=[int]&lt;/code&gt;,&amp;#x9ED8;&amp;#x8BA4;&amp;#x503C;1&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&quot;text-align:left&quot;&gt;DecelerateInterpolator&lt;/td&gt;
&lt;td style=&quot;text-align:left&quot;&gt;@android:anim/decelerate_interpolator&lt;/td&gt;
&lt;td style=&quot;text-align:left&quot;&gt;&lt;code&gt;android:factor=[float]&lt;/code&gt;,&amp;#x9ED8;&amp;#x8BA4;&amp;#x503C;1&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&quot;text-align:left&quot;&gt;LinearInterpolator&lt;/td&gt;
&lt;td style=&quot;text-align:left&quot;&gt;@android:anim/linear_interpolator&lt;/td&gt;
&lt;td style=&quot;text-align:left&quot;&gt;No&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&quot;text-align:left&quot;&gt;OvershootInterpolator&lt;/td&gt;
&lt;td style=&quot;text-align:left&quot;&gt;@android:anim/overshoot_interpolator&lt;/td&gt;
&lt;td style=&quot;text-align:left&quot;&gt;&lt;code&gt;android:tension=[float]&lt;/code&gt;,&amp;#x9ED8;&amp;#x8BA4;&amp;#x503C;2&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;p&gt;Demo:&lt;/p&gt;
&lt;p&gt;XML file saved at res/anim/my_overshoot_interpolator.xml:&lt;br&gt;&lt;figure class=&quot;highlight xml&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;meta&quot;&gt;&amp;lt;?xml version=&amp;quot;1.0&amp;quot; encoding=&amp;quot;utf-8&amp;quot;?&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;tag&quot;&gt;&amp;lt;&lt;span class=&quot;name&quot;&gt;overshootInterpolator&lt;/span&gt; &lt;span class=&quot;attr&quot;&gt;xmlns:android&lt;/span&gt;=&lt;span class=&quot;string&quot;&gt;&amp;quot;http://schemas.android.com/apk/res/android&amp;quot;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;tag&quot;&gt;    &lt;span class=&quot;attr&quot;&gt;android:tension&lt;/span&gt;=&lt;span class=&quot;string&quot;&gt;&amp;quot;7.0&amp;quot;&lt;/span&gt;/&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;This animation XML will apply the interpolator:&lt;br&gt;&lt;figure class=&quot;highlight xml&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;tag&quot;&gt;&amp;lt;&lt;span class=&quot;name&quot;&gt;scale&lt;/span&gt; &lt;span class=&quot;attr&quot;&gt;xmlns:android&lt;/span&gt;=&lt;span class=&quot;string&quot;&gt;&amp;quot;http://schemas.android.com/apk/res/android&amp;quot;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;tag&quot;&gt;    &lt;span class=&quot;attr&quot;&gt;android:interpolator&lt;/span&gt;=&lt;span class=&quot;string&quot;&gt;&amp;quot;@anim/my_overshoot_interpolator&amp;quot;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;tag&quot;&gt;    &lt;span class=&quot;attr&quot;&gt;...&lt;/span&gt;/&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;h3 id=&quot;2-drawable-animation&quot;&gt;&lt;a href=&quot;#2-Drawable-Animation&quot; class=&quot;headerlink&quot; title=&quot;2. Drawable Animation&quot;&gt;&lt;/a&gt;2. Drawable Animation&lt;/h3&gt;&lt;p&gt;&amp;#x50CF;&amp;#x7535;&amp;#x5F71;&amp;#x76F8;&amp;#x4F3C;&amp;#x7684;&amp;#x5E27;&amp;#x52A8;&amp;#x753B;&amp;#xFF0C;&amp;#x6CE8;&amp;#x610F;&amp;#x5BB9;&amp;#x6613;OOM&amp;#x3002;&lt;br&gt;&amp;#x5EFA;&amp;#x8BAE;XML&amp;#x5B9A;&amp;#x4E49;&amp;#xFF0C;&amp;#x6587;&amp;#x4EF6;&amp;#x4F4D;&amp;#x4E8E;&lt;code&gt;res/drawable/&lt;/code&gt;&amp;#x4E0B;&amp;#xFF0C;&amp;#x5BF9;&amp;#x5E94;AnimationDrawable&amp;#x7C7B;&amp;#x3002;&amp;#x8BED;&amp;#x6CD5;&amp;#x5982;&amp;#x4E0B;&amp;#xFF1A;&lt;br&gt;&lt;figure class=&quot;highlight xml&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;meta&quot;&gt;&amp;lt;?xml version=&amp;quot;1.0&amp;quot; encoding=&amp;quot;utf-8&amp;quot;?&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;tag&quot;&gt;&amp;lt;&lt;span class=&quot;name&quot;&gt;animation-list&lt;/span&gt; &lt;span class=&quot;attr&quot;&gt;xmlns:android&lt;/span&gt;=&lt;span class=&quot;string&quot;&gt;&amp;quot;http://schemas.android.com/apk/res/android&amp;quot;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;tag&quot;&gt;    &lt;span class=&quot;attr&quot;&gt;android:oneshot&lt;/span&gt;=&lt;span class=&quot;string&quot;&gt;[&lt;/span&gt;&amp;quot;&lt;span class=&quot;attr&quot;&gt;true&lt;/span&gt;&amp;quot;|&amp;quot;&lt;span class=&quot;attr&quot;&gt;false&lt;/span&gt;&amp;quot;] &amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;tag&quot;&gt;&amp;lt;&lt;span class=&quot;name&quot;&gt;item&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;tag&quot;&gt;        &lt;span class=&quot;attr&quot;&gt;android:drawable&lt;/span&gt;=&lt;span class=&quot;string&quot;&gt;&amp;quot;@[package:]drawable/drawable_resource_name&amp;quot;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;tag&quot;&gt;        &lt;span class=&quot;attr&quot;&gt;android:duration&lt;/span&gt;=&lt;span class=&quot;string&quot;&gt;&amp;quot;integer&amp;quot;&lt;/span&gt; /&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;tag&quot;&gt;&amp;lt;/&lt;span class=&quot;name&quot;&gt;animation-list&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Tips:&lt;/strong&gt;&lt;br&gt;&lt;strong&gt;0.&lt;/strong&gt; &amp;#x6839;&amp;#x6807;&amp;#x7B7E;&amp;#x5FC5;&amp;#x987B;&amp;#x662F;&lt;code&gt;&amp;lt;animation-list&amp;gt;&lt;/code&gt;&amp;#xFF0C;&lt;code&gt;android:oneshot&lt;/code&gt;true&amp;#x8868;&amp;#x793A;&amp;#x6267;&amp;#x884C;&amp;#x4E00;&amp;#x6B21;&amp;#xFF0C;false&amp;#x8868;&amp;#x793A;&amp;#x5FAA;&amp;#x73AF;&lt;br&gt;&lt;strong&gt;1.&lt;/strong&gt; Demo:&lt;br&gt;XML file saved at res/anim/rocket.xml:&lt;br&gt;&lt;figure class=&quot;highlight xml&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;meta&quot;&gt;&amp;lt;?xml version=&amp;quot;1.0&amp;quot; encoding=&amp;quot;utf-8&amp;quot;?&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;tag&quot;&gt;&amp;lt;&lt;span class=&quot;name&quot;&gt;animation-list&lt;/span&gt; &lt;span class=&quot;attr&quot;&gt;xmlns:android&lt;/span&gt;=&lt;span class=&quot;string&quot;&gt;&amp;quot;http://schemas.android.com/apk/res/android&amp;quot;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;tag&quot;&gt;    &lt;span class=&quot;attr&quot;&gt;android:oneshot&lt;/span&gt;=&lt;span class=&quot;string&quot;&gt;&amp;quot;false&amp;quot;&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;tag&quot;&gt;&amp;lt;&lt;span class=&quot;name&quot;&gt;item&lt;/span&gt; &lt;span class=&quot;attr&quot;&gt;android:drawable&lt;/span&gt;=&lt;span class=&quot;string&quot;&gt;&amp;quot;@drawable/rocket_thrust1&amp;quot;&lt;/span&gt; &lt;span class=&quot;attr&quot;&gt;android:duration&lt;/span&gt;=&lt;span class=&quot;string&quot;&gt;&amp;quot;200&amp;quot;&lt;/span&gt; /&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;tag&quot;&gt;&amp;lt;&lt;span class=&quot;name&quot;&gt;item&lt;/span&gt; &lt;span class=&quot;attr&quot;&gt;android:drawable&lt;/span&gt;=&lt;span class=&quot;string&quot;&gt;&amp;quot;@drawable/rocket_thrust2&amp;quot;&lt;/span&gt; &lt;span class=&quot;attr&quot;&gt;android:duration&lt;/span&gt;=&lt;span class=&quot;string&quot;&gt;&amp;quot;200&amp;quot;&lt;/span&gt; /&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;tag&quot;&gt;&amp;lt;&lt;span class=&quot;name&quot;&gt;item&lt;/span&gt; &lt;span class=&quot;attr&quot;&gt;android:drawable&lt;/span&gt;=&lt;span class=&quot;string&quot;&gt;&amp;quot;@drawable/rocket_thrust3&amp;quot;&lt;/span&gt; &lt;span class=&quot;attr&quot;&gt;android:duration&lt;/span&gt;=&lt;span class=&quot;string&quot;&gt;&amp;quot;200&amp;quot;&lt;/span&gt; /&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;tag&quot;&gt;&amp;lt;/&lt;span class=&quot;name&quot;&gt;animation-list&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;This application code will set the animation as the background for a View, then play the animation:&lt;br&gt;&lt;figure class=&quot;highlight java&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;ImageView rocketImage = (ImageView) findViewById(R.id.rocket_image);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;rocketImage.setBackgroundResource(R.drawable.rocket_thrust);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;rocketAnimation = (AnimationDrawable) rocketImage.getBackground();&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;rocketAnimation.start();&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;2.&lt;/strong&gt; AnimationDrawable&amp;#x4E0D;&amp;#x80FD;&amp;#x5728;onCreate()&amp;#x4E2D;&amp;#x8C03;&amp;#x7528;start()&amp;#xFF0C;&amp;#x56E0;&amp;#x4E3A;&amp;#x6709;&amp;#x53EF;&amp;#x80FD;&amp;#x6CA1;&amp;#x6709;&amp;#x5B8C;&amp;#x5168;attached to window&amp;#xFF0C;&amp;#x5982;&amp;#x679C;&amp;#x6CA1;&amp;#x6709;&amp;#x4EA4;&amp;#x4E92;&amp;#x8981;&amp;#x6C42;&amp;#xFF0C;&amp;#x5EFA;&amp;#x8BAE;&amp;#x5728;onWindowFocusChanged()&amp;#x4E2D;&amp;#x8FDB;&amp;#x884C;&amp;#x8C03;&amp;#x7528;&amp;#x3002;&lt;/p&gt;
&lt;h2 id=&quot;property-animation&quot;&gt;&lt;a href=&quot;#Property-Animation&quot; class=&quot;headerlink&quot; title=&quot;Property Animation&quot;&gt;&lt;/a&gt;Property Animation&lt;/h2&gt;&lt;p&gt;Android 3.0&amp;#x5F15;&amp;#x5165;&amp;#x5C5E;&amp;#x6027;&amp;#x52A8;&amp;#x753B;&amp;#xFF0C;&amp;#x5BF9;&amp;#x4E8E;&amp;#x4EFB;&amp;#x4F55;&amp;#x5BF9;&amp;#x8C61;&amp;#x7684;&amp;#x5C5E;&amp;#x6027;&amp;#x90FD;&amp;#x53EF;&amp;#x4EE5;&amp;#x8FDB;&amp;#x884C;&amp;#x52A8;&amp;#x753B;&amp;#xFF0C;&amp;#x76F8;&amp;#x5BF9;Tween Animation&amp;#x4F18;&amp;#x70B9;&amp;#x662F;&amp;#x771F;&amp;#x6B63;&amp;#x6539;&amp;#x53D8;View&amp;#x5C5E;&amp;#x6027;&amp;#xFF0C;&amp;#x5177;&amp;#x6709;&amp;#x4EA4;&amp;#x4E92;&amp;#x6027;&amp;#xFF1B;&amp;#x4F46;&amp;#x662F;Tween Animation&amp;#x6548;&amp;#x7387;&amp;#x597D;&amp;#xFF0C;&amp;#x5EFA;&amp;#x8BAE;&amp;#x80FD;&amp;#x7528;Tween Animation&amp;#x5B9E;&amp;#x73B0;&amp;#x7684;&amp;#x5C31;&amp;#x7528;Tween Animation&amp;#x5B9E;&amp;#x73B0;&amp;#xFF0C;&amp;#x4EE3;&amp;#x7801;&amp;#x91CF;&amp;#x5C0F;&amp;#x3002;&amp;#x5C5E;&amp;#x6027;&amp;#x52A8;&amp;#x753B;&amp;#x5EFA;&amp;#x8BAE;&amp;#x4F7F;&amp;#x7528;&amp;#x4EE3;&amp;#x7801;&amp;#x5B9E;&amp;#x73B0;&amp;#xFF0C;&amp;#x5176;&amp;#x76F8;&amp;#x5173;API&amp;#x4E3B;&amp;#x8981;&amp;#x5728;&lt;code&gt;android.animation&lt;/code&gt;&amp;#x4E0B;&amp;#x3002;&amp;#x5C5E;&amp;#x6027;&amp;#x52A8;&amp;#x753B;&amp;#x9ED8;&amp;#x8BA4;duration&amp;#x662F;300ms&amp;#xFF0C;&amp;#x5E27;&amp;#x7387;&amp;#x9ED8;&amp;#x8BA4;10ms&amp;#xFF0C;&amp;#x53EF;&amp;#x4EE5;&amp;#x8C03;&amp;#x6574;&amp;#x3002;&amp;#x5176;&amp;#x5DE5;&amp;#x4F5C;&amp;#x539F;&amp;#x7406;&amp;#x53EF;&amp;#x4EE5;&amp;#x53C2;&amp;#x8003;&amp;#x5B98;&amp;#x65B9;&amp;#x793A;&amp;#x610F;&amp;#x56FE;&amp;#xFF1A;&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;pic_0.png&quot; alt=&quot;&quot;&gt;&lt;/p&gt;
&lt;p&gt;ValueAnimator&amp;#x8BB0;&amp;#x5F55;&amp;#x52A8;&amp;#x753B;&amp;#x65F6;&amp;#x95F4;&amp;#xFF0C;&amp;#x8BA1;&amp;#x7B97;&amp;#x51FA;elapsed fraction(&amp;#x5DF2;&amp;#x52A8;&amp;#x753B;&amp;#x7684;&amp;#x65F6;&amp;#x95F4;/&amp;#x52A8;&amp;#x753B;&amp;#x603B;&amp;#x65F6;&amp;#x95F4;)&amp;#xFF1B;&amp;#x7136;&amp;#x540E;&amp;#x8C03;&amp;#x7528;TimeInterpolator&amp;#x8BA1;&amp;#x7B97;interpolated fraction&amp;#xFF0C;&amp;#x518D;&amp;#x901A;&amp;#x8FC7;TypeEvaluator&amp;#x8BA1;&amp;#x7B97;&amp;#x51FA;&amp;#x5C5E;&amp;#x6027;&amp;#x53D8;&amp;#x5316;&amp;#x503C;&amp;#x5E76;&amp;#x8FDB;&amp;#x884C;&amp;#x6539;&amp;#x53D8;&amp;#xFF0C;&amp;#x6700;&amp;#x540E;&amp;#x4E00;&amp;#x76F4;&amp;#x5FAA;&amp;#x73AF;&amp;#x81F3;&amp;#x52A8;&amp;#x753B;&amp;#x7ED3;&amp;#x675F;&amp;#x3002;&amp;#x5176;&amp;#x4E2D;&amp;#xFF0C;TimeInterpolator&amp;#x5B9E;&amp;#x73B0;&amp;#x7C7B;&amp;#x662F;Tween Animation&amp;#x4E2D;&amp;#x7CFB;&amp;#x7EDF;&amp;#x63D0;&amp;#x4F9B;&amp;#x7684;Interpolators&amp;#xFF0C;&amp;#x4E5F;&amp;#x53EF;&amp;#x4EE5;&amp;#x5B9E;&amp;#x73B0;TimeInterpolator&amp;#x63A5;&amp;#x53E3;&amp;#x8FDB;&amp;#x884C;&amp;#x81EA;&amp;#x5B9A;&amp;#x4E49;&amp;#xFF1B;TypeEvaluator&amp;#x5B9E;&amp;#x73B0;&amp;#x7C7B;&amp;#x6709;IntEvaluator&amp;#x3001;FloatEvaluator&amp;#x548C;ArgbEvaluator&amp;#xFF0C;&amp;#x5206;&amp;#x522B;&amp;#x5BF9;&amp;#x5E94;int&amp;#x3001;float&amp;#x548C;&amp;#x8868;&amp;#x793A;&amp;#x989C;&amp;#x8272;&amp;#x7684;&amp;#x5341;&amp;#x516D;&amp;#x8FDB;&amp;#x5236;&amp;#x5C5E;&amp;#x6027;&amp;#xFF0C;&amp;#x4E5F;&amp;#x53EF;&amp;#x4EE5;&amp;#x5B9E;&amp;#x73B0;TypeEvaluator&amp;#x63A5;&amp;#x53E3;&amp;#x8FDB;&amp;#x884C;&amp;#x81EA;&amp;#x5B9A;&amp;#x4E49;&amp;#x3002;&amp;#x5C5E;&amp;#x6027;&amp;#x52A8;&amp;#x753B;&amp;#x5173;&amp;#x952E;&amp;#x7C7B;&amp;#x662F;Animator&amp;#x7684;&amp;#x4E09;&amp;#x4E2A;&amp;#x5B50;&amp;#x7C7B;ValueAnimator&amp;#x3001;ObjectAnimator&amp;#x548C;AnimatorSet&amp;#xFF0C;&amp;#x5176;&amp;#x4E2D;ObjectAnimator&amp;#x7EE7;&amp;#x627F;&amp;#x81EA;ValueAnimator&amp;#x3002;  &lt;/p&gt;
&lt;p&gt;&lt;strong&gt;0.&lt;/strong&gt; ValueAnimator &amp;#x901A;&amp;#x5E38;&amp;#x914D;&amp;#x5408;ValueAnimator.AnimatorUpdateListener&amp;#x624D;&amp;#x80FD;&amp;#x5B9E;&amp;#x73B0;&amp;#x52A8;&amp;#x753B;&amp;#xFF0C;Demo&amp;#x5982;&amp;#x4E0B;&amp;#xFF1A;&lt;br&gt;&lt;figure class=&quot;highlight java&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;10&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;ValueAnimator animation = ValueAnimator.ofFloat(&lt;span class=&quot;number&quot;&gt;0f&lt;/span&gt;, &lt;span class=&quot;number&quot;&gt;1f&lt;/span&gt;);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;animation.setDuration(&lt;span class=&quot;number&quot;&gt;1000&lt;/span&gt;);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;animation.start();&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;animation.addUpdateListener(&lt;span class=&quot;keyword&quot;&gt;new&lt;/span&gt; ValueAnimator.AnimatorUpdateListener() {&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;            &lt;span class=&quot;meta&quot;&gt;@Override&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;            &lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;onAnimationUpdate&lt;/span&gt;&lt;span class=&quot;params&quot;&gt;(ValueAnimator animation)&lt;/span&gt; &lt;/span&gt;{&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;                Float value = animation.getAnimatedValue();&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;                ...&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;            }&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        });&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;&amp;#x7CFB;&amp;#x7EDF;&amp;#x63D0;&amp;#x4F9B;Animator.AnimatorListener&amp;#x5B9E;&amp;#x73B0;&amp;#x5BF9;&amp;#x52A8;&amp;#x753B;&amp;#x8FC7;&amp;#x7A0B;&amp;#x76D1;&amp;#x542C;&amp;#xFF0C;&amp;#x5176;&amp;#x56DE;&amp;#x8C03;&amp;#x65B9;&amp;#x6CD5;&amp;#xFF1A;onAnimationStart()&amp;#x3001;onAnimationEnd()&amp;#x3001;onAnimationRepeat() &amp;#x548C;onAnimationCancel()&amp;#xFF0C;&amp;#x5176;&amp;#x4E2D;&amp;#xFF0C;onAnimationCancel()&amp;#x8C03;&amp;#x7528;&amp;#x65F6;&amp;#x4E00;&amp;#x5B9A;&amp;#x4F1A;&amp;#x8C03;&amp;#x7528;onAnimationEnd()&amp;#xFF0C;&amp;#x7CFB;&amp;#x7EDF;&amp;#x4E5F;&amp;#x63D0;&amp;#x4F9B;&amp;#x4E86;&amp;#x9002;&amp;#x914D;&amp;#x7C7B;AnimatorListenerAdapter&amp;#x3002;  &lt;/p&gt;
&lt;p&gt;&lt;strong&gt;1.&lt;/strong&gt; ObjectAnimator &amp;#x7B80;&amp;#x5316;&amp;#x5C5E;&amp;#x6027;&amp;#x52A8;&amp;#x753B;&amp;#x521B;&amp;#x5EFA;&amp;#x8FC7;&amp;#x7A0B;&amp;#xFF0C;Demo&amp;#x5982;&amp;#x4E0B;&amp;#xFF1A;&lt;br&gt;&lt;figure class=&quot;highlight java&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;ObjectAnimator anim = ObjectAnimator.ofFloat(foo, &lt;span class=&quot;string&quot;&gt;&amp;quot;alpha&amp;quot;&lt;/span&gt;, &lt;span class=&quot;number&quot;&gt;0f&lt;/span&gt;, &lt;span class=&quot;number&quot;&gt;1f&lt;/span&gt;);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;anim.setDuration(&lt;span class=&quot;number&quot;&gt;1000&lt;/span&gt;);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;anim.start();&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;&amp;#x6709;&amp;#x51E0;&amp;#x70B9;&amp;#x6CE8;&amp;#x610F;&amp;#xFF1A;&lt;br&gt;a.&amp;#x5C5E;&amp;#x6027;&amp;#x52A8;&amp;#x753B;&amp;#x5BF9;&amp;#x8C61;&amp;#x5FC5;&amp;#x987B;&amp;#x63D0;&amp;#x4F9B;&amp;#x5C5E;&amp;#x6027;&amp;#x7684;setter&amp;#x65B9;&amp;#x6CD5;(in camel case)&amp;#xFF0C;&amp;#x5982;&amp;#x679C;&amp;#x6CA1;&amp;#x6709;&amp;#x63D0;&amp;#x4F9B;&amp;#x5219;&amp;#x9700;&amp;#x8981;&amp;#x589E;&amp;#x52A0;&amp;#x8BE5;&amp;#x65B9;&amp;#x6CD5;&amp;#xFF0C;&amp;#x6216;&amp;#x8005;&amp;#x8FDB;&amp;#x884C;&amp;#x5305;&amp;#x88C5;(wrapper)&amp;#x3002;&lt;br&gt;b.&amp;#x5982;&amp;#x679C;&amp;#x5C5E;&amp;#x6027;values&amp;#x53EA;&amp;#x63D0;&amp;#x4F9B;&amp;#x4E00;&amp;#x4E2A;&amp;#x53C2;&amp;#x6570;&amp;#xFF0C;&amp;#x6BD4;&amp;#x5982;Demo&amp;#x4E2D;&amp;#x53EA;&amp;#x4F20;1f&amp;#xFF0C;&amp;#x5219;&amp;#x8868;&amp;#x793A;&amp;#x7ED3;&amp;#x675F;&amp;#x503C;&amp;#xFF0C;&amp;#x6B64;&amp;#x65F6;&amp;#x5FC5;&amp;#x987B;&amp;#x9700;&amp;#x8981;getter&amp;#x65B9;&amp;#x6CD5;&amp;#x3002;&lt;br&gt;c.getter&amp;#x548C;setter&amp;#x65B9;&amp;#x6CD5;&amp;#x5FC5;&amp;#x987B;&amp;#x9488;&amp;#x5BF9;&amp;#x52A8;&amp;#x753B;&amp;#x64CD;&amp;#x4F5C;&amp;#x7684;&amp;#x5C5E;&amp;#x6027;&amp;#x3002;&lt;br&gt;d.&amp;#x5FC5;&amp;#x8981;&amp;#x65F6;&amp;#x9700;&amp;#x8981;&amp;#x8C03;&amp;#x7528;invalidate()&amp;#x8FDB;&amp;#x884C;&amp;#x91CD;&amp;#x7ED8;&amp;#x3002;&lt;br&gt;e.PropertyValuesHolder&amp;#x53EF;&amp;#x4EE5;&amp;#x5B9E;&amp;#x73B0;&amp;#x540C;&amp;#x4E00;&amp;#x5BF9;&amp;#x8C61;&amp;#x591A;&amp;#x4E2A;&amp;#x5C5E;&amp;#x6027;&amp;#x52A8;&amp;#x753B;&amp;#x7684;&amp;#x6548;&amp;#x679C;&amp;#xFF0C;&amp;#x76F8;&amp;#x6BD4;&amp;#x4E0B;&amp;#x9762;AnimatorSet&amp;#x6548;&amp;#x7387;&amp;#x8F83;&amp;#x9AD8;&amp;#xFF0C;Demo&amp;#x5982;&amp;#x4E0B;&amp;#xFF1A;&lt;br&gt;&lt;figure class=&quot;highlight java&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;PropertyValuesHolder pvh1 = PropertyValuesHolder.ofFloat(&lt;span class=&quot;string&quot;&gt;&amp;quot;translateX&amp;quot;&lt;/span&gt;,&lt;span class=&quot;number&quot;&gt;300f&lt;/span&gt;);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;PropertyValuesHolder pvh2 = PropertyValuesHolder.ofFloat(&lt;span class=&quot;string&quot;&gt;&amp;quot;alpha&amp;quot;&lt;/span&gt;, &lt;span class=&quot;number&quot;&gt;0f&lt;/span&gt;, &lt;span class=&quot;number&quot;&gt;1f&lt;/span&gt;);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;ObjectAnimator.ofPropertyValuesHolder(view,pvh1,pvh2).setDuration(&lt;span class=&quot;number&quot;&gt;1000&lt;/span&gt;).start();&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;2.&lt;/strong&gt; AnimatorSet &amp;#x628A;&amp;#x591A;&amp;#x4E2A;&amp;#x5C5E;&amp;#x6027;&amp;#x52A8;&amp;#x753B;&amp;#x8FDB;&amp;#x884C;&amp;#x7EC4;&amp;#x5408;&amp;#xFF0C;&amp;#x4F18;&amp;#x52BF;&amp;#x662F;&amp;#x53EF;&amp;#x4EE5;&amp;#x6307;&amp;#x5B9A;&amp;#x76F8;&amp;#x5E94;&amp;#x52A8;&amp;#x753B;&amp;#x7684;&amp;#x6267;&amp;#x884C;&amp;#x6B21;&amp;#x5E8F;&amp;#xFF0C;Demo&amp;#x5982;&amp;#x4E0B;&amp;#xFF1A;&lt;br&gt;&lt;figure class=&quot;highlight java&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;11&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;AnimatorSet bouncer = &lt;span class=&quot;keyword&quot;&gt;new&lt;/span&gt; AnimatorSet();&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;bouncer.play(bounceAnim).before(squashAnim1);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;bouncer.play(squashAnim1).with(squashAnim2);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;bouncer.play(squashAnim1).with(stretchAnim1);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;bouncer.play(squashAnim1).with(stretchAnim2);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;bouncer.play(bounceBackAnim).after(stretchAnim2);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;ValueAnimator fadeAnim = ObjectAnimator.ofFloat(newBall, &lt;span class=&quot;string&quot;&gt;&amp;quot;alpha&amp;quot;&lt;/span&gt;, &lt;span class=&quot;number&quot;&gt;1f&lt;/span&gt;, &lt;span class=&quot;number&quot;&gt;0f&lt;/span&gt;);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;fadeAnim.setDuration(&lt;span class=&quot;number&quot;&gt;250&lt;/span&gt;);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;AnimatorSet animatorSet = &lt;span class=&quot;keyword&quot;&gt;new&lt;/span&gt; AnimatorSet();&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;animatorSet.play(bouncer).before(fadeAnim);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;animatorSet.start();&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;3.&lt;/strong&gt; Keyframes&amp;#x4F7F;&amp;#x7528; keyframes&amp;#x5BF9;&amp;#x8C61;&amp;#x5305;&amp;#x542B;time/value&amp;#x5BF9;&amp;#xFF0C;&amp;#x7528;&amp;#x6765;&amp;#x8868;&amp;#x793A;&amp;#x5728;&amp;#x52A8;&amp;#x753B;&amp;#x6307;&amp;#x5B9A;&amp;#x65F6;&amp;#x95F4;&amp;#x7684;&amp;#x7279;&amp;#x6B8A;&amp;#x503C;&amp;#xFF0C;&amp;#x6BCF;&amp;#x4E2A;keyframe&amp;#x4E5F;&amp;#x53EF;&amp;#x4EE5;&amp;#x62E5;&amp;#x6709;&amp;#x524D;&amp;#x4E00;&amp;#x4E2A;keyframe&amp;#x5230;&amp;#x81EA;&amp;#x8EAB;&amp;#x7684;&amp;#x63D2;&amp;#x503C;&amp;#x5668;&amp;#xFF0C;Demo&amp;#x5982;&amp;#x4E0B;&amp;#xFF1A;&lt;br&gt;&lt;figure class=&quot;highlight java&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;Keyframe kf0 = Keyframe.ofFloat(&lt;span class=&quot;number&quot;&gt;0f&lt;/span&gt;, &lt;span class=&quot;number&quot;&gt;0f&lt;/span&gt;);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;Keyframe kf1 = Keyframe.ofFloat(.&lt;span class=&quot;number&quot;&gt;5f&lt;/span&gt;, &lt;span class=&quot;number&quot;&gt;360f&lt;/span&gt;);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;Keyframe kf2 = Keyframe.ofFloat(&lt;span class=&quot;number&quot;&gt;1f&lt;/span&gt;, &lt;span class=&quot;number&quot;&gt;0f&lt;/span&gt;);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;PropertyValuesHolder pvhRotation = PropertyValuesHolder.ofKeyframe(&lt;span class=&quot;string&quot;&gt;&amp;quot;rotation&amp;quot;&lt;/span&gt;, kf0, kf1, kf2);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;ObjectAnimator rotationAnim = ObjectAnimator.ofPropertyValuesHolder(target, pvhRotation)&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;rotationAnim.setDuration(&lt;span class=&quot;number&quot;&gt;5000&lt;/span&gt;ms);&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;4.&lt;/strong&gt; &amp;#x9488;&amp;#x5BF9;View&amp;#x5BF9;&amp;#x8C61;&amp;#x7684;&amp;#x5C5E;&amp;#x6027;&amp;#x52A8;&amp;#x753B;&amp;#x53EF;&amp;#x4EE5;&amp;#x64CD;&amp;#x4F5C;&amp;#x7684;&amp;#x5C5E;&amp;#x6027;&amp;#x503C;&amp;#x6709;&amp;#xFF1A;translationX/translateY&amp;#xFF0C;rotation/rotationX/rotationY&amp;#xFF0C;scaleX/scaleY&amp;#xFF0C;pivotX/pivotY&amp;#xFF0C;x/y&amp;#xFF0C;alpha&amp;#xFF1B;View&amp;#x672C;&amp;#x8EAB;&amp;#x589E;&amp;#x52A0;animate()&amp;#x65B9;&amp;#x6CD5;&amp;#x53EF;&amp;#x4EE5;&amp;#x76F4;&amp;#x63A5;&amp;#x9A71;&amp;#x52A8;&amp;#x5C5E;&amp;#x6027;&amp;#x52A8;&amp;#x753B;&amp;#x3002;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;5.&lt;/strong&gt; XML&amp;#x5B9A;&amp;#x4E49;&amp;#x5C5E;&amp;#x6027;&amp;#x52A8;&amp;#x753B;&amp;#xFF0C;&amp;#x6587;&amp;#x4EF6;&amp;#x5728;&lt;code&gt;res/animator&lt;/code&gt;&amp;#x4E2D;&amp;#x3002;&amp;#x5BF9;&amp;#x5E94;&amp;#x5173;&amp;#x7CFB;&amp;#x5982;&amp;#x4E0B;&amp;#xFF1A;&lt;/p&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th style=&quot;text-align:left&quot;&gt;Class&lt;/th&gt;
&lt;th style=&quot;text-align:left&quot;&gt;Tag&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td style=&quot;text-align:left&quot;&gt;ValueAnimator&lt;/td&gt;
&lt;td style=&quot;text-align:left&quot;&gt;&lt;code&gt;&amp;lt;animator&amp;gt;&lt;/code&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&quot;text-align:left&quot;&gt;ObjectAnimator&lt;/td&gt;
&lt;td style=&quot;text-align:left&quot;&gt;&lt;code&gt;&amp;lt;objectAnimator&amp;gt;&lt;/code&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&quot;text-align:left&quot;&gt;AnimatorSet&lt;/td&gt;
&lt;td style=&quot;text-align:left&quot;&gt;&lt;code&gt;&amp;lt;set&amp;gt;&lt;/code&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;p&gt;&amp;#x5E38;&amp;#x7528;&amp;#x6807;&amp;#x7B7E;&amp;#xFF1A;&lt;br&gt;&lt;figure class=&quot;highlight xml&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;12&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;tag&quot;&gt;&amp;lt;&lt;span class=&quot;name&quot;&gt;set&lt;/span&gt; &lt;span class=&quot;attr&quot;&gt;android:ordering&lt;/span&gt;=&lt;span class=&quot;string&quot;&gt;[&lt;/span&gt;&amp;quot;&lt;span class=&quot;attr&quot;&gt;sequentially&lt;/span&gt;&amp;quot;|&amp;quot;&lt;span class=&quot;attr&quot;&gt;together&lt;/span&gt;&amp;quot;]&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;tag&quot;&gt;&amp;lt;&lt;span class=&quot;name&quot;&gt;objectAnimator&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;tag&quot;&gt;        &lt;span class=&quot;attr&quot;&gt;android:propertyName&lt;/span&gt;=&lt;span class=&quot;string&quot;&gt;&amp;quot;string&amp;quot;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;tag&quot;&gt;        &lt;span class=&quot;attr&quot;&gt;android:duration&lt;/span&gt;=&lt;span class=&quot;string&quot;&gt;&amp;quot;int&amp;quot;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;tag&quot;&gt;        &lt;span class=&quot;attr&quot;&gt;android:valueFrom&lt;/span&gt;=&lt;span class=&quot;string&quot;&gt;&amp;quot;float|int|color&amp;quot;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;tag&quot;&gt;        &lt;span class=&quot;attr&quot;&gt;android:valueTo&lt;/span&gt;=&lt;span class=&quot;string&quot;&gt;&amp;quot;float|int|color&amp;quot;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;tag&quot;&gt;        &lt;span class=&quot;attr&quot;&gt;android:repeatCount&lt;/span&gt;=&lt;span class=&quot;string&quot;&gt;&amp;quot;[infinite|int]&amp;quot;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;tag&quot;&gt;        &lt;span class=&quot;attr&quot;&gt;android:repeatMode&lt;/span&gt;=&lt;span class=&quot;string&quot;&gt;&amp;quot;[restart|reverse]&amp;quot;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;tag&quot;&gt;        &lt;span class=&quot;attr&quot;&gt;android:startOffset&lt;/span&gt;=&lt;span class=&quot;string&quot;&gt;&amp;quot;int&amp;quot;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;tag&quot;&gt;        &lt;span class=&quot;attr&quot;&gt;android:valueType&lt;/span&gt;=&lt;span class=&quot;string&quot;&gt;[&lt;/span&gt;&amp;quot;&lt;span class=&quot;attr&quot;&gt;intType&lt;/span&gt;&amp;quot;|&amp;quot;&lt;span class=&quot;attr&quot;&gt;floatType&lt;/span&gt;&amp;quot;]/&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;   ...&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;tag&quot;&gt;&amp;lt;/&lt;span class=&quot;name&quot;&gt;set&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;&amp;#x4F7F;&amp;#x7528;Demo&amp;#xFF1A;&lt;br&gt;&lt;figure class=&quot;highlight java&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;AnimatorSet set = (AnimatorSet) AnimatorInflater.loadAnimator(myContext,R.anim.property_animator);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;set.setTarget(myObject);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;set.start();&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;h2 id=&quot;&amp;#x7CFB;&amp;#x7EDF;&amp;#x63D0;&amp;#x4F9B;&amp;#x7684;&amp;#x5E94;&amp;#x7528;&amp;#x573A;&amp;#x666F;&quot;&gt;&lt;a href=&quot;#&amp;#x7CFB;&amp;#x7EDF;&amp;#x63D0;&amp;#x4F9B;&amp;#x7684;&amp;#x5E94;&amp;#x7528;&amp;#x573A;&amp;#x666F;&quot; class=&quot;headerlink&quot; title=&quot;&amp;#x7CFB;&amp;#x7EDF;&amp;#x63D0;&amp;#x4F9B;&amp;#x7684;&amp;#x5E94;&amp;#x7528;&amp;#x573A;&amp;#x666F;&quot;&gt;&lt;/a&gt;&amp;#x7CFB;&amp;#x7EDF;&amp;#x63D0;&amp;#x4F9B;&amp;#x7684;&amp;#x5E94;&amp;#x7528;&amp;#x573A;&amp;#x666F;&lt;/h2&gt;&lt;h3 id=&quot;activity&amp;#x5207;&amp;#x6362;&amp;#x52A8;&amp;#x753B;&quot;&gt;&lt;a href=&quot;#Activity&amp;#x5207;&amp;#x6362;&amp;#x52A8;&amp;#x753B;&quot; class=&quot;headerlink&quot; title=&quot;Activity&amp;#x5207;&amp;#x6362;&amp;#x52A8;&amp;#x753B;&quot;&gt;&lt;/a&gt;Activity&amp;#x5207;&amp;#x6362;&amp;#x52A8;&amp;#x753B;&lt;/h3&gt;&lt;p&gt;&lt;strong&gt;0.&lt;/strong&gt; public void overridePendingTransition (int enterAnim, int exitAnim)&amp;#xFF0C;&amp;#x5FC5;&amp;#x987B;&amp;#x5728;startActivity(Intent intent)&amp;#x548C;finish()&amp;#x4E4B;&amp;#x540E;&amp;#x8C03;&amp;#x7528;&amp;#x624D;&amp;#x751F;&amp;#x6548;&amp;#x3002;&lt;br&gt;&lt;strong&gt;1.&lt;/strong&gt; &amp;#x5B9A;&amp;#x4E49;&amp;#x5728;XML&amp;#x4E2D;&amp;#xFF0C;&amp;#x901A;&amp;#x8FC7;&amp;#x4E3B;&amp;#x9898;windowAnimationStyle&amp;#x5C5E;&amp;#x6027;&amp;#x8FDB;&amp;#x884C;&amp;#x5B9A;&amp;#x4E49;&amp;#xFF0C;&amp;#x6CE8;&amp;#x610F;&amp;#x662F;Tween Animation&amp;#xFF0C;&amp;#x5176;Demo&amp;#x5982;&amp;#x4E0B;&amp;#xFF1A;&lt;br&gt;&lt;figure class=&quot;highlight xml&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;10&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;tag&quot;&gt;&amp;lt;&lt;span class=&quot;name&quot;&gt;style&lt;/span&gt; &lt;span class=&quot;attr&quot;&gt;name&lt;/span&gt;=&lt;span class=&quot;string&quot;&gt;&amp;quot;AnimActivityTheme&amp;quot;&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;span class=&quot;undefined&quot;&gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;xml&quot;&gt;    &lt;span class=&quot;tag&quot;&gt;&amp;lt;&lt;span class=&quot;name&quot;&gt;item&lt;/span&gt; &lt;span class=&quot;attr&quot;&gt;name&lt;/span&gt;=&lt;span class=&quot;string&quot;&gt;&amp;quot;android:windowAnimationStyle&amp;quot;&lt;/span&gt;&amp;gt;&lt;/span&gt;@style/FeelyouWindowAnimTheme&lt;span class=&quot;tag&quot;&gt;&amp;lt;/&lt;span class=&quot;name&quot;&gt;item&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;undefined&quot;&gt;&lt;/span&gt;&lt;span class=&quot;tag&quot;&gt;&amp;lt;/&lt;span class=&quot;name&quot;&gt;style&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;tag&quot;&gt;&amp;lt;&lt;span class=&quot;name&quot;&gt;style&lt;/span&gt; &lt;span class=&quot;attr&quot;&gt;name&lt;/span&gt;=&lt;span class=&quot;string&quot;&gt;&amp;quot;FeelyouWindowAnimTheme&amp;quot;&lt;/span&gt; &lt;span class=&quot;attr&quot;&gt;parent&lt;/span&gt;=&lt;span class=&quot;string&quot;&gt;&amp;quot;@android:style/Animation.Activity&amp;quot;&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;span class=&quot;undefined&quot;&gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;xml&quot;&gt;    &lt;span class=&quot;tag&quot;&gt;&amp;lt;&lt;span class=&quot;name&quot;&gt;item&lt;/span&gt; &lt;span class=&quot;attr&quot;&gt;name&lt;/span&gt;=&lt;span class=&quot;string&quot;&gt;&amp;quot;android:activityOpenEnterAnimation&amp;quot;&lt;/span&gt;&amp;gt;&lt;/span&gt;@anim/in_from_left&lt;span class=&quot;tag&quot;&gt;&amp;lt;/&lt;span class=&quot;name&quot;&gt;item&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;xml&quot;&gt;    &lt;span class=&quot;tag&quot;&gt;&amp;lt;&lt;span class=&quot;name&quot;&gt;item&lt;/span&gt; &lt;span class=&quot;attr&quot;&gt;name&lt;/span&gt;=&lt;span class=&quot;string&quot;&gt;&amp;quot;android:activityOpenExitAnimation&amp;quot;&lt;/span&gt;&amp;gt;&lt;/span&gt;@anim/out_from_right&lt;span class=&quot;tag&quot;&gt;&amp;lt;/&lt;span class=&quot;name&quot;&gt;item&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;xml&quot;&gt;    &lt;span class=&quot;tag&quot;&gt;&amp;lt;&lt;span class=&quot;name&quot;&gt;item&lt;/span&gt; &lt;span class=&quot;attr&quot;&gt;name&lt;/span&gt;=&lt;span class=&quot;string&quot;&gt;&amp;quot;android:activityCloseEnterAnimation&amp;quot;&lt;/span&gt;&amp;gt;&lt;/span&gt;@anim/in_from_right&lt;span class=&quot;tag&quot;&gt;&amp;lt;/&lt;span class=&quot;name&quot;&gt;item&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;xml&quot;&gt;    &lt;span class=&quot;tag&quot;&gt;&amp;lt;&lt;span class=&quot;name&quot;&gt;item&lt;/span&gt; &lt;span class=&quot;attr&quot;&gt;name&lt;/span&gt;=&lt;span class=&quot;string&quot;&gt;&amp;quot;android:activityCloseExitAnimation&amp;quot;&lt;/span&gt;&amp;gt;&lt;/span&gt;@anim/out_from_left&lt;span class=&quot;tag&quot;&gt;&amp;lt;/&lt;span class=&quot;name&quot;&gt;item&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;undefined&quot;&gt;&lt;/span&gt;&lt;span class=&quot;tag&quot;&gt;&amp;lt;/&lt;span class=&quot;name&quot;&gt;style&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;h3 id=&quot;fragment&amp;#x5207;&amp;#x6362;&amp;#x52A8;&amp;#x753B;&quot;&gt;&lt;a href=&quot;#Fragment&amp;#x5207;&amp;#x6362;&amp;#x52A8;&amp;#x753B;&quot; class=&quot;headerlink&quot; title=&quot;Fragment&amp;#x5207;&amp;#x6362;&amp;#x52A8;&amp;#x753B;&quot;&gt;&lt;/a&gt;Fragment&amp;#x5207;&amp;#x6362;&amp;#x52A8;&amp;#x753B;&lt;/h3&gt;&lt;p&gt;&amp;#x73B0;&amp;#x5728;App&amp;#x57FA;&amp;#x672C;&amp;#x4E0A;&amp;#x90FD;&amp;#x662F;&amp;#x652F;&amp;#x6301;API 11&amp;#x4EE5;&amp;#x4E0A;&amp;#xFF0C;&amp;#x6240;&amp;#x4EE5;&amp;#x8FD9;&amp;#x91CC;Fragment&amp;#x6307;android.app.Fragment&amp;#xFF0C;&amp;#x4F7F;&amp;#x7528;&amp;#x5C5E;&amp;#x6027;&amp;#x52A8;&amp;#x753B;&amp;#x3002;&lt;br&gt;&lt;strong&gt;0.&lt;/strong&gt; Fragment&amp;#x6807;&amp;#x51C6;&amp;#x5207;&amp;#x6362;&amp;#x52A8;&amp;#x753B;&amp;#x53EF;&amp;#x901A;&amp;#x8FC7;FragmentTransaction.setTransition()&amp;#x5B9E;&amp;#x73B0;&amp;#xFF0C;&amp;#x5176;&amp;#x53C2;&amp;#x6570;&amp;#x53D6;&amp;#x503C;&amp;#x5982;&amp;#x4E0B;&amp;#xFF1A;&lt;/p&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th style=&quot;text-align:left&quot;&gt;&amp;#x53C2;&amp;#x6570;&lt;/th&gt;
&lt;th style=&quot;text-align:left&quot;&gt;&amp;#x610F;&amp;#x4E49;&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td style=&quot;text-align:left&quot;&gt;TRANSIT_NONE&lt;/td&gt;
&lt;td style=&quot;text-align:left&quot;&gt;&amp;#x65E0;&amp;#x52A8;&amp;#x753B;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&quot;text-align:left&quot;&gt;TRANSIT_FRAGMENT_OPEN&lt;/td&gt;
&lt;td style=&quot;text-align:left&quot;&gt;&amp;#x52A8;&amp;#x753B;&amp;#x6253;&amp;#x5F00;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&quot;text-align:left&quot;&gt;TRANSIT_FRAGMENT_CLOSE&lt;/td&gt;
&lt;td style=&quot;text-align:left&quot;&gt;&amp;#x52A8;&amp;#x753B;&amp;#x5173;&amp;#x95ED;&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;p&gt;&lt;strong&gt;1.&lt;/strong&gt; &amp;#x81EA;&amp;#x5B9A;&amp;#x4E49;&amp;#x52A8;&amp;#x753B;&amp;#x4F7F;&amp;#x7528;setCustomAnimations(int enter, int exit, int popEnter, int popExit)&amp;#x65B9;&amp;#x6CD5;&amp;#xFF0C;API 11&amp;#x65F6;&amp;#x8BE5;&amp;#x65B9;&amp;#x6CD5;&amp;#x53EA;&amp;#x6709;&amp;#x524D;&amp;#x4E24;&amp;#x4E2A;&amp;#x53C2;&amp;#x6570;&amp;#xFF0C;API 13&amp;#x540E;&amp;#x624D;&amp;#x5F15;&amp;#x5165;&amp;#x540E;&amp;#x4E24;&amp;#x4E2A;&amp;#x53C2;&amp;#x6570;&amp;#xFF0C;&amp;#x6807;&amp;#x8BC6;Fragment&amp;#x8FDB;&amp;#x6808;&amp;#x548C;&amp;#x51FA;&amp;#x6808;&amp;#x52A8;&amp;#x753B;&amp;#x3002;&amp;#x8BE5;&amp;#x65B9;&amp;#x6CD5;&amp;#x8C03;&amp;#x7528;&amp;#x987B;&amp;#x5728;add()&amp;#x3001;remove()&amp;#x3001;replace()&amp;#x8C03;&amp;#x7528;&amp;#x4E4B;&amp;#x524D;&amp;#xFF0C;&amp;#x5426;&amp;#x5219;&amp;#x4E0D;&amp;#x751F;&amp;#x6548;&amp;#x3002;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;2.&lt;/strong&gt; &amp;#x53EF;&amp;#x4EE5;&amp;#x4F7F;&amp;#x7528;ViewAnimator&amp;#x53CA;&amp;#x5176;&amp;#x5B50;&amp;#x7C7B;&amp;#x5B9E;&amp;#x73B0;Fragment&amp;#x52A8;&amp;#x753B;&amp;#x5207;&amp;#x6362;&amp;#xFF0C;&amp;#x540C;&amp;#x6837;&amp;#x9488;&amp;#x5BF9;ViewGroup&amp;#x548C;View&amp;#x5207;&amp;#x6362;&amp;#x52A8;&amp;#x753B;&amp;#x4E5F;&amp;#x53EF;&amp;#x4F7F;&amp;#x7528;&amp;#x3002;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;3.&lt;/strong&gt; ViewPager&amp;#x63D0;&amp;#x4F9B;&amp;#x81EA;&amp;#x5B9A;&amp;#x4E49;View&amp;#x4E4B;&amp;#x95F4;&amp;#x8F6C;&amp;#x6362;&amp;#x52A8;&amp;#x753B;&amp;#x529F;&amp;#x80FD;&amp;#xFF0C;&amp;#x4F7F;&amp;#x7528;ViewPager.setPageTransformer()&amp;#x65B9;&amp;#x6CD5;&amp;#xFF0C;&amp;#x53C2;&amp;#x8003;&amp;#x5B98;&amp;#x7F51;Demo&amp;#xFF1A;&lt;br&gt;&lt;figure class=&quot;highlight java&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;12&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;13&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;14&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;15&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;16&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;17&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;18&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;19&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;20&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;21&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;22&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;23&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;24&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;25&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;26&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;27&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;28&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;29&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;30&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;31&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;32&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;33&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;34&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;35&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;36&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;37&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;38&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;39&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;40&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;41&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;42&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;ViewPager mPager = (ViewPager) findViewById(R.id.pager);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;...&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;mPager.setPageTransformer(&lt;span class=&quot;keyword&quot;&gt;true&lt;/span&gt;, &lt;span class=&quot;keyword&quot;&gt;new&lt;/span&gt; ZoomOutPageTransformer());&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;class&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;ZoomOutPageTransformer&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;implements&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;ViewPager&lt;/span&gt;.&lt;span class=&quot;title&quot;&gt;PageTransformer&lt;/span&gt; &lt;/span&gt;{&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;private&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;static&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;final&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;float&lt;/span&gt; MIN_SCALE = &lt;span class=&quot;number&quot;&gt;0.85f&lt;/span&gt;;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;private&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;static&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;final&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;float&lt;/span&gt; MIN_ALPHA = &lt;span class=&quot;number&quot;&gt;0.5f&lt;/span&gt;;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;transformPage&lt;/span&gt;&lt;span class=&quot;params&quot;&gt;(View view, &lt;span class=&quot;keyword&quot;&gt;float&lt;/span&gt; position)&lt;/span&gt; &lt;/span&gt;{&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &lt;span class=&quot;keyword&quot;&gt;int&lt;/span&gt; pageWidth = view.getWidth();&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &lt;span class=&quot;keyword&quot;&gt;int&lt;/span&gt; pageHeight = view.getHeight();&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &lt;span class=&quot;keyword&quot;&gt;if&lt;/span&gt; (position &amp;lt; -&lt;span class=&quot;number&quot;&gt;1&lt;/span&gt;) { &lt;span class=&quot;comment&quot;&gt;// [-Infinity,-1)&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;            &lt;span class=&quot;comment&quot;&gt;// This page is way off-screen to the left.&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;            view.setAlpha(&lt;span class=&quot;number&quot;&gt;0&lt;/span&gt;);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        } &lt;span class=&quot;keyword&quot;&gt;else&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;if&lt;/span&gt; (position &amp;lt;= &lt;span class=&quot;number&quot;&gt;1&lt;/span&gt;) { &lt;span class=&quot;comment&quot;&gt;// [-1,1]&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;            &lt;span class=&quot;comment&quot;&gt;// Modify the default slide transition to shrink the page as well&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;            &lt;span class=&quot;keyword&quot;&gt;float&lt;/span&gt; scaleFactor = Math.max(MIN_SCALE, &lt;span class=&quot;number&quot;&gt;1&lt;/span&gt; - Math.abs(position));&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;            &lt;span class=&quot;keyword&quot;&gt;float&lt;/span&gt; vertMargin = pageHeight * (&lt;span class=&quot;number&quot;&gt;1&lt;/span&gt; - scaleFactor) / &lt;span class=&quot;number&quot;&gt;2&lt;/span&gt;;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;            &lt;span class=&quot;keyword&quot;&gt;float&lt;/span&gt; horzMargin = pageWidth * (&lt;span class=&quot;number&quot;&gt;1&lt;/span&gt; - scaleFactor) / &lt;span class=&quot;number&quot;&gt;2&lt;/span&gt;;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;            &lt;span class=&quot;keyword&quot;&gt;if&lt;/span&gt; (position &amp;lt; &lt;span class=&quot;number&quot;&gt;0&lt;/span&gt;) {&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;                view.setTranslationX(horzMargin - vertMargin / &lt;span class=&quot;number&quot;&gt;2&lt;/span&gt;);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;            } &lt;span class=&quot;keyword&quot;&gt;else&lt;/span&gt; {&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;                view.setTranslationX(-horzMargin + vertMargin / &lt;span class=&quot;number&quot;&gt;2&lt;/span&gt;);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;            }&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;            &lt;span class=&quot;comment&quot;&gt;// Scale the page down (between MIN_SCALE and 1)&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;            view.setScaleX(scaleFactor);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;            view.setScaleY(scaleFactor);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;            &lt;span class=&quot;comment&quot;&gt;// Fade the page relative to its size.&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;            view.setAlpha(MIN_ALPHA +&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;                    (scaleFactor - MIN_SCALE) /&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;                    (&lt;span class=&quot;number&quot;&gt;1&lt;/span&gt; - MIN_SCALE) * (&lt;span class=&quot;number&quot;&gt;1&lt;/span&gt; - MIN_ALPHA));&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        } &lt;span class=&quot;keyword&quot;&gt;else&lt;/span&gt; { &lt;span class=&quot;comment&quot;&gt;// (1,+Infinity]&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;            &lt;span class=&quot;comment&quot;&gt;// This page is way off-screen to the right.&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;            view.setAlpha(&lt;span class=&quot;number&quot;&gt;0&lt;/span&gt;);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        }&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    }&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;}&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;h3 id=&quot;layout-changes-animation&quot;&gt;&lt;a href=&quot;#Layout-Changes-Animation&quot; class=&quot;headerlink&quot; title=&quot;Layout Changes Animation&quot;&gt;&lt;/a&gt;Layout Changes Animation&lt;/h3&gt;&lt;p&gt;&lt;strong&gt;0.&lt;/strong&gt; &amp;#x5B98;&amp;#x65B9;&amp;#x5EFA;&amp;#x8BAE;API&amp;gt;=14&amp;#x65F6;&amp;#x53EF;&amp;#x4EE5;&amp;#x4F7F;&amp;#x7528;&lt;code&gt;android:animateLayoutChanges=&amp;quot;true&amp;quot;&lt;/code&gt;&amp;#x5F00;&amp;#x542F;&amp;#x9ED8;&amp;#x8BA4;&amp;#x52A8;&amp;#x753B;&amp;#xFF1A;&amp;#x589E;&amp;#x52A0;&amp;#x6216;&amp;#x8005;&amp;#x5220;&amp;#x9664;View&amp;#x65F6;&amp;#x4F1A;&amp;#x4EA7;&amp;#x751F;&amp;#x52A8;&amp;#x753B;&amp;#xFF1B;&amp;#x8FD8;&amp;#x53EF;&amp;#x4EE5;&amp;#x901A;&amp;#x8FC7;LayoutTransition&amp;#x8FDB;&amp;#x884C;&amp;#x81EA;&amp;#x5B9A;&amp;#x4E49;&amp;#x52A8;&amp;#x753B;&amp;#xFF0C;&amp;#x5176;&amp;#x5B9E;API 11&amp;#x5DF2;&amp;#x7ECF;&amp;#x5F15;&amp;#x5165;&amp;#x8BE5;API&amp;#x4E86;&amp;#x3002;&amp;#x800C;ViewGroup.setLayoutAnimation()&amp;#x65B9;&amp;#x6CD5;&amp;#x53EA;&amp;#x662F;&amp;#x8BBE;&amp;#x7F6E;View&amp;#x7B2C;&amp;#x4E00;&amp;#x6B21;layout&amp;#x65F6;&amp;#x7684;&amp;#x52A8;&amp;#x753B;&amp;#xFF0C;API 1&amp;#x5C31;&amp;#x5B58;&amp;#x5728;&amp;#x8BE5;&amp;#x65B9;&amp;#x6CD5;&amp;#x3002;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;1.&lt;/strong&gt; API&amp;gt;=19&amp;#x65F6;&amp;#x5EFA;&amp;#x8BAE;&amp;#x4F7F;&amp;#x7528;Transitions Framework&amp;#x5B9E;&amp;#x73B0;&amp;#xFF0C;&amp;#x6709;&amp;#x4EE5;&amp;#x4E0B;&amp;#x6CE8;&amp;#x610F;&amp;#x4E8B;&amp;#x9879;&amp;#xFF1A;&lt;br&gt;a) SurfaceView&amp;#x3001;TextureView&amp;#x548C;AdapterView&amp;#x4E0D;&amp;#x5EFA;&amp;#x8BAE;&amp;#x4F7F;&amp;#x7528;&lt;br&gt;b) &amp;#x542B;&amp;#x6709;text&amp;#x7684;View&amp;#x4E0D;&amp;#x5EFA;&amp;#x8BAE;&amp;#x6267;&amp;#x884C;resize&amp;#x52A8;&amp;#x753B;  &lt;/p&gt;
&lt;p&gt;####Scene&amp;#x6982;&amp;#x5FF5;&amp;#xFF1A;&lt;br&gt;&amp;#x4FDD;&amp;#x5B58;View hierarchy&amp;#x7684;&amp;#x72B6;&amp;#x6001;&amp;#xFF0C;&amp;#x901A;&amp;#x8FC7;Scene.getSceneForLayout()&amp;#x83B7;&amp;#x5F97;&amp;#x5BF9;&amp;#x8C61;&amp;#xFF0C;&amp;#x5176;&amp;#x4E2D;scene root&amp;#x5FC5;&amp;#x987B;&amp;#x662F;ViewGroup&amp;#x3002;  &lt;/p&gt;
&lt;p&gt;####Transition&amp;#x6982;&amp;#x5FF5;&amp;#xFF1A;&lt;br&gt;&amp;#x5B9A;&amp;#x4E49;start scene&amp;#x5230;end scene&amp;#x4E4B;&amp;#x95F4;&amp;#x7684;&amp;#x8F6C;&amp;#x5316;&amp;#x52A8;&amp;#x753B;&amp;#xFF0C;&amp;#x7CFB;&amp;#x7EDF;&amp;#x63D0;&amp;#x4F9B;&amp;#x5185;&amp;#x7F6E;&amp;#x4E09;&amp;#x79CD;&amp;#x7C7B;&amp;#x578B;&amp;#x5982;&amp;#x4E0B;&amp;#xFF1A;&lt;/p&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th style=&quot;text-align:left&quot;&gt;Class&lt;/th&gt;
&lt;th style=&quot;text-align:left&quot;&gt;Tag&lt;/th&gt;
&lt;th style=&quot;text-align:left&quot;&gt;Attributes&lt;/th&gt;
&lt;th style=&quot;text-align:left&quot;&gt;Effect&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td style=&quot;text-align:left&quot;&gt;AutoTransition&lt;/td&gt;
&lt;td style=&quot;text-align:left&quot;&gt;&lt;code&gt;&amp;lt;autoTransition/&amp;gt;&lt;/code&gt;&lt;/td&gt;
&lt;td style=&quot;text-align:left&quot;&gt;&amp;#x65E0;&lt;/td&gt;
&lt;td style=&quot;text-align:left&quot;&gt;&amp;#x9ED8;&amp;#x8BA4;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&quot;text-align:left&quot;&gt;Fade&lt;/td&gt;
&lt;td style=&quot;text-align:left&quot;&gt;&lt;code&gt;&amp;lt;fade/&amp;gt;&lt;/code&gt;&lt;/td&gt;
&lt;td style=&quot;text-align:left&quot;&gt;android:fadingMode=&amp;#x201D;[fade_in | fade_out | fade_in_out]&amp;#x201D;&lt;/td&gt;
&lt;td style=&quot;text-align:left&quot;&gt;&amp;#x9ED8;&amp;#x8BA4;fade_in_out&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&quot;text-align:left&quot;&gt;ChangeBounds&lt;/td&gt;
&lt;td style=&quot;text-align:left&quot;&gt;&lt;code&gt;&amp;lt;changeBounds/&amp;gt;&lt;/code&gt;&lt;/td&gt;
&lt;td style=&quot;text-align:left&quot;&gt;&amp;#x65E0;&lt;/td&gt;
&lt;td style=&quot;text-align:left&quot;&gt;Moves and resizes views&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;p&gt;&amp;#x53EF;&amp;#x4EE5;&amp;#x901A;&amp;#x8FC7;XMl&amp;#x6216;&amp;#x8005;&amp;#x4EE3;&amp;#x7801;&amp;#x6784;&amp;#x5EFA;&amp;#x5B9E;&amp;#x4F8B;&amp;#xFF0C;xml&amp;#x7684;demo&amp;#x5982;&amp;#x4E0B;&amp;#xFF1A;&lt;br&gt;res/transition/fade_transition.xml&lt;br&gt;&lt;figure class=&quot;highlight xml&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;tag&quot;&gt;&amp;lt;&lt;span class=&quot;name&quot;&gt;fade&lt;/span&gt; &lt;span class=&quot;attr&quot;&gt;xmlns:android&lt;/span&gt;=&lt;span class=&quot;string&quot;&gt;&amp;quot;http://schemas.android.com/apk/res/android&amp;quot;&lt;/span&gt; /&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;The following code snippet shows how to inflate a Transition instance inside your activity from a resource file:&lt;br&gt;&lt;figure class=&quot;highlight java&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;Transition mFadeTransition =&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        TransitionInflater.from(&lt;span class=&quot;keyword&quot;&gt;this&lt;/span&gt;).&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        inflateTransition(R.transition.fade_transition);&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;&amp;#x4E0A;&amp;#x8FF0;&amp;#x4F7F;&amp;#x7528;&amp;#x4EE3;&amp;#x7801;&amp;#x5B9E;&amp;#x73B0;&amp;#x7684;Demo&amp;#x5982;&amp;#x4E0B;&amp;#xFF1A;&lt;br&gt;&lt;figure class=&quot;highlight java&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;Transition mFadeTransition = &lt;span class=&quot;keyword&quot;&gt;new&lt;/span&gt; Fade();&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;&amp;#x4F7F;&amp;#x7528;&amp;#x65F6;:&lt;br&gt;&lt;figure class=&quot;highlight java&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;TransitionManager.go(mEndingScene, mFadeTransition);&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;&amp;#x901A;&amp;#x8FC7;removeTarget()&amp;#x3001;addTarget()&amp;#x65B9;&amp;#x6CD5;&amp;#x53EF;&amp;#x4EE5;&amp;#x6307;&amp;#x5B9A;&amp;#x52A8;&amp;#x753B;&amp;#x76EE;&amp;#x6807;&amp;#xFF1B;&amp;#x540C;&amp;#x65F6;&amp;#x63D0;&amp;#x4F9B;Transition.TransitionListener&amp;#x76D1;&amp;#x542C;&amp;#x52A8;&amp;#x753B;&amp;#x8FC7;&amp;#x7A0B;&amp;#x3002;&amp;#x5982;&amp;#x679C;&amp;#x9700;&amp;#x8981;&amp;#x7EC4;&amp;#x5408;&amp;#x5219;&amp;#x4F7F;&amp;#x7528;TransitionSet&amp;#xFF0C;&amp;#x5176;xml&amp;#x4F4D;&amp;#x4E8E;&lt;code&gt;res/transitions/&lt;/code&gt;&amp;#x4E0B;&amp;#xFF0C;&amp;#x4F7F;&amp;#x7528;TransitionInflater.from()&amp;#x8BFB;&amp;#x53D6;&amp;#x914D;&amp;#x7F6E;&amp;#x6587;&amp;#x4EF6;&amp;#xFF0C;&amp;#x4EE5;&amp;#x4E0B;Demo&amp;#x5B9E;&amp;#x73B0;AutoTransition&amp;#x7684;&amp;#x6548;&amp;#x679C;:&lt;br&gt;&lt;figure class=&quot;highlight xml&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;tag&quot;&gt;&amp;lt;&lt;span class=&quot;name&quot;&gt;transitionSet&lt;/span&gt; &lt;span class=&quot;attr&quot;&gt;xmlns:android&lt;/span&gt;=&lt;span class=&quot;string&quot;&gt;&amp;quot;http://schemas.android.com/apk/res/android&amp;quot;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;tag&quot;&gt;    &lt;span class=&quot;attr&quot;&gt;android:transitionOrdering&lt;/span&gt;=&lt;span class=&quot;string&quot;&gt;&amp;quot;sequential&amp;quot;&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;tag&quot;&gt;&amp;lt;&lt;span class=&quot;name&quot;&gt;fade&lt;/span&gt; &lt;span class=&quot;attr&quot;&gt;android:fadingMode&lt;/span&gt;=&lt;span class=&quot;string&quot;&gt;&amp;quot;fade_out&amp;quot;&lt;/span&gt; /&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;tag&quot;&gt;&amp;lt;&lt;span class=&quot;name&quot;&gt;changeBounds&lt;/span&gt; /&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;tag&quot;&gt;&amp;lt;&lt;span class=&quot;name&quot;&gt;fade&lt;/span&gt; &lt;span class=&quot;attr&quot;&gt;android:fadingMode&lt;/span&gt;=&lt;span class=&quot;string&quot;&gt;&amp;quot;fade_in&amp;quot;&lt;/span&gt; /&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;tag&quot;&gt;&amp;lt;/&lt;span class=&quot;name&quot;&gt;transitionSet&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;&amp;#x53EF;&amp;#x4EE5;&amp;#x4F7F;&amp;#x7528; TransitionManager.beginDelayedTransition() &amp;#x66FF;&amp;#x4EE3;Scene  &lt;/p&gt;
&lt;p&gt;&amp;#x81EA;&amp;#x5B9A;&amp;#x4E49;Transitions&amp;#xFF1A;&lt;br&gt;&lt;figure class=&quot;highlight java&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;12&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;13&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;class&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;CustomTransition&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;extends&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;Transition&lt;/span&gt; &lt;/span&gt;{&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;meta&quot;&gt;@Override&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;captureStartValues&lt;/span&gt;&lt;span class=&quot;params&quot;&gt;(TransitionValues values)&lt;/span&gt; &lt;/span&gt;{}&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;meta&quot;&gt;@Override&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;captureEndValues&lt;/span&gt;&lt;span class=&quot;params&quot;&gt;(TransitionValues values)&lt;/span&gt; &lt;/span&gt;{}&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;meta&quot;&gt;@Override&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;public&lt;/span&gt; Animator &lt;span class=&quot;title&quot;&gt;createAnimator&lt;/span&gt;&lt;span class=&quot;params&quot;&gt;(ViewGroup sceneRoot,&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;params&quot;&gt;                                   TransitionValues startValues,&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;params&quot;&gt;                                   TransitionValues endValues)&lt;/span&gt; &lt;/span&gt;{}&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;}&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;&amp;#x5176;&amp;#x4E2D;&amp;#xFF0C;captureStartValues()&amp;#x548C;captureEndValues()&amp;#x9700;&amp;#x8981;&amp;#x628A;&amp;#x5C5E;&amp;#x6027;&amp;#x4FDD;&amp;#x5B58;&amp;#x5728;values&amp;#x4E2D;&amp;#xFF0C;values&amp;#x672C;&amp;#x8D28;&amp;#x662F;Map&amp;#xFF0C;Key&amp;#x5EFA;&amp;#x8BAE;&amp;#x683C;&amp;#x5F0F;&amp;#x4E3A;&amp;#xFF1A;&lt;br&gt;&lt;figure class=&quot;highlight java&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;package_name:transition_name:property_name&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;createAnimator&amp;#x8FD4;&amp;#x56DE;&amp;#x6839;&amp;#x636E;startValues&amp;#x548C;endValues&amp;#x521B;&amp;#x5EFA;&amp;#x7684;&amp;#x5C5E;&amp;#x6027;&amp;#x52A8;&amp;#x753B;&amp;#x5BF9;&amp;#x8C61;&amp;#x3002;&amp;#x5B98;&amp;#x65B9;&amp;#x63D0;&amp;#x4F9B;&amp;#x7684;Demo&amp;#xFF1A;&lt;br&gt;&lt;figure class=&quot;highlight java&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;12&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;13&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;14&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;15&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;16&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;17&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;18&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;19&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;20&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;21&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;22&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;23&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;24&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;25&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;26&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;27&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;28&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;29&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;30&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;31&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;32&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;33&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;34&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;35&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;36&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;37&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;38&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;39&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;40&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;41&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;42&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;43&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;44&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;45&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;46&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;47&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;48&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;49&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;50&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;51&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;52&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;53&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;54&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;55&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;56&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;57&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;58&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;59&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;60&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;61&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;62&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;63&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;64&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;65&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;66&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;67&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;68&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;69&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;70&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;71&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;72&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;73&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;74&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;75&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;76&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;77&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;78&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;79&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;80&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;81&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;82&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;83&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;84&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;85&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;class&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;ChangeColor&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;extends&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;Transition&lt;/span&gt; &lt;/span&gt;{&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;comment&quot;&gt;/** Key to store a color value in TransitionValues object */&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;private&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;static&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;final&lt;/span&gt; String PROPNAME_BACKGROUND = &lt;span class=&quot;string&quot;&gt;&amp;quot;customtransition:change_color:background&amp;quot;&lt;/span&gt;;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;comment&quot;&gt;// BEGIN_INCLUDE (capture_values)&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;comment&quot;&gt;/**&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;     * Convenience method: Add the background Drawable property value&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;     * to the TransitionsValues.value Map for a target.&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;     */&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;private&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;captureValues&lt;/span&gt;&lt;span class=&quot;params&quot;&gt;(TransitionValues values)&lt;/span&gt; &lt;/span&gt;{&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &lt;span class=&quot;comment&quot;&gt;// Capture the property values of views for later use&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        values.values.put(PROPNAME_BACKGROUND, values.view.getBackground());&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    }&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;meta&quot;&gt;@Override&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;captureStartValues&lt;/span&gt;&lt;span class=&quot;params&quot;&gt;(TransitionValues transitionValues)&lt;/span&gt; &lt;/span&gt;{&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        captureValues(transitionValues);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    }&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;comment&quot;&gt;// Capture the value of the background drawable property for a target in the ending Scene.&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;meta&quot;&gt;@Override&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;captureEndValues&lt;/span&gt;&lt;span class=&quot;params&quot;&gt;(TransitionValues transitionValues)&lt;/span&gt; &lt;/span&gt;{&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        captureValues(transitionValues);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    }&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;comment&quot;&gt;// END_INCLUDE (capture_values)&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;comment&quot;&gt;// BEGIN_INCLUDE (create_animator)&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;comment&quot;&gt;// Create an animation for each target that is in both the starting and ending Scene. For each&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;comment&quot;&gt;// pair of targets, if their background property value is a color (rather than a graphic),&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;comment&quot;&gt;// create a ValueAnimator based on an ArgbEvaluator that interpolates between the starting and&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;comment&quot;&gt;// ending color. Also create an update listener that sets the View background color for each&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;comment&quot;&gt;// animation frame&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;meta&quot;&gt;@Override&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;public&lt;/span&gt; Animator &lt;span class=&quot;title&quot;&gt;createAnimator&lt;/span&gt;&lt;span class=&quot;params&quot;&gt;(ViewGroup sceneRoot,&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;params&quot;&gt;                                   TransitionValues startValues, TransitionValues endValues)&lt;/span&gt; &lt;/span&gt;{&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &lt;span class=&quot;comment&quot;&gt;// This transition can only be applied to views that are on both starting and ending scenes.&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &lt;span class=&quot;keyword&quot;&gt;if&lt;/span&gt; (&lt;span class=&quot;keyword&quot;&gt;null&lt;/span&gt; == startValues || &lt;span class=&quot;keyword&quot;&gt;null&lt;/span&gt; == endValues) {&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;            &lt;span class=&quot;keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;null&lt;/span&gt;;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        }&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &lt;span class=&quot;comment&quot;&gt;// Store a convenient reference to the target. Both the starting and ending layout have the&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &lt;span class=&quot;comment&quot;&gt;// same target.&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &lt;span class=&quot;keyword&quot;&gt;final&lt;/span&gt; View view = endValues.view;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &lt;span class=&quot;comment&quot;&gt;// Store the object containing the background property for both the starting and ending&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &lt;span class=&quot;comment&quot;&gt;// layouts.&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        Drawable startBackground = (Drawable) startValues.values.get(PROPNAME_BACKGROUND);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        Drawable endBackground = (Drawable) endValues.values.get(PROPNAME_BACKGROUND);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &lt;span class=&quot;comment&quot;&gt;// This transition changes background colors for a target. It doesn&amp;apos;t animate any other&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &lt;span class=&quot;comment&quot;&gt;// background changes. If the property isn&amp;apos;t a ColorDrawable, ignore the target.&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &lt;span class=&quot;keyword&quot;&gt;if&lt;/span&gt; (startBackground &lt;span class=&quot;keyword&quot;&gt;instanceof&lt;/span&gt; ColorDrawable &amp;amp;&amp;amp; endBackground &lt;span class=&quot;keyword&quot;&gt;instanceof&lt;/span&gt; ColorDrawable) {&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;            ColorDrawable startColor = (ColorDrawable) startBackground;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;            ColorDrawable endColor = (ColorDrawable) endBackground;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;            &lt;span class=&quot;comment&quot;&gt;// If the background color for the target in the starting and ending layouts is&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;            &lt;span class=&quot;comment&quot;&gt;// different, create an animation.&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;            &lt;span class=&quot;keyword&quot;&gt;if&lt;/span&gt; (startColor.getColor() != endColor.getColor()) {&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;                &lt;span class=&quot;comment&quot;&gt;// Create a new Animator object to apply to the targets as the transitions framework&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;                &lt;span class=&quot;comment&quot;&gt;// changes from the starting to the ending layout. Use the class ValueAnimator,&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;                &lt;span class=&quot;comment&quot;&gt;// which provides a timing pulse to change property values provided to it. The&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;                &lt;span class=&quot;comment&quot;&gt;// animation runs on the UI thread. The Evaluator controls what type of&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;                &lt;span class=&quot;comment&quot;&gt;// interpolation is done. In this case, an ArgbEvaluator interpolates between two&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;                &lt;span class=&quot;comment&quot;&gt;// #argb values, which are specified as the 2nd and 3rd input arguments.&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;                ValueAnimator animator = ValueAnimator.ofObject(&lt;span class=&quot;keyword&quot;&gt;new&lt;/span&gt; ArgbEvaluator(),&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;                        startColor.getColor(), endColor.getColor());&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;                &lt;span class=&quot;comment&quot;&gt;// Add an update listener to the Animator object.&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;                animator.addUpdateListener(&lt;span class=&quot;keyword&quot;&gt;new&lt;/span&gt; ValueAnimator.AnimatorUpdateListener() {&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;                    &lt;span class=&quot;meta&quot;&gt;@Override&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;                    &lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;onAnimationUpdate&lt;/span&gt;&lt;span class=&quot;params&quot;&gt;(ValueAnimator animation)&lt;/span&gt; &lt;/span&gt;{&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;                        Object value = animation.getAnimatedValue();&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;                        &lt;span class=&quot;comment&quot;&gt;// Each time the ValueAnimator produces a new frame in the animation, change&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;                        &lt;span class=&quot;comment&quot;&gt;// the background color of the target. Ensure that the value isn&amp;apos;t null.&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;                        &lt;span class=&quot;keyword&quot;&gt;if&lt;/span&gt; (&lt;span class=&quot;keyword&quot;&gt;null&lt;/span&gt; != value) {&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;                            view.setBackgroundColor((Integer) value);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;                        }&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;                    }&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;                });&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;                &lt;span class=&quot;comment&quot;&gt;// Return the Animator object to the transitions framework. As the framework changes&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;                &lt;span class=&quot;comment&quot;&gt;// between the starting and ending layouts, it applies the animation you&amp;apos;ve created.&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;                &lt;span class=&quot;keyword&quot;&gt;return&lt;/span&gt; animator;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;            }&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        }&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &lt;span class=&quot;comment&quot;&gt;// For non-ColorDrawable backgrounds, we just return null, and no animation will take place.&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &lt;span class=&quot;keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;null&lt;/span&gt;;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    }&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;comment&quot;&gt;// END_INCLUDE (create_animator)&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;}&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;h3 id=&quot;&amp;#x4F7F;&amp;#x7528;svg&amp;#x52A8;&amp;#x753B;&quot;&gt;&lt;a href=&quot;#&amp;#x4F7F;&amp;#x7528;SVG&amp;#x52A8;&amp;#x753B;&quot; class=&quot;headerlink&quot; title=&quot;&amp;#x4F7F;&amp;#x7528;SVG&amp;#x52A8;&amp;#x753B;&quot;&gt;&lt;/a&gt;&amp;#x4F7F;&amp;#x7528;SVG&amp;#x52A8;&amp;#x753B;&lt;/h3&gt;&lt;p&gt;Google&amp;#x5B98;&amp;#x65B9;&amp;#x652F;&amp;#x6301;&amp;#x5305;&amp;#x4E2D;&amp;#x63D0;&amp;#x4F9B;&amp;#x4E86;AnimatedVectorDrawableCompat&amp;#x5BF9;svg&amp;#x52A8;&amp;#x753B;&amp;#x652F;&amp;#x6301;&amp;#xFF0C;&amp;#x5411;&amp;#x4E0B;&amp;#x517C;&amp;#x5BB9;&amp;#x81F3;API 11&amp;#xFF0C;&amp;#x5177;&amp;#x4F53;&amp;#x4F7F;&amp;#x7528;&amp;#x53C2;&amp;#x89C1;&amp;#x5B98;&amp;#x65B9;&lt;a href=&quot;https://developer.android.com/reference/android/graphics/drawable/AnimatedVectorDrawable.html&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;https://developer.android.com/reference/android/graphics/drawable/AnimatedVectorDrawable.html&lt;/a&gt;&amp;#x3002;&lt;/p&gt;
&lt;h2 id=&quot;&amp;#x53C2;&amp;#x8003;&quot;&gt;&lt;a href=&quot;#&amp;#x53C2;&amp;#x8003;&quot; class=&quot;headerlink&quot; title=&quot;&amp;#x53C2;&amp;#x8003;&quot;&gt;&lt;/a&gt;&amp;#x53C2;&amp;#x8003;&lt;/h2&gt;&lt;p&gt;[1] &lt;a href=&quot;https://developer.android.com/guide/topics/graphics/prop-animation.html&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;https://developer.android.com/guide/topics/graphics/prop-animation.html&lt;/a&gt;&lt;br&gt;[2] &lt;a href=&quot;https://developer.android.com/training/transitions/index.html&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;https://developer.android.com/training/transitions/index.html&lt;/a&gt;&lt;br&gt;[3] &lt;a href=&quot;https://developer.android.com/training/animation/index.html&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;https://developer.android.com/training/animation/index.html&lt;/a&gt;&lt;br&gt;[4] &amp;#x300A;Android&amp;#x5F00;&amp;#x53D1;&amp;#x827A;&amp;#x672F;&amp;#x63A2;&amp;#x7D22;&amp;#x300B; &amp;#x4EFB;&amp;#x7389;&amp;#x521A; &amp;#x8457;&lt;br&gt;[5] &amp;#x300A;Android&amp;#x7FA4;&amp;#x82F1;&amp;#x4F20;&amp;#x300B; &amp;#x5F90;&amp;#x5B9C;&amp;#x751F; &amp;#x8457;&lt;/p&gt;
</content>
    
    <summary type="html">
    
      &lt;!-- toc --&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;#view-animation&quot;&gt;View Animation&lt;/a&gt;&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;#1-tween-animation&quot;&gt;1. Tween Animation&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;#2-drawable-animation&quot;&gt;2. Drawable Animation&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;#property-animation&quot;&gt;Property Animation&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;#系统提供的应用场景&quot;&gt;系统提供的应用场景&lt;/a&gt;&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;#activity切换动画&quot;&gt;Activity切换动画&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;#fragment切换动画&quot;&gt;Fragment切换动画&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;#layout-changes-animation&quot;&gt;Layout Changes Animation&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;#使用svg动画&quot;&gt;使用SVG动画&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;#参考&quot;&gt;参考&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;!-- tocstop --&gt;
&lt;h2 id=&quot;View-Animation&quot;&gt;&lt;a href=&quot;#View-Animation&quot; class=&quot;headerlink&quot; title=&quot;View Animation&quot;&gt;&lt;/a&gt;View Animation&lt;/h2&gt;&lt;h3 id=&quot;1-Tween-Animation&quot;&gt;&lt;a href=&quot;#1-Tween-Animation&quot; class=&quot;headerlink&quot; title=&quot;1. Tween Animation&quot;&gt;&lt;/a&gt;1. Tween Animation&lt;/h3&gt;&lt;p&gt;针对View的动画，其相关类在&lt;code&gt;android.view.animation&lt;/code&gt;中，&lt;br&gt;由四种动画组成：平移动画、缩放动画、旋转动画和透明度动画，分别对应&lt;code&gt;Animation&lt;/code&gt;四个子类：&lt;/p&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th style=&quot;text-align:left&quot;&gt;名称&lt;/th&gt;
&lt;th style=&quot;text-align:left&quot;&gt;子类&lt;/th&gt;
&lt;th style=&quot;text-align:left&quot;&gt;标签&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td style=&quot;text-align:left&quot;&gt;平移动画&lt;/td&gt;
&lt;td style=&quot;text-align:left&quot;&gt;&lt;code&gt;&amp;lt;translate&amp;gt;&lt;/code&gt;&lt;/td&gt;
&lt;td style=&quot;text-align:left&quot;&gt;&lt;code&gt;TranslateAnimation&lt;/code&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&quot;text-align:left&quot;&gt;缩放动画&lt;/td&gt;
&lt;td style=&quot;text-align:left&quot;&gt;&lt;code&gt;&amp;lt;scale&amp;gt;&lt;/code&gt;&lt;/td&gt;
&lt;td style=&quot;text-align:left&quot;&gt;&lt;code&gt;ScaleAnimation&lt;/code&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&quot;text-align:left&quot;&gt;旋转动画&lt;/td&gt;
&lt;td style=&quot;text-align:left&quot;&gt;&lt;code&gt;&amp;lt;rotate&amp;gt;&lt;/code&gt;&lt;/td&gt;
&lt;td style=&quot;text-align:left&quot;&gt;&lt;code&gt;RotateAnimation&lt;/code&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&quot;text-align:left&quot;&gt;透明度动画&lt;/td&gt;
&lt;td style=&quot;text-align:left&quot;&gt;&lt;code&gt;&amp;lt;alpha&amp;gt;&lt;/code&gt;&lt;/td&gt;
&lt;td style=&quot;text-align:left&quot;&gt;&lt;code&gt;AlphaAnimation&lt;/code&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
    
    </summary>
    
      <category term="Android学习笔记" scheme="http://yoursite.com/categories/Android%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/"/>
    
    
      <category term="Android" scheme="http://yoursite.com/tags/Android/"/>
    
  </entry>
  
  <entry>
    <title>Android关于Touch事件的相关研究</title>
    <link href="http://yoursite.com/2016/08/08/android-touch-research/"/>
    <id>http://yoursite.com/2016/08/08/android-touch-research/</id>
    <published>2016-08-08T01:57:27.000Z</published>
    <updated>2016-08-08T02:00:19.000Z</updated>
    
    <content type="html">&lt;!-- toc --&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;#touch-mode&quot;&gt;Touch Mode&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;#motionevent&quot;&gt;MotionEvent&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;#&amp;#x5E38;&amp;#x7528;&amp;#x624B;&amp;#x52BF;&quot;&gt;&amp;#x5E38;&amp;#x7528;&amp;#x624B;&amp;#x52BF;&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;#view&amp;#x7684;&amp;#x6ED1;&amp;#x52A8;&quot;&gt;View&amp;#x7684;&amp;#x6ED1;&amp;#x52A8;&lt;/a&gt;&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;#1&amp;#x4F7F;&amp;#x7528;scrolltoscrollby&quot;&gt;1.&amp;#x4F7F;&amp;#x7528;scrollTo/scrollBy&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;#2&amp;#x4F7F;&amp;#x7528;&amp;#x52A8;&amp;#x753B;&quot;&gt;2.&amp;#x4F7F;&amp;#x7528;&amp;#x52A8;&amp;#x753B;&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;#3&amp;#x6539;&amp;#x53D8;&amp;#x5E03;&amp;#x5C40;&amp;#x53C2;&amp;#x6570;&quot;&gt;3.&amp;#x6539;&amp;#x53D8;&amp;#x5E03;&amp;#x5C40;&amp;#x53C2;&amp;#x6570;&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;#4&amp;#x4F7F;&amp;#x7528;viewdraghelper&quot;&gt;4.&amp;#x4F7F;&amp;#x7528;ViewDragHelper&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;#5&amp;#x603B;&amp;#x7ED3;&amp;#x51E0;&amp;#x4E2A;&amp;#x51FD;&amp;#x6570;&quot;&gt;5.&amp;#x603B;&amp;#x7ED3;&amp;#x51E0;&amp;#x4E2A;&amp;#x51FD;&amp;#x6570;&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;#view&amp;#x7684;&amp;#x4E8B;&amp;#x4EF6;&amp;#x5206;&amp;#x53D1;&amp;#x548C;&amp;#x6ED1;&amp;#x52A8;&amp;#x51B2;&amp;#x7A81;&amp;#x89E3;&amp;#x51B3;&quot;&gt;View&amp;#x7684;&amp;#x4E8B;&amp;#x4EF6;&amp;#x5206;&amp;#x53D1;&amp;#x548C;&amp;#x6ED1;&amp;#x52A8;&amp;#x51B2;&amp;#x7A81;&amp;#x89E3;&amp;#x51B3;&lt;/a&gt;&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;#1&amp;#x4F7F;&amp;#x7528;touchdelegate&amp;#x6269;&amp;#x5927;view&amp;#x70B9;&amp;#x51FB;&amp;#x4E8B;&amp;#x4EF6;&amp;#x8303;&amp;#x56F4;&quot;&gt;1.&amp;#x4F7F;&amp;#x7528;TouchDelegate&amp;#x6269;&amp;#x5927;View&amp;#x70B9;&amp;#x51FB;&amp;#x4E8B;&amp;#x4EF6;&amp;#x8303;&amp;#x56F4;&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;#2&amp;#x4E8B;&amp;#x4EF6;&amp;#x5206;&amp;#x53D1;&amp;#x673A;&amp;#x5236;&amp;#x7B80;&amp;#x8FF0;&quot;&gt;2.&amp;#x4E8B;&amp;#x4EF6;&amp;#x5206;&amp;#x53D1;&amp;#x673A;&amp;#x5236;&amp;#x7B80;&amp;#x8FF0;&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;#3&amp;#x5E38;&amp;#x7528;&amp;#x6ED1;&amp;#x52A8;&amp;#x51B2;&amp;#x7A81;&amp;#x89E3;&amp;#x51B3;&amp;#x65B9;&amp;#x6CD5;&quot;&gt;3.&amp;#x5E38;&amp;#x7528;&amp;#x6ED1;&amp;#x52A8;&amp;#x51B2;&amp;#x7A81;&amp;#x89E3;&amp;#x51B3;&amp;#x65B9;&amp;#x6CD5;&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;#&amp;#x53C2;&amp;#x8003;&quot;&gt;&amp;#x53C2;&amp;#x8003;&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;!-- tocstop --&gt;
&lt;h2 id=&quot;touch-mode&quot;&gt;&lt;a href=&quot;#Touch-Mode&quot; class=&quot;headerlink&quot; title=&quot;Touch Mode&quot;&gt;&lt;/a&gt;Touch Mode&lt;/h2&gt;&lt;p&gt;Android&amp;#x6709;&amp;#x8BB8;&amp;#x591A;Input Type&amp;#xFF0C;&amp;#x5305;&amp;#x62EC;&amp;#x8F68;&amp;#x8FF9;&amp;#x7403;&amp;#x3001;&amp;#x4E66;&amp;#x5199;&amp;#x7B14;&amp;#x3001;&amp;#x58F0;&amp;#x97F3;&amp;#x7B49;&amp;#xFF0C;&amp;#x6211;&amp;#x4EEC;&amp;#x4E3B;&amp;#x8981;&amp;#x63A2;&amp;#x7A76;&amp;#x89E6;&amp;#x6478;&amp;#x5C4F;&amp;#x8FD9;&amp;#x79CD;&amp;#x8F93;&amp;#x5165;&amp;#x3002;&amp;#x9488;&amp;#x5BF9;&amp;#x5176;&amp;#x4ED6;&amp;#x8F93;&amp;#x5165;&amp;#xFF0C;&amp;#x8FD9;&amp;#x91CC;&amp;#x8BF4;&amp;#x660E;&amp;#x4E00;&amp;#x70B9;&amp;#xFF1A;&amp;#x6709;&amp;#x4E9B;&amp;#x624B;&amp;#x673A;&amp;#x7684;&amp;#x5B9E;&amp;#x4F53;&amp;#x6309;&amp;#x952E;&amp;#x70B9;&amp;#x51FB;&amp;#x65F6;&amp;#x4F1A;&amp;#x628A;&amp;#x8BE5;&amp;#x4E8B;&amp;#x4EF6;&amp;#x4F20;&amp;#x9012;&amp;#x7ED9;&amp;#x5F53;&amp;#x524D;&amp;#x5C4F;&amp;#x5E55;&amp;#x4E2D;&amp;#x5904;&amp;#x4E8E;&amp;#x7126;&amp;#x70B9;&amp;#x72B6;&amp;#x6001;View&amp;#x7684;&lt;code&gt;onKey()&lt;/code&gt;&amp;#x56DE;&amp;#x8C03;&amp;#x65B9;&amp;#x6CD5;&amp;#xFF0C;&amp;#x5F53;&amp;#x7136;&amp;#x4E5F;&amp;#x53EF;&amp;#x4EE5;&amp;#x5728;Activity&amp;#x4E2D;&lt;code&gt;dispatchKeyEvent()&lt;/code&gt;&amp;#x8FDB;&amp;#x884C;&amp;#x62E6;&amp;#x622A;&amp;#xFF0C;&amp;#x6216;&amp;#x8005;&amp;#x901A;&amp;#x8FC7;&lt;code&gt;onKeyDown()&lt;/code&gt;&amp;#x548C;&lt;code&gt;onKeyUp()&lt;/code&gt;&amp;#x8FDB;&amp;#x884C;&amp;#x76D1;&amp;#x542C;&amp;#x3002;&amp;#x5F53;&amp;#x524D;&amp;#x624B;&amp;#x673A;APP&amp;#x4E3B;&amp;#x8981;&amp;#x4EA4;&amp;#x4E92;&amp;#x662F;&amp;#x901A;&amp;#x8FC7;&amp;#x89E6;&amp;#x6478;&amp;#x5C4F;&amp;#x8FDB;&amp;#x884C;&amp;#xFF0C;&amp;#x6839;&amp;#x636E;KeyCode&amp;#x76D1;&amp;#x542C;&amp;#x5B9E;&amp;#x4F53;&amp;#x6309;&amp;#x952E;&amp;#x7684;&amp;#x60C5;&amp;#x51B5;&amp;#x4E0D;&amp;#x662F;&amp;#x5F88;&amp;#x591A;&amp;#x4E86;&amp;#xFF0C;&amp;#x800C;&amp;#x4E14;&amp;#x50CF;Back&amp;#x952E;&amp;#x3001;Menu&amp;#x952E;&amp;#x7CFB;&amp;#x7EDF;&amp;#x4E5F;&amp;#x63D0;&amp;#x4F9B;&amp;#x4E86;&amp;#x65B9;&amp;#x4FBF;&amp;#x7684;&amp;#x56DE;&amp;#x8C03;&amp;#x65B9;&amp;#x6CD5;&amp;#xFF0C;&amp;#x4F46;Home&amp;#x952E;&amp;#x5E76;&amp;#x6CA1;&amp;#x6709;&amp;#xFF0C;&amp;#x800C;&amp;#x4E14;&amp;#x5728;onKey&amp;#x65B9;&amp;#x6CD5;&amp;#x4E2D;&amp;#x4E5F;&amp;#x4E0D;&amp;#x56DE;&amp;#x8C03;&amp;#xFF0C;&amp;#x7F51;&amp;#x4E0A;&amp;#x901A;&amp;#x5E38;&amp;#x91C7;&amp;#x7528;&amp;#x76D1;&amp;#x542C;Home&amp;#x952E;&amp;#x4EA7;&amp;#x751F;&amp;#x7684;&amp;#x5E7F;&amp;#x64AD;&amp;#x4E8B;&amp;#x4EF6;&amp;#x8FDB;&amp;#x884C;&amp;#x76D1;&amp;#x542C;&amp;#xFF0C;&amp;#x672C;&amp;#x6587;&amp;#x4E0D;&amp;#x8FC7;&amp;#x591A;&amp;#x5BF9;&amp;#x6B64;&amp;#x8FDB;&amp;#x884C;&amp;#x8BA8;&amp;#x8BBA;&amp;#x3002;&amp;#x73B0;&amp;#x5728;&amp;#x624B;&amp;#x673A;&amp;#x901A;&amp;#x5E38;&amp;#x662F;&amp;#x865A;&amp;#x62DF;&amp;#x8F6F;&amp;#x952E;&amp;#x76D8;&amp;#x8F93;&amp;#x5165;&amp;#xFF0C;&amp;#x6309;&amp;#x952E;&amp;#x65F6;&amp;#x901A;&amp;#x5E38;&amp;#x4E0D;&amp;#x4F1A;&amp;#x56DE;&amp;#x8C03;&lt;code&gt;onKeyDown&lt;/code&gt;&amp;#x65B9;&amp;#x6CD5;&amp;#xFF0C;&amp;#x6240;&amp;#x4EE5;&amp;#x9488;&amp;#x5BF9;&amp;#x865A;&amp;#x62DF;&amp;#x952E;&amp;#x76D8;&amp;#x6700;&amp;#x597D;&amp;#x4E0D;&amp;#x8981;&amp;#x4F7F;&amp;#x7528;&lt;code&gt;onKeyDown&lt;/code&gt;&amp;#x7B49;&amp;#x56DE;&amp;#x8C03;&amp;#x4E8B;&amp;#x4EF6;&amp;#x3002;&amp;#x9488;&amp;#x5BF9;EditText&amp;#x63A7;&amp;#x4EF6;&amp;#x63D0;&amp;#x4F9B;&amp;#x4E86;OnEditorActionListener&amp;#x56DE;&amp;#x8C03;&amp;#x65B9;&amp;#x6CD5;&amp;#xFF0C;&amp;#x7528;&amp;#x4E8E;&amp;#x5904;&amp;#x7406;&amp;#x8F93;&amp;#x5165;&amp;#x5B8C;&amp;#x6210;&amp;#x540E;&amp;#x7684;&amp;#x540E;&amp;#x7EED;&amp;#x5DE5;&amp;#x4F5C;&amp;#x3002;Demo&amp;#x5982;&amp;#x4E0B;&amp;#xFF1A;&lt;br&gt;&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;10&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;private EditText mEditText;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;...&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;mEditText.setImeOptions(EditorInfo.IME_ACTION_SEARCH); // &amp;#x8F93;&amp;#x5165;&amp;#x540E;&amp;#x641C;&amp;#x7D22;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;mEditText.setSingleLine(true); // required&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;mEditText.setOnEditorActionListener(new TextView.OnEditorActionListener() {&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    @Override&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    public boolean onEditorAction(TextView v, int actionId, KeyEvent event) {&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        return true;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    }&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;});&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;&amp;#x60F3;&amp;#x67E5;&amp;#x770B;&amp;#x652F;&amp;#x6301;&amp;#x54EA;&amp;#x4E9B;&amp;#x8F93;&amp;#x5165;&amp;#x7C7B;&amp;#x578B;&amp;#xFF0C;&amp;#x53EF;&amp;#x4EE5;&amp;#x901A;&amp;#x8FC7;&lt;code&gt;INPUT_SERVICE&lt;/code&gt;&amp;#x670D;&amp;#x52A1;&amp;#x67E5;&amp;#x770B;&amp;#xFF0C;&amp;#x5176;&amp;#x7C7B;&amp;#x578B;&amp;#x5E38;&amp;#x91CF;&amp;#x5B9A;&amp;#x4E49;&amp;#x5728;InputDevice&amp;#x7C7B;&amp;#x3002;Demo&amp;#x5982;&amp;#x4E0B;&amp;#xFF1A;&lt;br&gt;&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;InputManager inputManager = (InputManager) getSystemService(Context.INPUT_SERVICE);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;int[] ids = inputManager.getInputDeviceIds();&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;for (int i : ids) {&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    ...&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    inputManager.getInputDevice(i).getSources() == Inputdevice.XXX;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    ...&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;}&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;&amp;#x89E6;&amp;#x6478;&amp;#x64CD;&amp;#x4F5C;&amp;#x76F8;&amp;#x6BD4;&amp;#x5176;&amp;#x4ED6;&amp;#x4EA4;&amp;#x4E92;&amp;#xFF0C;&amp;#x4E0D;&amp;#x9700;&amp;#x8981;&amp;#x9AD8;&amp;#x4EAE;&amp;#x6765;&amp;#x63D0;&amp;#x9192;&amp;#x7528;&amp;#x6237;&amp;#x5F53;&amp;#x524D;&amp;#x7126;&amp;#x70B9;&amp;#x5904;&amp;#x4E8E;&amp;#x4F55;&amp;#x5904;&amp;#xFF0C;&amp;#x6240;&amp;#x4EE5;&amp;#x5F53;&amp;#x7528;&amp;#x6237;&amp;#x70B9;&amp;#x51FB;&amp;#x89E6;&amp;#x6478;&amp;#x5C4F;&amp;#x65F6;&amp;#x4F1A;&amp;#x5904;&amp;#x4E8E;&amp;#x201D;Touch Mode&amp;#x201D;&amp;#xFF0C;&amp;#x901A;&amp;#x8FC7;&lt;code&gt;isInTouchMode()&lt;/code&gt;&amp;#x5224;&amp;#x65AD;&amp;#x662F;&amp;#x5426;&amp;#x5904;&amp;#x4E8E;Touch Mode&amp;#x3002;&amp;#x5728;Touc Mode&amp;#x4E0B;&amp;#xFF0C;&amp;#x53EA;&amp;#x6709;&lt;code&gt;isFocusableInTouchMode()==true&lt;/code&gt;&amp;#x7684;View&amp;#x4F1A;&amp;#x83B7;&amp;#x5F97;&amp;#x7126;&amp;#x70B9;(&amp;#x5373;&lt;code&gt;isFocused()&lt;/code&gt;&amp;#x8FD4;&amp;#x56DE;true)&amp;#xFF0C;&amp;#x6BD4;&amp;#x5982;EditText&amp;#xFF1B;&amp;#x800C;&amp;#x53EF;&amp;#x89E6;&amp;#x6478;&amp;#x7684;View(&amp;#x5373;&lt;code&gt;isFocusable()&lt;/code&gt;&amp;#x8FD4;&amp;#x56DE;true)&amp;#x70B9;&amp;#x51FB;&amp;#x65F6;&amp;#x4E5F;&amp;#x4E0D;&amp;#x4F1A;&amp;#x83B7;&amp;#x5F97;&amp;#x7126;&amp;#x70B9;&amp;#xFF0C;&amp;#x4EC5;&amp;#x4EC5;&amp;#x6267;&amp;#x884C;&amp;#x5176;onClick&amp;#x56DE;&amp;#x8C03;&amp;#xFF0C;&amp;#x6BD4;&amp;#x5982;Button&amp;#x3002;&amp;#x5982;&amp;#x679C;Button&amp;#x8981;&amp;#x83B7;&amp;#x5F97;&amp;#x7126;&amp;#x70B9;(&lt;code&gt;isFocused()&lt;/code&gt;&amp;#x8FD4;&amp;#x56DE;true)&amp;#xFF0C;&amp;#x5FC5;&amp;#x987B;&amp;#x4FDD;&amp;#x8BC1;&amp;#xFF1A;  &lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;isFocusableInTouchMode() = true&lt;/li&gt;
&lt;li&gt;isFocusable() = true&lt;/li&gt;
&lt;li&gt;&amp;#x8C03;&amp;#x7528;requestFocus()  &lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;View&amp;#x7684;&amp;#x7126;&amp;#x70B9;&amp;#x53D8;&amp;#x5316;&amp;#x53EF;&amp;#x4EE5;&amp;#x901A;&amp;#x8FC7;&lt;code&gt;OnFocusChangeListener&lt;/code&gt;&amp;#x8FDB;&amp;#x884C;&amp;#x76D1;&amp;#x542C;&amp;#xFF0C;View&amp;#x5931;&amp;#x53BB;&amp;#x7126;&amp;#x70B9;&amp;#x540E;&amp;#x5982;&amp;#x4F55;&amp;#x4F20;&amp;#x9012;&amp;#x7126;&amp;#x70B9;&amp;#x662F;&amp;#x7531;&amp;#x7CFB;&amp;#x7EDF;&amp;#x8BA1;&amp;#x7B97;&amp;#x7684;&amp;#xFF0C;&amp;#x5F53;&amp;#x7136;&amp;#x53EF;&amp;#x4EE5;&amp;#x624B;&amp;#x52A8;&amp;#x8FDB;&amp;#x884C;&amp;#x63A7;&amp;#x5236;&amp;#xFF0C;&amp;#x8BE6;&amp;#x60C5;&amp;#x53C2;&amp;#x8003;(&lt;a href=&quot;https://developer.android.com/guide/topics/ui/ui-events.html#HandlingFocus&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;https://developer.android.com/guide/topics/ui/ui-events.html#HandlingFocus&lt;/a&gt;)&amp;#x3002;&lt;/p&gt;
&lt;a id=&quot;more&quot;&gt;&lt;/a&gt;
&lt;h2 id=&quot;motionevent&quot;&gt;&lt;a href=&quot;#MotionEvent&quot; class=&quot;headerlink&quot; title=&quot;MotionEvent&quot;&gt;&lt;/a&gt;MotionEvent&lt;/h2&gt;&lt;p&gt;&amp;#x4F7F;&amp;#x7528;&amp;#x8BE5;&amp;#x5BF9;&amp;#x8C61;&amp;#x8BB0;&amp;#x5F55;movement&amp;#x4E8B;&amp;#x4EF6;&amp;#xFF0C;&amp;#x5305;&amp;#x62EC;mouse&amp;#x3001;pen&amp;#x3001;finger&amp;#x3001;trackball&amp;#x7B49;&amp;#xFF0C;&amp;#x8FD9;&amp;#x91CC;&amp;#x53EA;&amp;#x8BA8;&amp;#x8BBA;touch&amp;#xFF0C;&amp;#x6240;&amp;#x4EE5;&amp;#x9650;&amp;#x5B9A;movement&amp;#x662F;&amp;#x7531;&amp;#x624B;&amp;#x6307;&amp;#x4EA7;&amp;#x751F;&amp;#x7684;&amp;#xFF0C;&amp;#x901A;&amp;#x8FC7;&lt;code&gt;getToolType(int)&lt;/code&gt;&amp;#x65B9;&amp;#x6CD5;&amp;#x53EF;&amp;#x4EE5;&amp;#x5224;&amp;#x65AD;&amp;#x89E6;&amp;#x6478;&amp;#x4E8B;&amp;#x4EF6;&amp;#x662F;&amp;#x4EC0;&amp;#x4E48;&amp;#x7C7B;&amp;#x578B;&amp;#x7684;&amp;#xFF0C;&amp;#x5E38;&amp;#x91CF;&amp;#x5728;MotionEvent&amp;#x4E2D;&amp;#x5B9A;&amp;#x4E49;&amp;#x3002;MotionEvent&amp;#x4E3B;&amp;#x8981;&amp;#x662F;&amp;#x7531;Action Code&amp;#x548C;&amp;#x4E00;&amp;#x7CFB;&amp;#x5217;&amp;#x5750;&amp;#x6807;&amp;#x503C;&amp;#x7EC4;&amp;#x6210;&amp;#xFF0C;&amp;#x524D;&amp;#x8005;&amp;#x8BB0;&amp;#x5F55;&amp;#x4E8B;&amp;#x4EF6;&amp;#x7C7B;&amp;#x578B;&amp;#xFF0C;&amp;#x8C03;&amp;#x7528;&lt;code&gt;getActionMasked()&lt;/code&gt;&amp;#x5F97;&amp;#x5230;&amp;#xFF1B;&amp;#x540E;&amp;#x8005;&amp;#x8BB0;&amp;#x5F55;&amp;#x4F4D;&amp;#x7F6E;&amp;#x548C;&amp;#x5176;&amp;#x4ED6;&amp;#x52A8;&amp;#x4F5C;&amp;#x5C5E;&amp;#x6027;&amp;#x3002;&amp;#x901A;&amp;#x5E38;&amp;#x73B0;&amp;#x5728;&amp;#x624B;&amp;#x673A;&amp;#x652F;&amp;#x6301;&amp;#x591A;&amp;#x70B9;&amp;#x89E6;&amp;#x63A7;&amp;#xFF0C;&amp;#x4E00;&amp;#x4E2A;&amp;#x5B8C;&amp;#x6574;&amp;#x89E6;&amp;#x6478;&amp;#x4EA4;&amp;#x4E92;&amp;#x7684;Action Code&amp;#x6D41;&amp;#x7A0B;&amp;#x56FE;&amp;#x5982;&amp;#x4E0B;&amp;#xFF0C;&amp;#x4F46;&amp;#x662F;&amp;#x7CFB;&amp;#x7EDF;&amp;#x5E76;&amp;#x4E0D;&amp;#x80FD;&amp;#x4FDD;&amp;#x8BC1;&amp;#x6240;&amp;#x6709;touch&amp;#x4EA4;&amp;#x4E92;&amp;#x90FD;&amp;#x8FDE;&amp;#x8D2F;&amp;#x6267;&amp;#x884C;&amp;#xFF0C;&amp;#x6240;&amp;#x4EE5;&amp;#x4E00;&amp;#x5B9A;&amp;#x8981;&amp;#x5904;&amp;#x7406;&amp;#x597D;ACTION_CANCEL&amp;#x7B49;&amp;#x60C5;&amp;#x51B5;&amp;#x3002;&lt;/p&gt;
&lt;img src=&quot;/2016/08/08/android-touch-research/pic_0.png&quot;&gt;
&lt;p&gt;&amp;#x7CFB;&amp;#x7EDF;&amp;#x4F1A;&amp;#x7EAA;&amp;#x5F55;&amp;#x591A;&amp;#x70B9;&amp;#x89E6;&amp;#x63A7;&amp;#x65F6;&amp;#x6240;&amp;#x6709;&amp;#x624B;&amp;#x6307;touch&amp;#x7684;&amp;#x8FD0;&amp;#x52A8;&amp;#x8F68;&amp;#x8FF9;&amp;#xFF0C;MotionEvent&amp;#x5BF9;&amp;#x8C61;&amp;#x4E2D;&amp;#x4F1A;&amp;#x5305;&amp;#x542B;&amp;#x6240;&amp;#x6709;&amp;#x624B;&amp;#x6307;touch&amp;#x7684;&amp;#x4FE1;&amp;#x606F;&amp;#xFF0C;&amp;#x5373;&amp;#x4F7F;&amp;#x8BE5;&amp;#x65F6;&amp;#x523B;&amp;#x67D0;&amp;#x4E2A;&amp;#x624B;&amp;#x6307;&amp;#x5E76;&amp;#x6CA1;&amp;#x6709;&amp;#x4EA7;&amp;#x751F;&amp;#x65B0;&amp;#x7684;&amp;#x8FD0;&amp;#x52A8;&amp;#x8F68;&amp;#x8FF9;&amp;#xFF1B;&amp;#x7CFB;&amp;#x7EDF;&amp;#x5B9A;&amp;#x4E49;&amp;#x4EA7;&amp;#x751F;&amp;#x4E0D;&amp;#x540C;&amp;#x8FD0;&amp;#x52A8;&amp;#x8F68;&amp;#x8FF9;&amp;#x7684;&amp;#x624B;&amp;#x6307;&amp;#x4E3A;pointer&amp;#xFF0C;&amp;#x6BCF;&amp;#x4E2A;pointer&amp;#x4ECE;ACTION_DOWN&amp;#x5F00;&amp;#x59CB;&amp;#x5230;&amp;#x7ED3;&amp;#x675F;&amp;#x4F1A;&amp;#x5206;&amp;#x914D;&amp;#x552F;&amp;#x4E00;&amp;#x4E00;&amp;#x4E2A;Id&amp;#xFF0C;MotionEvent&amp;#x5BF9;&amp;#x8C61;&amp;#x63D0;&amp;#x4F9B;&amp;#x67E5;&amp;#x8BE2;&amp;#x6BCF;&amp;#x4E2A;pointer&amp;#x5750;&amp;#x6807;&amp;#x548C;&amp;#x5176;&amp;#x4ED6;&amp;#x5C5E;&amp;#x6027;&amp;#x7684;&amp;#x65B9;&amp;#x6CD5;&amp;#xFF0C;&amp;#x4F46;&amp;#x53C2;&amp;#x6570;&amp;#x4F7F;&amp;#x7528;index(0&amp;#x5230;getPointCount()-1)&amp;#xFF0C;&amp;#x8C03;&amp;#x7528;&lt;code&gt;getActionIndex()&lt;/code&gt;&amp;#x53EF;&amp;#x4EE5;&amp;#x5F97;&amp;#x5230;&amp;#x5BF9;&amp;#x5E94;&amp;#x7684;index&amp;#xFF1B;&amp;#x6BCF;&amp;#x4E2A;MotionEvent&amp;#x4E2D;pointer&amp;#x7684;index&amp;#x53EF;&amp;#x80FD;&amp;#x4F1A;&amp;#x6539;&amp;#x53D8;&amp;#xFF0C;&amp;#x4F46;&amp;#x662F;pointer&amp;#x7684;id&amp;#x4E0D;&amp;#x4F1A;&amp;#x53D8;&amp;#xFF0C;&amp;#x63D0;&amp;#x4F9B;&lt;code&gt;getPointerId(int)&lt;/code&gt;&amp;#x548C;&lt;code&gt;findPointerIndex(int)&lt;/code&gt;&amp;#x8FDB;&amp;#x884C;&amp;#x8F6C;&amp;#x5316;&amp;#x3002;&amp;#x5176;&amp;#x4E2D;&amp;#xFF1A;getX/getY&amp;#x8868;&amp;#x793A;&amp;#x76F8;&amp;#x5BF9;&amp;#x4E8E;&amp;#x7236;&amp;#x63A7;&amp;#x4EF6;&amp;#x7684;&amp;#x5750;&amp;#x6807;&amp;#xFF0C;getRawX/getRawY&amp;#x8868;&amp;#x793A;&amp;#x76F8;&amp;#x5BF9;&amp;#x4E8E;&amp;#x624B;&amp;#x673A;&amp;#x5750;&amp;#x6807;&amp;#x7CFB;&amp;#x7684;&amp;#x5750;&amp;#x6807;&amp;#x3002;&lt;br&gt;&lt;strong&gt;Batching&lt;/strong&gt; &amp;#xFF1A;&lt;br&gt;&amp;#x5904;&amp;#x7406;ACTION_MOVE&amp;#x4E8B;&amp;#x4EF6;&amp;#x65F6;&amp;#xFF0C;&amp;#x56E0;&amp;#x6548;&amp;#x7387;&amp;#x901A;&amp;#x5E38;&amp;#x4F1A;&amp;#x628A;&amp;#x591A;&amp;#x4E2A;movement&amp;#x653E;&amp;#x5230;&amp;#x4E00;&amp;#x4E2A;MotionEvent&amp;#x5BF9;&amp;#x8C61;&amp;#x4E2D;&amp;#xFF0C;&amp;#x53EB;&amp;#x505A;batching&amp;#xFF1B;&amp;#x7CFB;&amp;#x7EDF;&amp;#x63D0;&amp;#x4F9B;API&amp;#x53BB;&amp;#x67E5;&amp;#x8BE2;&amp;#x201C;&amp;#x5386;&amp;#x53F2;&amp;#x201D;&amp;#x5750;&amp;#x6807;&amp;#x503C;&amp;#xFF1A;getHistoricalX(int, int)&amp;#x548C;getHistoricalY(int, int)&amp;#xFF0C;&amp;#x5B98;&amp;#x65B9;demo&amp;#x5982;&amp;#x4E0B;&amp;#xFF1A;&lt;br&gt;&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;12&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;13&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;14&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;15&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;16&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;void printSamples(MotionEvent ev) {&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt; final int historySize = ev.getHistorySize();&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt; final int pointerCount = ev.getPointerCount();&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt; for (int h = 0; h &amp;lt; historySize; h++) {&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;     System.out.printf(&amp;quot;At time %d:&amp;quot;, ev.getHistoricalEventTime(h));&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;     for (int p = 0; p &amp;lt; pointerCount; p++) {&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;         System.out.printf(&amp;quot;  pointer %d: (%f,%f)&amp;quot;,&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;             ev.getPointerId(p), ev.getHistoricalX(p, h), ev.getHistoricalY(p, h));&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;     }&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt; }&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt; System.out.printf(&amp;quot;At time %d:&amp;quot;, ev.getEventTime());&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt; for (int p = 0; p &amp;lt; pointerCount; p++) {&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;     System.out.printf(&amp;quot;  pointer %d: (%f,%f)&amp;quot;,&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;         ev.getPointerId(p), ev.getX(p), ev.getY(p));&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt; }&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;}&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;h2 id=&quot;&amp;#x5E38;&amp;#x7528;&amp;#x624B;&amp;#x52BF;&quot;&gt;&lt;a href=&quot;#&amp;#x5E38;&amp;#x7528;&amp;#x624B;&amp;#x52BF;&quot; class=&quot;headerlink&quot; title=&quot;&amp;#x5E38;&amp;#x7528;&amp;#x624B;&amp;#x52BF;&quot;&gt;&lt;/a&gt;&amp;#x5E38;&amp;#x7528;&amp;#x624B;&amp;#x52BF;&lt;/h2&gt;&lt;p&gt;&amp;#x7CFB;&amp;#x7EDF;&amp;#x63D0;&amp;#x4F9B;GestureDetector&amp;#x7C7B;&amp;#x65B9;&amp;#x4FBF;&amp;#x5BF9;&amp;#x5E38;&amp;#x89C1;&amp;#x624B;&amp;#x52BF;&amp;#x8FDB;&amp;#x884C;&amp;#x68C0;&amp;#x6D4B;&amp;#xFF0C;&amp;#x63D0;&amp;#x4F9B;ScaleGestureDetector&amp;#x5BF9;&amp;#x7F29;&amp;#x653E;&amp;#x624B;&amp;#x52BF;&amp;#x8FDB;&amp;#x884C;&amp;#x68C0;&amp;#x67E5;&amp;#x3002;&amp;#x5728;GestureDetector&amp;#x4E2D;OnGestureListener&amp;#x548C;OnDoubleTapListener&amp;#x5B9A;&amp;#x4E49;&amp;#x4E86;&amp;#x5E38;&amp;#x89C1;&amp;#x624B;&amp;#x52BF;&amp;#xFF0C;&amp;#x5982;&amp;#x4E0B;&amp;#xFF1A;  &lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;GestureDetector.OnGestureListener&lt;/li&gt;
&lt;/ul&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th style=&quot;text-align:left&quot;&gt;&amp;#x65B9;&amp;#x6CD5;&amp;#x540D;&lt;/th&gt;
&lt;th style=&quot;text-align:left&quot;&gt;&amp;#x63CF;&amp;#x8FF0;&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td style=&quot;text-align:left&quot;&gt;onDown&lt;/td&gt;
&lt;td style=&quot;text-align:left&quot;&gt;&amp;#x624B;&amp;#x6307;&amp;#x8F7B;&amp;#x89E6;&amp;#x5C4F;&amp;#x5E55;&amp;#x4E00;&amp;#x77AC;&amp;#x95F4;&amp;#xFF0C;&amp;#x7531;1&amp;#x4E2A;ACTION_DOWN&amp;#x89E6;&amp;#x53D1;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&quot;text-align:left&quot;&gt;onShowPress&lt;/td&gt;
&lt;td style=&quot;text-align:left&quot;&gt;&amp;#x624B;&amp;#x6307;&amp;#x8F7B;&amp;#x89E6;&amp;#x5C4F;&amp;#x5E55;&amp;#xFF0C;&amp;#x5C1A;&amp;#x672A;&amp;#x677E;&amp;#x5F00;&amp;#x6216;&amp;#x8005;&amp;#x62D6;&amp;#x52A8;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&quot;text-align:left&quot;&gt;onSingleTapUp&lt;/td&gt;
&lt;td style=&quot;text-align:left&quot;&gt;&amp;#x624B;&amp;#x6307;&amp;#x8F7B;&amp;#x89E6;&amp;#x5C4F;&amp;#x5E55;&amp;#x540E;&amp;#x677E;&amp;#x5F00;&amp;#xFF0C;&amp;#x7531;1&amp;#x4E2A;ACTION_UP&amp;#x89E6;&amp;#x53D1;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&quot;text-align:left&quot;&gt;onScroll&lt;/td&gt;
&lt;td style=&quot;text-align:left&quot;&gt;&amp;#x624B;&amp;#x6307;&amp;#x6309;&amp;#x4E0B;&amp;#x5C4F;&amp;#x5E55;&amp;#x5E76;&amp;#x62D6;&amp;#x52A8;&amp;#xFF0C;&amp;#x7531;1&amp;#x4E2A;ACTION_DOWN&amp;#xFF0C;&amp;#x591A;&amp;#x4E2A;ACTION_MOVE&amp;#x89E6;&amp;#x53D1;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&quot;text-align:left&quot;&gt;onLongPress&lt;/td&gt;
&lt;td style=&quot;text-align:left&quot;&gt;&amp;#x624B;&amp;#x6307;&amp;#x957F;&amp;#x6309;&amp;#x5C4F;&amp;#x5E55;&amp;#x4E0D;&amp;#x653E;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&quot;text-align:left&quot;&gt;onFling&lt;/td&gt;
&lt;td style=&quot;text-align:left&quot;&gt;&amp;#x5FEB;&amp;#x901F;&amp;#x6ED1;&amp;#x52A8;&amp;#x884C;&amp;#x4E3A;&amp;#xFF0C;&amp;#x7531;1&amp;#x4E2A;ACTION_DOWN&amp;#xFF0C;&amp;#x591A;&amp;#x4E2A;ACTION_MOVE&amp;#x548C;1&amp;#x4E2A;ACTION_UP&amp;#x89E6;&amp;#x53D1;&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;ul&gt;
&lt;li&gt;GestureDetector.OnDoubleTapListener&lt;/li&gt;
&lt;/ul&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th style=&quot;text-align:left&quot;&gt;&amp;#x65B9;&amp;#x6CD5;&amp;#x540D;&lt;/th&gt;
&lt;th style=&quot;text-align:left&quot;&gt;&amp;#x63CF;&amp;#x8FF0;&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td style=&quot;text-align:left&quot;&gt;onSingleTapConfirmed&lt;/td&gt;
&lt;td style=&quot;text-align:left&quot;&gt;&amp;#x4E25;&amp;#x683C;&amp;#x7684;&amp;#x5355;&amp;#x51FB;&amp;#x884C;&amp;#x4E3A;&amp;#xFF0C;&amp;#x540E;&amp;#x9762;&amp;#x80AF;&amp;#x5B9A;&amp;#x4E0D;&amp;#x4F1A;&amp;#x518D;&amp;#x7D27;&amp;#x8DDF;&amp;#x53E6;&amp;#x4E00;&amp;#x4E2A;&amp;#x5355;&amp;#x51FB;&amp;#x884C;&amp;#x4E3A;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&quot;text-align:left&quot;&gt;onDoubleTap&lt;/td&gt;
&lt;td style=&quot;text-align:left&quot;&gt;&amp;#x53CC;&amp;#x51FB;&amp;#xFF0C;&amp;#x7531;&amp;#x4E24;&amp;#x6B21;&amp;#x5355;&amp;#x51FB;&amp;#x7EC4;&amp;#x6210;&amp;#xFF0C;&amp;#x4E0E;OnSingleTapConfirmed&amp;#x4E0D;&amp;#x5171;&amp;#x5B58;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&quot;text-align:left&quot;&gt;onDoubleTapEvent&lt;/td&gt;
&lt;td style=&quot;text-align:left&quot;&gt;&amp;#x53CC;&amp;#x51FB;&amp;#x671F;&amp;#x95F4;&amp;#xFF0C;ACTION_DOWN,ACTION_MOVE&amp;#x548C;ACTION_UP&amp;#x90FD;&amp;#x4F1A;&amp;#x89E6;&amp;#x53D1;&amp;#x8BE5;&amp;#x4E8B;&amp;#x4EF6;&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;p&gt;&lt;strong&gt;&amp;#x5355;&amp;#x51FB;Log&lt;/strong&gt;&lt;br&gt;&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;onDown&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;onShowPress(&amp;#x5FEB;&amp;#x901F;&amp;#x70B9;&amp;#x51FB;&amp;#x53EF;&amp;#x80FD;&amp;#x4E0D;&amp;#x51FA;&amp;#x73B0;)&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;onSingleTapUp&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;onSingleTapConfirmed&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;&amp;#x53CC;&amp;#x51FB;Log&lt;/strong&gt;&lt;br&gt;&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;onDown&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;onShowPress(&amp;#x5FEB;&amp;#x901F;&amp;#x70B9;&amp;#x51FB;&amp;#x53EF;&amp;#x80FD;&amp;#x4E0D;&amp;#x51FA;&amp;#x73B0;)&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;onSingleTapUp&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;onDoubleTap&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;onDoubleTapEvent&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;onDown&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;onDoubleTapEvent&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;ScaleGestureDetector&amp;#x4E2D;OnScaleGestureListener&amp;#x5B9A;&amp;#x4E49;&amp;#x7F29;&amp;#x653E;&amp;#x624B;&amp;#x52BF;&amp;#x7684;&amp;#x56DE;&amp;#x8C03;&amp;#x4E8B;&amp;#x4EF6;&amp;#xFF1A;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;ScaleGestureDetector.OnScaleGestureListener&lt;/li&gt;
&lt;/ul&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th style=&quot;text-align:left&quot;&gt;&amp;#x65B9;&amp;#x6CD5;&amp;#x540D;&lt;/th&gt;
&lt;th style=&quot;text-align:left&quot;&gt;&amp;#x63CF;&amp;#x8FF0;&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td style=&quot;text-align:left&quot;&gt;onScaleBegin&lt;/td&gt;
&lt;td style=&quot;text-align:left&quot;&gt;&amp;#x901A;&amp;#x5E38;&amp;#x65B0;pointer&amp;#x6309;&amp;#x4E0B;&amp;#x65F6;&amp;#x4F1A;&amp;#x89E6;&amp;#x53D1;&amp;#xFF0C;&amp;#x8FD4;&amp;#x56DE;false&amp;#x610F;&amp;#x5473;&amp;#x4E0D;&amp;#x76D1;&amp;#x542C;&amp;#x8BE5;&amp;#x540E;&amp;#x7EED;&amp;#x7684;&amp;#x7F29;&amp;#x653E;&amp;#x4E8B;&amp;#x4EF6;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&quot;text-align:left&quot;&gt;onScale&lt;/td&gt;
&lt;td style=&quot;text-align:left&quot;&gt;&amp;#x7F29;&amp;#x653E;&amp;#x8FC7;&amp;#x7A0B;&amp;#x4E2D;&amp;#x4F34;&amp;#x968F;&amp;#x624B;&amp;#x6307;&amp;#x79FB;&amp;#x52A8;&amp;#x4F1A;&amp;#x8C03;&amp;#x7528;&amp;#x591A;&amp;#x6B21;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&quot;text-align:left&quot;&gt;onScaleEnd&lt;/td&gt;
&lt;td style=&quot;text-align:left&quot;&gt;&amp;#x7F29;&amp;#x653E;&amp;#x7ED3;&amp;#x675F;&amp;#x65F6;&amp;#x56DE;&amp;#x8C03;&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;p&gt;ScaleGestureDetector&amp;#x63D0;&amp;#x4F9B;getFocusX()/getFocusY()&amp;#x3001;getCurrentSpanX()/getCurrentSpanY()&amp;#x3001;getScaleFactor()&amp;#x7B49;&amp;#x65B9;&amp;#x6CD5;&amp;#xFF0C;&amp;#x7528;&amp;#x4E8E;&amp;#x83B7;&amp;#x53D6;&amp;#x7F29;&amp;#x653E;&amp;#x65F6;&amp;#x7126;&amp;#x70B9;&amp;#x5750;&amp;#x6807;&amp;#xFF0C;&amp;#x7F29;&amp;#x653E;&amp;#x65F6;X&amp;#x8F74;&amp;#x548C;Y&amp;#x8F74;&amp;#x8DDD;&amp;#x79BB;&amp;#xFF0C;&amp;#x7F29;&amp;#x653E;&amp;#x6BD4;&amp;#x4F8B;&amp;#x7B49;&amp;#xFF0C;&amp;#x4F7F;&amp;#x7528;&amp;#x8FD9;&amp;#x4E9B;&amp;#x65B9;&amp;#x6CD5;&amp;#x53EF;&amp;#x4EE5;&amp;#x65B9;&amp;#x4FBF;&amp;#x7684;&amp;#x8FDB;&amp;#x884C;&amp;#x7F29;&amp;#x653E;&amp;#x64CD;&amp;#x4F5C;&amp;#x3002;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt; Tips: &lt;/strong&gt;&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;ViewConfiguration&amp;#x7C7B;&amp;#x5B9A;&amp;#x4E49;&amp;#x4E86;UI&amp;#x4E2D;&amp;#x5173;&amp;#x4E8E;Touch&amp;#x7684;&amp;#x4E00;&amp;#x4E9B;&amp;#x5E38;&amp;#x91CF;&amp;#xFF0C;&amp;#x6BD4;&amp;#x5982;&lt;code&gt;getScaledTouchSlop()&lt;/code&gt;&amp;#x6307;&amp;#x7CFB;&amp;#x7EDF;&amp;#x8BA4;&amp;#x4E3A;&amp;#x7528;&amp;#x6237;&amp;#x5728;&amp;#x6ED1;&amp;#x52A8;&amp;#x7684;&amp;#x6700;&amp;#x5C0F;&amp;#x8DDD;&amp;#x79BB;&amp;#xFF0C;&amp;#x5355;&amp;#x4F4D;&amp;#x662F;px&amp;#xFF1B;&lt;code&gt;getScaledMinimumFlingVelocity()&lt;/code&gt;&amp;#x6307;&amp;#x7CFB;&amp;#x7EDF;&amp;#x8BA4;&amp;#x4E3A;onFling&amp;#x7684;&amp;#x6700;&amp;#x5C0F;&amp;#x901F;&amp;#x5EA6;&amp;#x503C;&amp;#xFF0C;&amp;#x5355;&amp;#x4F4D;&amp;#x662F;pixels per second&amp;#x3002;&lt;/li&gt;
&lt;li&gt;VelocityTracker&amp;#x7C7B;&amp;#x53EF;&amp;#x4EE5;&amp;#x8FFD;&amp;#x8E2A;&amp;#x6ED1;&amp;#x52A8;&amp;#x8FC7;&amp;#x7A0B;&amp;#x4E2D;&amp;#x6C34;&amp;#x5E73;&amp;#x548C;&amp;#x7AD6;&amp;#x76F4;&amp;#x65B9;&amp;#x5411;&amp;#x7684;&amp;#x901F;&amp;#x5EA6;&amp;#xFF0C;&amp;#x6CBF;&amp;#x7740;&amp;#x5750;&amp;#x6807;&amp;#x8F74;&amp;#x6B63;&amp;#x5411;&amp;#x6ED1;&amp;#x52A8;&amp;#x65B9;&amp;#x5411;&amp;#x4E3A;&amp;#x6B63;&amp;#x3002;&lt;/li&gt;
&lt;li&gt;&amp;#x7CFB;&amp;#x7EDF;&amp;#x5728;ACTION_MOVE&amp;#x6839;&amp;#x636E;&amp;#x6ED1;&amp;#x52A8;&amp;#x8DDD;&amp;#x79BB;&amp;#x662F;&amp;#x5426;&amp;#x5927;&amp;#x4E8E;&lt;code&gt;getScaledTouchSlop()&lt;/code&gt;&amp;#x5224;&amp;#x65AD;onScroll&amp;#xFF0C;&amp;#x5728;ACTION_UP&amp;#x6839;&amp;#x636E;&amp;#x901F;&amp;#x5EA6;&amp;#x662F;&amp;#x5426;&amp;#x5927;&amp;#x4E8E;&lt;code&gt;getScaledMinimumFlingVelocity()&lt;/code&gt;&amp;#x5224;&amp;#x65AD;onFling&amp;#x3002;&lt;/li&gt;
&lt;li&gt;GestureDetector.SimpleOnGestureListener&amp;#x63D0;&amp;#x4F9B;&amp;#x5BF9;&amp;#x4E0A;&amp;#x8FF0;&amp;#x624B;&amp;#x52BF;&amp;#x7684;&amp;#x5C01;&amp;#x88C5;&amp;#xFF0C;&amp;#x53EA;&amp;#x9700;Override&amp;#x611F;&amp;#x5174;&amp;#x8DA3;&amp;#x7684;&amp;#x624B;&amp;#x52BF;&amp;#x4E8B;&amp;#x4EF6;&amp;#x5373;&amp;#x53EF;&amp;#x3002;&lt;/li&gt;
&lt;li&gt;&amp;#x4F7F;&amp;#x7528;GestureDetector&amp;#x548C;ScaleGestureDetector&amp;#x65F6;&amp;#xFF0C;&amp;#x9700;&amp;#x8981;&amp;#x628A;onTouchEvent&amp;#x4E8B;&amp;#x4EF6;&amp;#x5168;&amp;#x90E8;&amp;#x4EA4;&amp;#x7ED9;GestureDetector&amp;#x3001;ScaleGestureDetector&amp;#x5904;&amp;#x7406;&amp;#xFF0C;&amp;#x5176;&amp;#x4EE3;&amp;#x7801;&amp;#x5982;&amp;#x4E0B;&amp;#xFF1A;&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;@Override&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;public boolean onTouchEvent(MotionEvent event) {&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    boolean retVal = mScaleGestureDetector.onTouchEvent(event);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    retVal = mGestureDetector.onTouchEvent(event) || retVal;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    return retVal || super.onTouchEvent(event);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;}&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id=&quot;view&amp;#x7684;&amp;#x6ED1;&amp;#x52A8;&quot;&gt;&lt;a href=&quot;#View&amp;#x7684;&amp;#x6ED1;&amp;#x52A8;&quot; class=&quot;headerlink&quot; title=&quot;View&amp;#x7684;&amp;#x6ED1;&amp;#x52A8;&quot;&gt;&lt;/a&gt;View&amp;#x7684;&amp;#x6ED1;&amp;#x52A8;&lt;/h2&gt;&lt;p&gt;View&amp;#x7684;&amp;#x6ED1;&amp;#x52A8;&amp;#x5F88;&amp;#x5E38;&amp;#x89C1;&amp;#xFF0C;&amp;#x6709;&amp;#x591A;&amp;#x79CD;&amp;#x65B9;&amp;#x5F0F;&amp;#x53EF;&amp;#x4EE5;&amp;#x5B9E;&amp;#x73B0;&amp;#xFF0C;&amp;#x8BA8;&amp;#x8BBA;&amp;#x51E0;&amp;#x79CD;&amp;#x5E38;&amp;#x7528;&amp;#x7684;&amp;#x65B9;&amp;#x6CD5;&amp;#xFF1A;&lt;/p&gt;
&lt;h3 id=&quot;1&amp;#x4F7F;&amp;#x7528;scrolltoscrollby&quot;&gt;&lt;a href=&quot;#1-&amp;#x4F7F;&amp;#x7528;scrollTo-scrollBy&quot; class=&quot;headerlink&quot; title=&quot;1.&amp;#x4F7F;&amp;#x7528;scrollTo/scrollBy&quot;&gt;&lt;/a&gt;1.&amp;#x4F7F;&amp;#x7528;scrollTo/scrollBy&lt;/h3&gt;&lt;p&gt;View&amp;#x7C7B;&amp;#x672C;&amp;#x8EAB;&amp;#x63D0;&amp;#x4F9B;&amp;#x4E86;&amp;#x8FD9;&amp;#x5BF9;&amp;#x65B9;&amp;#x6CD5;&amp;#x7528;&amp;#x4E8E;&amp;#x5BF9;content&amp;#x6ED1;&amp;#x52A8;&amp;#xFF0C;&amp;#x4F46;&amp;#x4E0D;&amp;#x80FD;&amp;#x6539;&amp;#x53D8;view&amp;#x5728;&amp;#x5E03;&amp;#x5C40;&amp;#x4E2D;&amp;#x7684;&amp;#x4F4D;&amp;#x7F6E;&amp;#x3002;View&amp;#x63D0;&amp;#x4F9B;getScrollX()&amp;#x548C;getScrollY()&amp;#x4E24;&amp;#x4E2A;&amp;#x65B9;&amp;#x6CD5;&amp;#x5F97;&amp;#x5230;&amp;#x5185;&amp;#x90E8;&amp;#x4E24;&amp;#x4E2A;&amp;#x5C5E;&amp;#x6027;mScrollX,mScrollY&amp;#x3002;&amp;#x5176;&amp;#x4E2D;&amp;#xFF0C;mScrollX&amp;#x8868;&amp;#x793A;View&amp;#x5DE6;&amp;#x8FB9;&amp;#x7F18;&amp;#x548C;View&amp;#x7684;content&amp;#x5DE6;&amp;#x8FB9;&amp;#x7F18;&amp;#x7684;&amp;#x6C34;&amp;#x5E73;&amp;#x8DDD;&amp;#x79BB;&amp;#xFF0C;mScrollY&amp;#x8868;&amp;#x793A;View&amp;#x4E0A;&amp;#x8FB9;&amp;#x7F18;&amp;#x548C;View&amp;#x7684;&amp;#x5185;&amp;#x5BB9;&amp;#x4E0A;&amp;#x8FB9;&amp;#x7F18;&amp;#x7684;&amp;#x5782;&amp;#x76F4;&amp;#x8DDD;&amp;#x79BB;&amp;#x3002;&amp;#x6ED1;&amp;#x52A8;&amp;#x65F6;&amp;#x65B9;&amp;#x5411;&amp;#x4E0E;&amp;#x6B63;&amp;#x8D1F;&amp;#x7684;&amp;#x5173;&amp;#x7CFB;&amp;#x5982;&amp;#x4E0B;&amp;#xFF1A;&lt;/p&gt;
&lt;img src=&quot;/2016/08/08/android-touch-research/pic_1.png&quot;&gt;
&lt;p&gt;&amp;#x76F4;&amp;#x63A5;&amp;#x4F7F;&amp;#x7528;&amp;#x4E0A;&amp;#x8FF0;&amp;#x65B9;&amp;#x6CD5;&amp;#x663E;&amp;#x5F97;&amp;#x5F88;&amp;#x751F;&amp;#x786C;&amp;#xFF0C;&amp;#x6240;&amp;#x4EE5;&amp;#x7CFB;&amp;#x7EDF;&amp;#x63D0;&amp;#x4F9B;OverScroller&amp;#x7528;&amp;#x4E8E;&amp;#x628A;&amp;#x4E00;&amp;#x6B21;&amp;#x5927;&amp;#x7684;&amp;#x6ED1;&amp;#x52A8;&amp;#x5206;&amp;#x6210;&amp;#x82E5;&amp;#x5E72;&amp;#x6B21;&amp;#x5C0F;&amp;#x7684;&amp;#x6ED1;&amp;#x52A8;&amp;#xFF0C;&amp;#x5E76;&amp;#x5728;&amp;#x4E00;&amp;#x5B9A;&amp;#x65F6;&amp;#x95F4;&amp;#x6BB5;&amp;#x5185;&amp;#x5B8C;&amp;#x6210;&amp;#xFF0C;&amp;#x4ECE;&amp;#x800C;&amp;#x5B9E;&amp;#x73B0;&amp;#x5F39;&amp;#x6027;&amp;#x6ED1;&amp;#x52A8;&amp;#xFF1B;&amp;#x5B98;&amp;#x65B9;&amp;#x5EFA;&amp;#x8BAE;&amp;#x4F7F;&amp;#x7528;OverScroller&amp;#x66FF;&amp;#x4EE3;Scroller&amp;#x3002;&amp;#x4F7F;&amp;#x7528;OverScroller&amp;#x7684;&amp;#x7528;&amp;#x6CD5;&amp;#x57FA;&amp;#x672C;&amp;#x56FA;&amp;#x5B9A;&amp;#xFF0C;demo&amp;#x5982;&amp;#x4E0B;&amp;#xFF1A;&lt;br&gt;&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;12&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;13&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;14&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;15&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;16&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;17&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;18&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;public class CustomView extends View{&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    ...&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    private OverScroller mOverScroller = new OverScroller(getContext());&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    @Override&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    public void computeScroll() {&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        if (mOverScroller.computeScrollOffset()) {&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;            scrollTo(mOverScroller.getCurrX(), mOverScroller.getCurrY());&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;            postInvalidate();&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        }&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    }&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    // 2s&amp;#x5185;&amp;#x5411;&amp;#x53F3;&amp;#x6ED1;&amp;#x52A8;100px&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    mOverScroller.startScroll(getScrollX(), 0, getScrollX() - 100, 0, 2000);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    postInvalidate();&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    ...&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;}&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;&amp;#x8FD8;&amp;#x6709;&amp;#x4E00;&amp;#x79CD;&amp;#x8BA8;&amp;#x5DE7;&amp;#x7684;&amp;#x65B9;&amp;#x5F0F;&amp;#xFF0C;&amp;#x4F46;&amp;#x7075;&amp;#x6D3B;&amp;#x5EA6;&amp;#x633A;&amp;#x597D;&amp;#xFF0C;&amp;#x4F7F;&amp;#x7528;&amp;#x5C5E;&amp;#x6027;&amp;#x52A8;&amp;#x753B;&amp;#x7684;AnimatorUpdateListener&amp;#xFF0C;demo&amp;#x5982;&amp;#x4E0B;&amp;#xFF1A;&lt;br&gt;&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;12&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;13&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;final ValueAnimator animator = ValueAnimator.ofInt(0, 1).setDuration(2000);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;animator.addUpdateListener(new ValueAnimator.AnimatorUpdateListener() {&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    int startX = getScrollX();&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    @Override&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    public void onAnimationUpdate(ValueAnimator animation) {&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        float fraction = animator.getAnimatedFraction();&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        // 2s&amp;#x5185;&amp;#x5411;&amp;#x53F3;&amp;#x6ED1;&amp;#x52A8;100px&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        mMyScrollView.scrollTo(startX + (int) ((-100) * fraction), 0);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        // &amp;#x53EF;&amp;#x4EE5;&amp;#x8FDB;&amp;#x884C;&amp;#x5176;&amp;#x4ED6;&amp;#x64CD;&amp;#x4F5C;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        ...&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    }&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;});&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;animator.start();&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;h3 id=&quot;2&amp;#x4F7F;&amp;#x7528;&amp;#x52A8;&amp;#x753B;&quot;&gt;&lt;a href=&quot;#2-&amp;#x4F7F;&amp;#x7528;&amp;#x52A8;&amp;#x753B;&quot; class=&quot;headerlink&quot; title=&quot;2.&amp;#x4F7F;&amp;#x7528;&amp;#x52A8;&amp;#x753B;&quot;&gt;&lt;/a&gt;2.&amp;#x4F7F;&amp;#x7528;&amp;#x52A8;&amp;#x753B;&lt;/h3&gt;&lt;p&gt;&lt;strong&gt;1.Tween Animation&lt;/strong&gt;&lt;br&gt;&amp;#x5EFA;&amp;#x8BAE;&amp;#x4F7F;&amp;#x7528;XML&amp;#x5B9A;&amp;#x4E49;&amp;#x52A8;&amp;#x753B;&amp;#xFF0C;&amp;#x4F46;demo&amp;#x4F7F;&amp;#x7528;&amp;#x4EE3;&amp;#x7801;&amp;#x5B9A;&amp;#x4E49;&amp;#xFF0C;&amp;#x5982;&amp;#x4E0B;&amp;#xFF1A;&lt;br&gt;&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;float startX = mMyScrollView.getTranslationX();&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;float startY = mMyScrollView.getTranslationY();&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;// 2s&amp;#x5185;&amp;#x5411;&amp;#x53F3;&amp;#x6ED1;&amp;#x52A8;100px&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;TranslateAnimation translateAnimation = new TranslateAnimation(startX, startX + 100, startY, startY);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;translateAnimation.setDuration(2000);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;translateAnimation.setFillAfter(true);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;mMyScrollView.startAnimation(translateAnimation);&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;&amp;#x52A8;&amp;#x753B;&amp;#x4E3B;&amp;#x8981;&amp;#x64CD;&amp;#x4F5C;View&amp;#x7684;translationX&amp;#x548C;translationY&amp;#x5C5E;&amp;#x6027;&amp;#xFF0C;&amp;#x4F46;&amp;#x662F;Tween Animation&amp;#x53EF;&amp;#x4EE5;&amp;#x8BA4;&amp;#x4E3A;&amp;#x53EA;&amp;#x662F;&amp;#x6539;&amp;#x53D8;&amp;#x7ED8;&amp;#x5236;View&amp;#x7684;&amp;#x4F4D;&amp;#x7F6E;&amp;#xFF0C;&amp;#x4F46;&amp;#x662F;View&amp;#x672C;&amp;#x8EAB;&amp;#x4F4D;&amp;#x7F6E;&amp;#x5C5E;&amp;#x6027;&amp;#x6CA1;&amp;#x6709;&amp;#x6539;&amp;#x53D8;&amp;#xFF0C;&amp;#x5177;&amp;#x4F53;&amp;#x8868;&amp;#x73B0;&amp;#x4E3A;&amp;#x65B0;&amp;#x4F4D;&amp;#x7F6E;&amp;#x7684;View&amp;#x4E0D;&amp;#x4F1A;&amp;#x89E6;&amp;#x53D1;onClick&amp;#x4E8B;&amp;#x4EF6;&amp;#x3002;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;2.Property Animation&lt;/strong&gt;&lt;br&gt;&amp;#x4F7F;&amp;#x7528;ObjectAnimator&amp;#x7C7B;&amp;#x53EF;&amp;#x4EE5;&amp;#x76F4;&amp;#x63A5;&amp;#x5B9E;&amp;#x73B0;&amp;#x5F39;&amp;#x6027;&amp;#x7684;&amp;#x6ED1;&amp;#x52A8;&amp;#x6548;&amp;#x679C;(&amp;#x5EFA;&amp;#x8BAE;&amp;#x590D;&amp;#x4E60;&amp;#x4E00;&amp;#x4E0B;ObjectAnimator&amp;#x7C7B;&amp;#x7684;&amp;#x4F7F;&amp;#x7528;&amp;#x6761;&amp;#x4EF6;)&amp;#xFF0C;API 11&amp;#x6DFB;&amp;#x52A0;&amp;#x4E86;&amp;#x5C5E;&amp;#x6027;&amp;#x52A8;&amp;#x753B;&amp;#x7279;&amp;#x6027;&amp;#xFF0C;&amp;#x4F1A;&amp;#x771F;&amp;#x6B63;&amp;#x6539;&amp;#x53D8;View&amp;#x7684;&amp;#x4F4D;&amp;#x7F6E;&amp;#x5C5E;&amp;#x6027;&amp;#xFF0C;demo&amp;#x5982;&amp;#x4E0B;&amp;#xFF1A;&lt;br&gt;&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;// 2s&amp;#x5185;&amp;#x5411;&amp;#x53F3;&amp;#x6ED1;&amp;#x52A8;100px&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;ObjectAnimator.ofFloat(mMyScrollView, &amp;quot;translationX&amp;quot;, 0, 100).setDuration(2000).start();&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;h3 id=&quot;3&amp;#x6539;&amp;#x53D8;&amp;#x5E03;&amp;#x5C40;&amp;#x53C2;&amp;#x6570;&quot;&gt;&lt;a href=&quot;#3-&amp;#x6539;&amp;#x53D8;&amp;#x5E03;&amp;#x5C40;&amp;#x53C2;&amp;#x6570;&quot; class=&quot;headerlink&quot; title=&quot;3.&amp;#x6539;&amp;#x53D8;&amp;#x5E03;&amp;#x5C40;&amp;#x53C2;&amp;#x6570;&quot;&gt;&lt;/a&gt;3.&amp;#x6539;&amp;#x53D8;&amp;#x5E03;&amp;#x5C40;&amp;#x53C2;&amp;#x6570;&lt;/h3&gt;&lt;p&gt;&amp;#x8C03;&amp;#x6574;LayoutParams&amp;#x7684;&amp;#x5C5E;&amp;#x6027;&amp;#x4E5F;&amp;#x53EF;&amp;#x4EE5;&amp;#x5B9E;&amp;#x73B0;&amp;#x6ED1;&amp;#x52A8;&amp;#x6548;&amp;#x679C;&amp;#xFF0C;&amp;#x6BD4;&amp;#x8F83;&amp;#x9002;&amp;#x5408;&amp;#x4EA4;&amp;#x4E92;&amp;#x7684;View&amp;#x3002;&amp;#x4F46;&amp;#x662F;&amp;#x6ED1;&amp;#x52A8;&amp;#x7684;View&amp;#x9700;&amp;#x8981;&amp;#x6709;&amp;#x7236;&amp;#x5E03;&amp;#x5C40;&amp;#xFF0C;&amp;#x5E76;&amp;#x4E14;&amp;#x77E5;&amp;#x9053;&amp;#x7236;&amp;#x5E03;&amp;#x5C40;&amp;#x7C7B;&amp;#x578B;&amp;#xFF0C;&amp;#x624D;&amp;#x80FD;&amp;#x5F97;&amp;#x5230;&amp;#x5BF9;&amp;#x5E94;&amp;#x7684;LayoutParams&amp;#x3002;&amp;#x4F46;&amp;#x7B80;&amp;#x5355;&amp;#x7684;&amp;#x5E73;&amp;#x79FB;&amp;#x53EF;&amp;#x4EE5;&amp;#x901A;&amp;#x8FC7;&amp;#x6539;&amp;#x53D8;View&amp;#x7684;Margin&amp;#x5C5E;&amp;#x6027;&amp;#x5B9E;&amp;#x73B0;&amp;#xFF0C;&amp;#x6240;&amp;#x4EE5;&amp;#x4F7F;&amp;#x7528;ViewGroup.MarginLayoutParams&amp;#x6BD4;&amp;#x8F83;&amp;#x65B9;&amp;#x4FBF;&amp;#xFF0C;demo&amp;#x5982;&amp;#x4E0B;&amp;#xFF1A;&lt;br&gt;&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;// &amp;#x5411;&amp;#x53F3;&amp;#x6ED1;&amp;#x52A8;100px&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;ViewGroup.MarginLayoutParams layoutParams = (ViewGroup.MarginLayoutParams) mMyScrollView.getLayoutParams();&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;layoutParams.leftMargin += 100;    &lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;// mMyScrollView.setLayoutParams(layoutParams);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;mMyScrollView.requestLayout();&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;View&amp;#x4E2D;&amp;#x63D0;&amp;#x4F9B;&amp;#x5BF9;&amp;#x4E0A;&amp;#x8FF0;&amp;#x5E03;&amp;#x5C40;&amp;#x8C03;&amp;#x6574;&amp;#x65B9;&amp;#x6CD5;&amp;#x7684;&amp;#x5C01;&amp;#x88C5;&amp;#xFF1A;&lt;code&gt;offsetLeftAndRight&lt;/code&gt;&amp;#x548C;&lt;code&gt;offsetTopAndBottom&lt;/code&gt;&amp;#xFF1B;&amp;#x504F;&amp;#x79FB;&amp;#x91CF;&amp;#x6B63;&amp;#x6570;&amp;#x8868;&amp;#x793A;&amp;#x53F3;&amp;#x79FB;&amp;#x548C;&amp;#x4E0B;&amp;#x79FB;&amp;#xFF0C;&amp;#x8D1F;&amp;#x6570;&amp;#x8868;&amp;#x793A;&amp;#x5DE6;&amp;#x79FB;&amp;#x548C;&amp;#x4E0A;&amp;#x79FB;&amp;#x3002;&lt;/p&gt;
&lt;h3 id=&quot;4&amp;#x4F7F;&amp;#x7528;viewdraghelper&quot;&gt;&lt;a href=&quot;#4-&amp;#x4F7F;&amp;#x7528;ViewDragHelper&quot; class=&quot;headerlink&quot; title=&quot;4.&amp;#x4F7F;&amp;#x7528;ViewDragHelper&quot;&gt;&lt;/a&gt;4.&amp;#x4F7F;&amp;#x7528;ViewDragHelper&lt;/h3&gt;&lt;p&gt;2013&amp;#x5E74;Google&amp;#x5728;support&amp;#x5305;&amp;#x5F15;&amp;#x5165;DraweLayout&amp;#x548C;SlidingPaneLayout&amp;#x4E24;&amp;#x4E2A;&amp;#x5E03;&amp;#x5C40;&amp;#x5B9E;&amp;#x73B0;&amp;#x4FA7;&amp;#x8FB9;&amp;#x680F;&amp;#x6ED1;&amp;#x52A8;&amp;#x6548;&amp;#x679C;&amp;#xFF0C;&amp;#x5185;&amp;#x90E8;&amp;#x90FD;&amp;#x4F7F;&amp;#x7528;&amp;#x4E86;ViewDragHelper&amp;#x5DE5;&amp;#x5177;&amp;#x7C7B;&amp;#xFF0C;&amp;#x53EF;&amp;#x4EE5;&amp;#x65B9;&amp;#x4FBF;&amp;#x5B9E;&amp;#x73B0;View&amp;#x7684;drag&amp;#xFF0C;&amp;#x5305;&amp;#x62EC;&amp;#x6ED1;&amp;#x52A8;&amp;#xFF0C;&amp;#x53EF;&amp;#x4EE5;&amp;#x65B9;&amp;#x4FBF;&amp;#x5B9E;&amp;#x73B0;&amp;#x624B;QQ&amp;#x4FA7;&amp;#x6ED1;&amp;#x83DC;&amp;#x5355;&amp;#x680F;&amp;#x7684;&amp;#x6548;&amp;#x679C;&amp;#x3002;&amp;#x5176;&amp;#x5185;&amp;#x90E8;&amp;#x6ED1;&amp;#x52A8;&amp;#x4F7F;&amp;#x7528;&lt;code&gt;offsetLeftAndRight&lt;/code&gt;&amp;#x548C;&lt;code&gt;offsetTopAndBottom&lt;/code&gt;&amp;#x8FDB;&amp;#x884C;&amp;#x5B9E;&amp;#x73B0;&amp;#x3002;ViewDragHelper&amp;#x63D0;&amp;#x4F9B;&lt;code&gt;smoothSlideViewTo(View,int,int)&lt;/code&gt;&amp;#x548C;&lt;code&gt;settleCapturedViewAt(int,int)&lt;/code&gt;&amp;#x65B9;&amp;#x6CD5;&amp;#x7528;&amp;#x4E8E;View&amp;#x6ED1;&amp;#x52A8;&amp;#xFF0C;&amp;#x672C;&amp;#x8D28;&amp;#x4F7F;&amp;#x7528;Scroller&amp;#x673A;&amp;#x5236;&amp;#xFF0C;&amp;#x5EFA;&amp;#x8BAE;&amp;#x9605;&amp;#x8BFB;DraweLayout&amp;#x548C;SlidingPaneLayout&amp;#x6E90;&amp;#x7801;&amp;#x5B66;&amp;#x4E60;ViewDragHelper&amp;#x7684;&amp;#x4F7F;&amp;#x7528;&amp;#x3002;&lt;/p&gt;
&lt;h3 id=&quot;5&amp;#x603B;&amp;#x7ED3;&amp;#x51E0;&amp;#x4E2A;&amp;#x51FD;&amp;#x6570;&quot;&gt;&lt;a href=&quot;#5-&amp;#x603B;&amp;#x7ED3;&amp;#x51E0;&amp;#x4E2A;&amp;#x51FD;&amp;#x6570;&quot; class=&quot;headerlink&quot; title=&quot;5.&amp;#x603B;&amp;#x7ED3;&amp;#x51E0;&amp;#x4E2A;&amp;#x51FD;&amp;#x6570;&quot;&gt;&lt;/a&gt;5.&amp;#x603B;&amp;#x7ED3;&amp;#x51E0;&amp;#x4E2A;&amp;#x51FD;&amp;#x6570;&lt;/h3&gt;&lt;p&gt;getLocationOnScreen(int [])&amp;#xFF1A;&amp;#x83B7;&amp;#x5F97;View&amp;#x5728;&amp;#x5C4F;&amp;#x5E55;&amp;#x4E2D;&amp;#x5750;&amp;#x6807;&lt;br&gt;getLocationInWindow(int [])&amp;#xFF1A;&amp;#x83B7;&amp;#x5F97;View&amp;#x76F8;&amp;#x5BF9;Window&amp;#x7684;&amp;#x5750;&amp;#x6807;&lt;/p&gt;
&lt;img src=&quot;/2016/08/08/android-touch-research/pic_2.png&quot;&gt;
&lt;h2 id=&quot;view&amp;#x7684;&amp;#x4E8B;&amp;#x4EF6;&amp;#x5206;&amp;#x53D1;&amp;#x548C;&amp;#x6ED1;&amp;#x52A8;&amp;#x51B2;&amp;#x7A81;&amp;#x89E3;&amp;#x51B3;&quot;&gt;&lt;a href=&quot;#View&amp;#x7684;&amp;#x4E8B;&amp;#x4EF6;&amp;#x5206;&amp;#x53D1;&amp;#x548C;&amp;#x6ED1;&amp;#x52A8;&amp;#x51B2;&amp;#x7A81;&amp;#x89E3;&amp;#x51B3;&quot; class=&quot;headerlink&quot; title=&quot;View&amp;#x7684;&amp;#x4E8B;&amp;#x4EF6;&amp;#x5206;&amp;#x53D1;&amp;#x548C;&amp;#x6ED1;&amp;#x52A8;&amp;#x51B2;&amp;#x7A81;&amp;#x89E3;&amp;#x51B3;&quot;&gt;&lt;/a&gt;View&amp;#x7684;&amp;#x4E8B;&amp;#x4EF6;&amp;#x5206;&amp;#x53D1;&amp;#x548C;&amp;#x6ED1;&amp;#x52A8;&amp;#x51B2;&amp;#x7A81;&amp;#x89E3;&amp;#x51B3;&lt;/h2&gt;&lt;h3 id=&quot;1&amp;#x4F7F;&amp;#x7528;touchdelegate&amp;#x6269;&amp;#x5927;view&amp;#x70B9;&amp;#x51FB;&amp;#x4E8B;&amp;#x4EF6;&amp;#x8303;&amp;#x56F4;&quot;&gt;&lt;a href=&quot;#1-&amp;#x4F7F;&amp;#x7528;TouchDelegate&amp;#x6269;&amp;#x5927;View&amp;#x70B9;&amp;#x51FB;&amp;#x4E8B;&amp;#x4EF6;&amp;#x8303;&amp;#x56F4;&quot; class=&quot;headerlink&quot; title=&quot;1.&amp;#x4F7F;&amp;#x7528;TouchDelegate&amp;#x6269;&amp;#x5927;View&amp;#x70B9;&amp;#x51FB;&amp;#x4E8B;&amp;#x4EF6;&amp;#x8303;&amp;#x56F4;&quot;&gt;&lt;/a&gt;1.&amp;#x4F7F;&amp;#x7528;TouchDelegate&amp;#x6269;&amp;#x5927;View&amp;#x70B9;&amp;#x51FB;&amp;#x4E8B;&amp;#x4EF6;&amp;#x8303;&amp;#x56F4;&lt;/h3&gt;&lt;p&gt;&amp;#x5B98;&amp;#x65B9;demo&amp;#x6BD4;&amp;#x8F83;&amp;#x597D;&amp;#xFF0C;&amp;#x5EFA;&amp;#x8BAE;&amp;#x5B66;&amp;#x4E60;&amp;#xFF1B;&amp;#x7F3A;&amp;#x70B9;&amp;#x662F;&amp;#x53EA;&amp;#x80FD;&amp;#x6269;&amp;#x5927;parent&amp;#x4E2D;&amp;#x4E00;&amp;#x4E2A;child view&amp;#x3002;&amp;#x5B98;&amp;#x65B9;demo&amp;#x5982;&amp;#x4E0B;&amp;#xFF1A;&lt;br&gt;&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;12&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;13&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;14&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;15&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;16&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;17&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;18&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;19&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;20&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;21&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;22&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;23&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;24&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;25&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;26&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;27&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;28&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;29&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;30&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;31&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;32&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;33&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;34&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;35&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;36&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;37&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;38&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;39&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;40&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;41&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;42&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;43&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;44&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;45&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;46&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;47&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;...&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;// Get the parent view&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;View parentView = findViewById(R.id.parent_layout);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;parentView.post(new Runnable() {&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    // Post in the parent&amp;apos;s message queue to make sure the parent&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    // lays out its children before you call getHitRect()&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    @Override&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    public void run() {&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        // The bounds for the delegate view (an ImageButton&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        // in this example)&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        Rect delegateArea = new Rect();&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        ImageButton myButton = (ImageButton) findViewById(R.id.button);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        myButton.setEnabled(true);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        myButton.setOnClickListener(new View.OnClickListener() {&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;            @Override&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;            public void onClick(View view) {&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;                Toast.makeText(MainActivity.this,&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;                        &amp;quot;Touch occurred within ImageButton touch region.&amp;quot;,&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;                        Toast.LENGTH_SHORT).show();&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;            }&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        });&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        // The hit rectangle for the ImageButton&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        myButton.getHitRect(delegateArea);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        // Extend the touch area of the ImageButton beyond its bounds&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        // on the right and bottom.&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        delegateArea.right += 100;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        delegateArea.bottom += 100;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        // Instantiate a TouchDelegate.&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        // &amp;quot;delegateArea&amp;quot; is the bounds in local coordinates of&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        // the containing view to be mapped to the delegate view.&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        // &amp;quot;myButton&amp;quot; is the child view that should receive motion&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        // events.&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        TouchDelegate touchDelegate = new TouchDelegate(delegateArea,&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;                myButton);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        // Sets the TouchDelegate on the parent view, such that touches&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        // within the touch delegate bounds are routed to the child.&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        if (View.class.isInstance(myButton.getParent())) {&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;            ((View) myButton.getParent()).setTouchDelegate(touchDelegate);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        }&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    }&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;});&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;...&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;h3 id=&quot;2&amp;#x4E8B;&amp;#x4EF6;&amp;#x5206;&amp;#x53D1;&amp;#x673A;&amp;#x5236;&amp;#x7B80;&amp;#x8FF0;&quot;&gt;&lt;a href=&quot;#2-&amp;#x4E8B;&amp;#x4EF6;&amp;#x5206;&amp;#x53D1;&amp;#x673A;&amp;#x5236;&amp;#x7B80;&amp;#x8FF0;&quot; class=&quot;headerlink&quot; title=&quot;2.&amp;#x4E8B;&amp;#x4EF6;&amp;#x5206;&amp;#x53D1;&amp;#x673A;&amp;#x5236;&amp;#x7B80;&amp;#x8FF0;&quot;&gt;&lt;/a&gt;2.&amp;#x4E8B;&amp;#x4EF6;&amp;#x5206;&amp;#x53D1;&amp;#x673A;&amp;#x5236;&amp;#x7B80;&amp;#x8FF0;&lt;/h3&gt;&lt;p&gt;&amp;#x5404;&amp;#x79CD;&amp;#x8D44;&amp;#x6599;&amp;#x5BF9;&amp;#x8FD9;&amp;#x90E8;&amp;#x5206;&amp;#x5185;&amp;#x5BB9;&amp;#x90FD;&amp;#x6709;&amp;#x8BB2;&amp;#x89E3;&amp;#xFF0C;&amp;#x672C;&amp;#x6587;&amp;#x5BF9;&amp;#x6574;&amp;#x4E2A;View&amp;#x7684;&amp;#x70B9;&amp;#x51FB;&amp;#x4E8B;&amp;#x4EF6;(Touch Event)&amp;#x7684;&amp;#x5206;&amp;#x53D1;&amp;#x673A;&amp;#x5236;&amp;#x8FDB;&amp;#x884C;&amp;#x7B80;&amp;#x8FF0;&amp;#x3002;&amp;#x4E3B;&amp;#x8981;&amp;#x6D89;&amp;#x53CA;&amp;#x4EE5;&amp;#x4E0B;&amp;#x4E09;&amp;#x4E2A;&amp;#x51FD;&amp;#x6570;&amp;#xFF0C;&amp;#x5176;&amp;#x8FD4;&amp;#x56DE;&amp;#x503C;true&amp;#x8868;&amp;#x793A;&amp;#x6D88;&amp;#x8D39;&amp;#x4E8B;&amp;#x4EF6;&amp;#xFF0C;false&amp;#x8868;&amp;#x793A;&amp;#x4E0D;&amp;#x6D88;&amp;#x8D39;&amp;#x3002;&lt;br&gt;&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;public boolean dispatchTouchEvent(MotionEvent event);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;public boolean onInterceptTouchEvent(MotionEvent event);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;public boolean onTouchEvent(MotionEvent event);&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;1.&lt;/strong&gt; &amp;#x6240;&amp;#x6709;&amp;#x70B9;&amp;#x51FB;&amp;#x4EA7;&amp;#x751F;&amp;#x7684;MotionEvent&amp;#x90FD;&amp;#x4F20;&amp;#x9012;&amp;#x5230;Activity.dispatchTouchEvent()&amp;#x4E2D;&amp;#xFF0C;&amp;#x6E90;&amp;#x7801;&amp;#x5982;&amp;#x4E0B;&amp;#xFF0C;&amp;#x5982;&amp;#x679C;getWindow()&amp;#x6CA1;&amp;#x6709;&amp;#x6D88;&amp;#x8D39;&amp;#x8BE5;&amp;#x4E8B;&amp;#x4EF6;&amp;#xFF0C;&amp;#x5219;&amp;#x9ED8;&amp;#x8BA4;&amp;#x4EA4;&amp;#x7ED9;Activity.onTouchEvent()&amp;#x5904;&amp;#x7406;&amp;#xFF0C;&amp;#x5176;&amp;#x9ED8;&amp;#x8BA4;&amp;#x503C;&amp;#x4E3A;false&amp;#x3002;&lt;br&gt;&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;9&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;public boolean dispatchTouchEvent(MotionEvent ev) {&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    if (ev.getAction() == MotionEvent.ACTION_DOWN) {&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        onUserInteraction();&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    }&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    if (getWindow().superDispatchTouchEvent(ev)) {&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        return true;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    }&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    return onTouchEvent(ev);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;}&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;2.&lt;/strong&gt; getWindow().superDispatchTouchEvent()&amp;#x5B9E;&amp;#x9645;&amp;#x4E0A;&amp;#x8C03;&amp;#x7528;mDecor.superDispatchTouchEvent()&amp;#xFF0C;&amp;#x56E0;&amp;#x4E3A;DecorView&amp;#x7EE7;&amp;#x627F;&amp;#x4E8E;FrameLayout&amp;#xFF0C;&amp;#x6240;&amp;#x4EE5;&amp;#x8BE5;&amp;#x65B9;&amp;#x6CD5;&amp;#x6700;&amp;#x7EC8;&amp;#x5230;ViewGroup.dispatchTouchEvent()&amp;#x4E2D;&amp;#x3002;        &lt;/p&gt;
&lt;p&gt;&lt;strong&gt;3.&lt;/strong&gt; ViewGroup.dispatchTouchEvent()&amp;#x5173;&amp;#x952E;&amp;#x6D41;&amp;#x7A0B;&amp;#x7684;&amp;#x7B80;&amp;#x5316;&amp;#x7248;&amp;#x5982;&amp;#x4E0B;&amp;#xFF1A;&lt;br&gt;&lt;img src=&quot;/2016/08/08/android-touch-research/pic_3.png&quot;&gt;&lt;/p&gt;
&lt;p&gt;Tips&amp;#xFF1A;&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;FLAG_DISALLOW_INTERCEPT&amp;#x6807;&amp;#x8BC6;&amp;#x4F4D;&amp;#x901A;&amp;#x5E38;&amp;#x662F;&amp;#x5B50;View&amp;#x8C03;&amp;#x7528;requestDisallowInterceptTouchEvent(boolean)&amp;#x8FDB;&amp;#x884C;&amp;#x8BBE;&amp;#x7F6E;&amp;#xFF0C;&amp;#x7528;&amp;#x4E8E;&amp;#x63A7;&amp;#x5236;&amp;#x7236;ViewGroup&amp;#x5BF9;&amp;#x4E8B;&amp;#x4EF6;&amp;#x7684;&amp;#x62E6;&amp;#x622A;&amp;#xFF0C;&amp;#x4F46;&amp;#x662F;ACTION_DOWN&amp;#x4E8B;&amp;#x4EF6;&amp;#x4E00;&amp;#x5B9A;&amp;#x4F1A;&amp;#x88AB;&amp;#x7236;ViewGroup&amp;#x62E6;&amp;#x622A;&amp;#x7684;&amp;#x3002;&lt;/li&gt;
&lt;li&gt;onInterceptTouchEvent()&amp;#x65B9;&amp;#x6CD5;&amp;#x5E76;&amp;#x4E0D;&amp;#x662F;&amp;#x6BCF;&amp;#x6B21;&amp;#x90FD;&amp;#x88AB;&amp;#x8C03;&amp;#x7528;&amp;#xFF0C;&amp;#x5982;&amp;#x679C;onInterceptTouchEvent()&amp;#x5BF9;ACTION_DOWN&amp;#x8FDB;&amp;#x884C;&amp;#x62E6;&amp;#x622A;&amp;#xFF0C;&amp;#x5373;&amp;#x8FD4;&amp;#x56DE;true&amp;#xFF0C;&amp;#x5219;&amp;#x540C;&amp;#x4E00;&amp;#x5E8F;&amp;#x5217;&amp;#x7684;&amp;#x540E;&amp;#x7EED;&amp;#x4E8B;&amp;#x4EF6;&amp;#x4E0D;&amp;#x4F1A;&amp;#x8FDB;&amp;#x5165;onInterceptTouchEvent()&amp;#x65B9;&amp;#x6CD5;&amp;#xFF0C;&amp;#x4F1A;&amp;#x76F4;&amp;#x63A5;&amp;#x4EA4;&amp;#x7ED9;super.dispatchTouchEvent()&amp;#x5904;&amp;#x7406;&amp;#xFF0C;&amp;#x4E5F;&amp;#x5C31;&amp;#x662F;&amp;#x8BF4;ViewGroup&amp;#x54CD;&amp;#x5E94;&amp;#x4E8B;&amp;#x4EF6;&amp;#xFF0C;&amp;#x4E0D;&amp;#x4F1A;&amp;#x4F20;&amp;#x9012;&amp;#x7ED9;&amp;#x5B50;View&amp;#x3002;&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;strong&gt;4.&lt;/strong&gt; View.dispatchTouchEvent()&amp;#x5173;&amp;#x952E;&amp;#x6D41;&amp;#x7A0B;&amp;#x7684;&amp;#x7B80;&amp;#x5316;&amp;#x7248;&amp;#x5982;&amp;#x4E0B;&amp;#xFF1A;&lt;br&gt;&lt;img src=&quot;/2016/08/08/android-touch-research/pic_4.png&quot;&gt;&lt;/p&gt;
&lt;p&gt;Tips:&lt;br&gt;1.View&amp;#x5373;&amp;#x4F7F;&amp;#x5904;&amp;#x4E8E;&amp;#x4E0D;&amp;#x53EF;&amp;#x7528;&amp;#x72B6;&amp;#x6001;(isEnabled() = false)&amp;#xFF0C;&amp;#x4E5F;&amp;#x4F1A;&amp;#x6D88;&amp;#x8D39;&amp;#x4E8B;&amp;#x4EF6;:&lt;br&gt;&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;return (((viewFlags &amp;amp; CLICKABLE) == CLICKABLE&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;                   || (viewFlags &amp;amp; LONG_CLICKABLE) == LONG_CLICKABLE)&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;                   || (viewFlags &amp;amp; CONTEXT_CLICKABLE) == CONTEXT_CLICKABLE);&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;2.onTouchListener&amp;#x4F18;&amp;#x5148;&amp;#x7EA7;&amp;#x6700;&amp;#x9AD8;&amp;#xFF0C; &amp;#x6700;&amp;#x4F4E;&amp;#x7684;&amp;#x662F;onClickListener&amp;#x3002;&lt;br&gt;3.&amp;#x8C03;&amp;#x7528;setOnClickListener()&amp;#x548C;setLongClickable()&amp;#x65B9;&amp;#x6CD5;&amp;#x65F6;&amp;#x4F1A;&amp;#x81EA;&amp;#x52A8;&amp;#x628A;CLICKABLE&amp;#x548C;LONG_CLICKABLE&amp;#x5C5E;&amp;#x6027;&amp;#x8BBE;&amp;#x4E3A;true&amp;#x3002;&lt;/p&gt;
&lt;h3 id=&quot;3&amp;#x5E38;&amp;#x7528;&amp;#x6ED1;&amp;#x52A8;&amp;#x51B2;&amp;#x7A81;&amp;#x89E3;&amp;#x51B3;&amp;#x65B9;&amp;#x6CD5;&quot;&gt;&lt;a href=&quot;#3-&amp;#x5E38;&amp;#x7528;&amp;#x6ED1;&amp;#x52A8;&amp;#x51B2;&amp;#x7A81;&amp;#x89E3;&amp;#x51B3;&amp;#x65B9;&amp;#x6CD5;&quot; class=&quot;headerlink&quot; title=&quot;3.&amp;#x5E38;&amp;#x7528;&amp;#x6ED1;&amp;#x52A8;&amp;#x51B2;&amp;#x7A81;&amp;#x89E3;&amp;#x51B3;&amp;#x65B9;&amp;#x6CD5;&quot;&gt;&lt;/a&gt;3.&amp;#x5E38;&amp;#x7528;&amp;#x6ED1;&amp;#x52A8;&amp;#x51B2;&amp;#x7A81;&amp;#x89E3;&amp;#x51B3;&amp;#x65B9;&amp;#x6CD5;&lt;/h3&gt;&lt;p&gt;&amp;#x7236;View&amp;#x4E0E;&amp;#x5B50;View&amp;#x540C;&amp;#x65F6;&amp;#x53EF;&amp;#x4EE5;&amp;#x6ED1;&amp;#x52A8;&amp;#x65F6;&amp;#x5C31;&amp;#x4F1A;&amp;#x4EA7;&amp;#x751F;&amp;#x6ED1;&amp;#x52A8;&amp;#x51B2;&amp;#x7A81;&amp;#xFF0C;&amp;#x8868;&amp;#x73B0;&amp;#x5C31;&amp;#x662F;&amp;#x6ED1;&amp;#x52A8;&amp;#x4F5C;&amp;#x7528;&amp;#x63A7;&amp;#x4EF6;&amp;#x4E0D;&amp;#x5BF9;&amp;#x6216;&amp;#x8005;&amp;#x5361;&amp;#x987F;&amp;#x3002;&amp;#x89E3;&amp;#x51B3;&amp;#x8FD9;&amp;#x79CD;&amp;#x95EE;&amp;#x9898;&amp;#x901A;&amp;#x5E38;&amp;#x6709;&amp;#x4E24;&amp;#x79CD;&amp;#x65B9;&amp;#x6CD5;&amp;#xFF1A;  &lt;/p&gt;
&lt;p&gt;1.&amp;#x4F7F;&amp;#x7528;&amp;#x7236;View&amp;#x7684;onInterceptTouchEvent()&amp;#x8FDB;&amp;#x884C;&amp;#x62E6;&amp;#x622A;&amp;#x3002;&amp;#x5927;&amp;#x4F53;&amp;#x601D;&amp;#x60F3;&amp;#x5982;&amp;#x4E0B;&amp;#xFF1A;&lt;br&gt;&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;12&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;13&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;14&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;15&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;16&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;17&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;18&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;public boolean onInterceptTouchEvent(MotionEvent event){&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    boolean intercepted = false;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    switch(event.getActionMasked){&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        case MotionEvent.ACTION_DOWN:&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;            intercepted = false;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;            break;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        case MotionEvent.ACTION_MOVE: &lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;            if(&amp;#x7236;&amp;#x63A7;&amp;#x4EF6;&amp;#x62E6;&amp;#x622A;){&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;                intercepted = true;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;            }else{&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;                intercepted =false;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;            }&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;            break;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        ...&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    }&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    ...&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    return intercepted;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;}&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;2.&amp;#x5B50;View&amp;#x4F7F;&amp;#x7528;requestDisallowInterceptTouchEvent&amp;#x8FDB;&amp;#x884C;&amp;#x63A7;&amp;#x5236;&amp;#xFF0C;&amp;#x89E3;&amp;#x51B3;ViewPager&amp;#x5D4C;&amp;#x5957;&amp;#x901A;&amp;#x5E38;&amp;#x4F7F;&amp;#x7528;&amp;#x8BE5;&amp;#x65B9;&amp;#x6CD5;&amp;#xFF0C;&amp;#x5EFA;&amp;#x8BAE;&amp;#x7814;&amp;#x7A76;ViewPager&amp;#x6E90;&amp;#x7801;&amp;#xFF0C;&amp;#x5185;&amp;#x90E8;&amp;#x4E5F;&amp;#x7528;&amp;#x5230;&amp;#x8BE5;&amp;#x65B9;&amp;#x6CD5;&amp;#x89E3;&amp;#x51B3;&amp;#x6ED1;&amp;#x52A8;&amp;#x51B2;&amp;#x7A81;&amp;#x7684;&amp;#x95EE;&amp;#x9898;&amp;#x3002;&amp;#x5176;&amp;#x5927;&amp;#x4F53;&amp;#x601D;&amp;#x60F3;&amp;#x5982;&amp;#x4E0B;&amp;#xFF1A;  &lt;/p&gt;
&lt;p&gt;a) &amp;#x7236;View&amp;#x7684;onInterceptTouchEvent()&amp;#x62E6;&amp;#x622A;&amp;#x6240;&amp;#x6709;&amp;#x4E8B;&amp;#x4EF6;&lt;br&gt;&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;public boolean onInterceptTouchEvent(MotionEvent event){&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    if (getActionMasked == MotionEvent.ACTION_DOWN){&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        return false;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    }else{&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        return true;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    }&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;}&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;b) &amp;#x5B50;View&amp;#x7684;dispatchTouchEvent()&amp;#x8FDB;&amp;#x884C;&amp;#x63A7;&amp;#x5236;&lt;br&gt;&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;12&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;13&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;14&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;15&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;public boolean dispatchTouchEvent(MotionEvent event){&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    switch(event.getActionMasked){&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        case MotionEvent.ACTION_DOWN:&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;            parent.requestDisallowInterceptTouchEvent(true);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;            break;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        case MotionEvent.ACTION_MOVE:&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;            if(&amp;#x7236;&amp;#x63A7;&amp;#x4EF6;&amp;#x62E6;&amp;#x622A;){&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;                parent.requestDisallowInterceptTouchEvent(false);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;            }&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;            break;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        ...&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    }&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    ...&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    return super.dispatchTouchEvent(event);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;}&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;h2 id=&quot;&amp;#x53C2;&amp;#x8003;&quot;&gt;&lt;a href=&quot;#&amp;#x53C2;&amp;#x8003;&quot; class=&quot;headerlink&quot; title=&quot;&amp;#x53C2;&amp;#x8003;&quot;&gt;&lt;/a&gt;&amp;#x53C2;&amp;#x8003;&lt;/h2&gt;&lt;p&gt;[1] &lt;a href=&quot;https://developer.android.com/training/gestures/index.html&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;https://developer.android.com/training/gestures/index.html&lt;/a&gt;&lt;br&gt;[2] &lt;a href=&quot;https://developer.android.com/reference/android/view/MotionEvent.html&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;https://developer.android.com/reference/android/view/MotionEvent.html&lt;/a&gt;&lt;br&gt;[3] &lt;a href=&quot;https://developer.android.com/guide/topics/ui/ui-events.html&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;https://developer.android.com/guide/topics/ui/ui-events.html&lt;/a&gt;&lt;br&gt;[4] &lt;a href=&quot;https://developer.android.com/training/custom-views/making-interactive.html&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;https://developer.android.com/training/custom-views/making-interactive.html&lt;/a&gt;&lt;br&gt;[5] &amp;#x300A;Android&amp;#x5F00;&amp;#x53D1;&amp;#x827A;&amp;#x672F;&amp;#x63A2;&amp;#x7D22;&amp;#x300B; &amp;#x4EFB;&amp;#x7389;&amp;#x521A; &amp;#x8457;&lt;br&gt;[6] &amp;#x300A;Android&amp;#x7FA4;&amp;#x82F1;&amp;#x4F20;&amp;#x300B; &amp;#x5F90;&amp;#x5B9C;&amp;#x751F; &amp;#x8457;&lt;/p&gt;
</content>
    
    <summary type="html">
    
      &lt;!-- toc --&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;#touch-mode&quot;&gt;Touch Mode&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;#motionevent&quot;&gt;MotionEvent&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;#常用手势&quot;&gt;常用手势&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;#view的滑动&quot;&gt;View的滑动&lt;/a&gt;&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;#1使用scrolltoscrollby&quot;&gt;1.使用scrollTo/scrollBy&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;#2使用动画&quot;&gt;2.使用动画&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;#3改变布局参数&quot;&gt;3.改变布局参数&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;#4使用viewdraghelper&quot;&gt;4.使用ViewDragHelper&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;#5总结几个函数&quot;&gt;5.总结几个函数&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;#view的事件分发和滑动冲突解决&quot;&gt;View的事件分发和滑动冲突解决&lt;/a&gt;&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;#1使用touchdelegate扩大view点击事件范围&quot;&gt;1.使用TouchDelegate扩大View点击事件范围&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;#2事件分发机制简述&quot;&gt;2.事件分发机制简述&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;#3常用滑动冲突解决方法&quot;&gt;3.常用滑动冲突解决方法&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;#参考&quot;&gt;参考&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;!-- tocstop --&gt;
&lt;h2 id=&quot;Touch-Mode&quot;&gt;&lt;a href=&quot;#Touch-Mode&quot; class=&quot;headerlink&quot; title=&quot;Touch Mode&quot;&gt;&lt;/a&gt;Touch Mode&lt;/h2&gt;&lt;p&gt;Android有许多Input Type，包括轨迹球、书写笔、声音等，我们主要探究触摸屏这种输入。针对其他输入，这里说明一点：有些手机的实体按键点击时会把该事件传递给当前屏幕中处于焦点状态View的&lt;code&gt;onKey()&lt;/code&gt;回调方法，当然也可以在Activity中&lt;code&gt;dispatchKeyEvent()&lt;/code&gt;进行拦截，或者通过&lt;code&gt;onKeyDown()&lt;/code&gt;和&lt;code&gt;onKeyUp()&lt;/code&gt;进行监听。当前手机APP主要交互是通过触摸屏进行，根据KeyCode监听实体按键的情况不是很多了，而且像Back键、Menu键系统也提供了方便的回调方法，但Home键并没有，而且在onKey方法中也不回调，网上通常采用监听Home键产生的广播事件进行监听，本文不过多对此进行讨论。现在手机通常是虚拟软键盘输入，按键时通常不会回调&lt;code&gt;onKeyDown&lt;/code&gt;方法，所以针对虚拟键盘最好不要使用&lt;code&gt;onKeyDown&lt;/code&gt;等回调事件。针对EditText控件提供了OnEditorActionListener回调方法，用于处理输入完成后的后续工作。Demo如下：&lt;br&gt;&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;10&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;private EditText mEditText;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;...&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;mEditText.setImeOptions(EditorInfo.IME_ACTION_SEARCH); // 输入后搜索&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;mEditText.setSingleLine(true); // required&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;mEditText.setOnEditorActionListener(new TextView.OnEditorActionListener() &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    @Override&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    public boolean onEditorAction(TextView v, int actionId, KeyEvent event) &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        return true;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#125;);&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;想查看支持哪些输入类型，可以通过&lt;code&gt;INPUT_SERVICE&lt;/code&gt;服务查看，其类型常量定义在InputDevice类。Demo如下：&lt;br&gt;&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;InputManager inputManager = (InputManager) getSystemService(Context.INPUT_SERVICE);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;int[] ids = inputManager.getInputDeviceIds();&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;for (int i : ids) &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    ...&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    inputManager.getInputDevice(i).getSources() == Inputdevice.XXX;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    ...&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;触摸操作相比其他交互，不需要高亮来提醒用户当前焦点处于何处，所以当用户点击触摸屏时会处于”Touch Mode”，通过&lt;code&gt;isInTouchMode()&lt;/code&gt;判断是否处于Touch Mode。在Touc Mode下，只有&lt;code&gt;isFocusableInTouchMode()==true&lt;/code&gt;的View会获得焦点(即&lt;code&gt;isFocused()&lt;/code&gt;返回true)，比如EditText；而可触摸的View(即&lt;code&gt;isFocusable()&lt;/code&gt;返回true)点击时也不会获得焦点，仅仅执行其onClick回调，比如Button。如果Button要获得焦点(&lt;code&gt;isFocused()&lt;/code&gt;返回true)，必须保证：  &lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;isFocusableInTouchMode() = true&lt;/li&gt;
&lt;li&gt;isFocusable() = true&lt;/li&gt;
&lt;li&gt;调用requestFocus()  &lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;View的焦点变化可以通过&lt;code&gt;OnFocusChangeListener&lt;/code&gt;进行监听，View失去焦点后如何传递焦点是由系统计算的，当然可以手动进行控制，详情参考(&lt;a href=&quot;https://developer.android.com/guide/topics/ui/ui-events.html#HandlingFocus&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;https://developer.android.com/guide/topics/ui/ui-events.html#HandlingFocus&lt;/a&gt;)。&lt;/p&gt;
    
    </summary>
    
      <category term="Android学习笔记" scheme="http://yoursite.com/categories/Android%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/"/>
    
    
      <category term="Android" scheme="http://yoursite.com/tags/Android/"/>
    
  </entry>
  
  <entry>
    <title>Activity生命周期和启动模式探究</title>
    <link href="http://yoursite.com/2016/06/12/android-study-note-0-md/"/>
    <id>http://yoursite.com/2016/06/12/android-study-note-0-md/</id>
    <published>2016-06-12T09:42:01.000Z</published>
    <updated>2016-06-13T02:45:18.000Z</updated>
    
    <content type="html">&lt;!-- toc --&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;#activity&amp;#x7684;&amp;#x751F;&amp;#x547D;&amp;#x5468;&amp;#x671F;&amp;#x5206;&amp;#x6790;&quot;&gt;Activity&amp;#x7684;&amp;#x751F;&amp;#x547D;&amp;#x5468;&amp;#x671F;&amp;#x5206;&amp;#x6790;&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;#&amp;#x5904;&amp;#x7406;&amp;#x914D;&amp;#x7F6E;&amp;#x53D8;&amp;#x66F4;&quot;&gt;&amp;#x5904;&amp;#x7406;&amp;#x914D;&amp;#x7F6E;&amp;#x53D8;&amp;#x66F4;&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;#&amp;#x4EFB;&amp;#x52A1;&amp;#x548C;&amp;#x8FD4;&amp;#x56DE;&amp;#x6808;&quot;&gt;&amp;#x4EFB;&amp;#x52A1;&amp;#x548C;&amp;#x8FD4;&amp;#x56DE;&amp;#x6808;&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;#intent-&amp;#x548C;-intentfilter&quot;&gt;Intent &amp;#x548C; IntentFilter&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;#&amp;#x53C2;&amp;#x8003;&quot;&gt;&amp;#x53C2;&amp;#x8003;&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;!-- tocstop --&gt;
&lt;p&gt;&amp;#x6700;&amp;#x8FD1;&amp;#x901A;&amp;#x8FC7;&amp;#x5B98;&amp;#x7F51;&amp;#x91CD;&amp;#x65B0;&amp;#x5B66;&amp;#x4E60;&amp;#x4E86;Activity&amp;#x7684;&amp;#x76F8;&amp;#x5173;&amp;#x77E5;&amp;#x8BC6;&amp;#xFF0C;&amp;#x89C9;&amp;#x5F97;&amp;#x6536;&amp;#x83B7;&amp;#x633A;&amp;#x5927;&amp;#xFF0C;&amp;#x9042;&amp;#x603B;&amp;#x7ED3;&amp;#x4E00;&amp;#x4E0B;&amp;#x3002;&lt;/p&gt;
&lt;h2 id=&quot;activity&amp;#x7684;&amp;#x751F;&amp;#x547D;&amp;#x5468;&amp;#x671F;&amp;#x5206;&amp;#x6790;&quot;&gt;&lt;a href=&quot;#Activity&amp;#x7684;&amp;#x751F;&amp;#x547D;&amp;#x5468;&amp;#x671F;&amp;#x5206;&amp;#x6790;&quot; class=&quot;headerlink&quot; title=&quot;Activity&amp;#x7684;&amp;#x751F;&amp;#x547D;&amp;#x5468;&amp;#x671F;&amp;#x5206;&amp;#x6790;&quot;&gt;&lt;/a&gt;Activity&amp;#x7684;&amp;#x751F;&amp;#x547D;&amp;#x5468;&amp;#x671F;&amp;#x5206;&amp;#x6790;&lt;/h2&gt;&lt;img src=&quot;/2016/06/12/android-study-note-0-md/pic_0.png&quot;&gt;
&lt;p&gt;&lt;strong&gt;Tips:&lt;/strong&gt;  &lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;&lt;code&gt;onCreate()&lt;/code&gt;&amp;#x5728;&amp;#x6574;&amp;#x4E2A;&amp;#x751F;&amp;#x547D;&amp;#x5468;&amp;#x671F;&amp;#x53EA;&amp;#x51FA;&amp;#x73B0;&amp;#x4E00;&amp;#x6B21;&amp;#xFF0C;&amp;#x5EFA;&amp;#x8BAE;&amp;#x6267;&amp;#x884C;Activity&amp;#x7684;&amp;#x57FA;&amp;#x672C;&amp;#x8BBE;&amp;#x7F6E;&amp;#xFF0C;&amp;#x4F8B;&amp;#x5982;&amp;#xFF1A;&amp;#x58F0;&amp;#x660E;&amp;#x7528;&amp;#x6237;&amp;#x754C;&amp;#x9762;(&amp;#x5728;XML &amp;#x5E03;&amp;#x5C40;&amp;#x6587;&amp;#x4EF6;&amp;#x4E2D;&amp;#x5B9A;&amp;#x4E49;),&amp;#x5B9A;&amp;#x4E49;&amp;#x6210;&amp;#x5458;&amp;#x53D8;&amp;#x91CF;,&amp;#x4EE5;&amp;#x53CA;&amp;#x914D;&amp;#x7F6E;&amp;#x67D0;&amp;#x4E9B;UI.  &lt;/li&gt;
&lt;li&gt;&lt;code&gt;onDestroy()&lt;/code&gt;&amp;#x5EFA;&amp;#x8BAE;&amp;#x8FDB;&amp;#x884C;&amp;#x7EC8;&amp;#x6B62;&amp;#x5728;&lt;code&gt;onCreate()&lt;/code&gt;&amp;#x671F;&amp;#x95F4;&amp;#x521B;&amp;#x5EFA;&amp;#x7684;&amp;#x540E;&amp;#x53F0;&amp;#x7EBF;&amp;#x7A0B;&amp;#x6216;&amp;#x5176;&amp;#x4ED6;&amp;#x5982;&amp;#x82E5;&amp;#x672A;&amp;#x6B63;&amp;#x786E;&amp;#x5173;&amp;#x95ED;&amp;#x53EF;&amp;#x80FD;&amp;#x5BFC;&amp;#x81F4;&amp;#x5185;&amp;#x5B58;&amp;#x6CC4;&amp;#x9732;&amp;#x7684;&amp;#x957F;&amp;#x671F;&amp;#x8FD0;&amp;#x884C;&amp;#x8D44;&amp;#x6E90;.  &lt;/li&gt;
&lt;li&gt;&lt;code&gt;oncreate()&lt;/code&gt;&amp;#x5185;&amp;#x8C03;&amp;#x7528;&lt;code&gt;finish()&lt;/code&gt;&amp;#x65F6;&amp;#xFF0C;&amp;#x7CFB;&amp;#x7EDF;&amp;#x4F1A;&amp;#x7ACB;&amp;#x523B;&amp;#x8C03;&amp;#x7528;&lt;code&gt;onDestroy()&lt;/code&gt;.  &lt;/li&gt;
&lt;li&gt;&lt;code&gt;onResume()&lt;/code&gt;&amp;#x5EFA;&amp;#x8BAE;&amp;#x521D;&amp;#x59CB;&amp;#x5316;&amp;#x5728;&lt;code&gt;onPause()&lt;/code&gt;&amp;#x671F;&amp;#x95F4;&amp;#x91CA;&amp;#x653E;&amp;#x7684;&amp;#x7EC4;&amp;#x4EF6;&amp;#x5E76;&amp;#x4E14;&amp;#x6267;&amp;#x884C;&amp;#x6BCF;&amp;#x5F53;Activity&amp;#x8FDB;&amp;#x5165;&amp;#x201C;&amp;#x7EE7;&amp;#x7EED;&amp;#x201D;&amp;#x72B6;&amp;#x6001;&amp;#x65F6;&amp;#x5FC5;&amp;#x987B;&amp;#x8FDB;&amp;#x884C;&amp;#x7684;&amp;#x4EFB;&amp;#x4F55;&amp;#x5176;&amp;#x4ED6;&amp;#x521D;&amp;#x59CB;&amp;#x5316;&amp;#x64CD;&amp;#x4F5C;(&amp;#x6BD4;&amp;#x5982;&amp;#x5F00;&amp;#x59CB;&amp;#x52A8;&amp;#x753B;&amp;#x548C;&amp;#x521D;&amp;#x59CB;&amp;#x5316;&amp;#x53EA;&amp;#x5728;Activity&amp;#x5177;&amp;#x6709;&amp;#x7528;&amp;#x6237;&amp;#x7126;&amp;#x70B9;&amp;#x65F6;&amp;#x4F7F;&amp;#x7528;&amp;#x7684;&amp;#x7EC4;&amp;#x4EF6;)  &lt;/li&gt;
&lt;li&gt;&lt;code&gt;onStop()&lt;/code&gt;&amp;#x5EFA;&amp;#x8BAE;&amp;#x91CA;&amp;#x653E;&amp;#x51E0;&amp;#x4E4E;&amp;#x6240;&amp;#x6709;&amp;#x7528;&amp;#x6237;&amp;#x4E0D;&amp;#x4F7F;&amp;#x7528;&amp;#x65F6;&amp;#x4E0D;&amp;#x9700;&amp;#x8981;&amp;#x7684;&amp;#x8D44;&amp;#x6E90;&amp;#xFF0C;&amp;#x6267;&amp;#x884C;&amp;#x66F4;&amp;#x5927;&amp;#x3001;&amp;#x5360;&amp;#x7528;&amp;#x66F4;&amp;#x591A;CPU&amp;#x7684;&amp;#x5173;&amp;#x95ED;&amp;#x64CD;&amp;#x4F5C;&amp;#xFF0C;&amp;#x6BD4;&amp;#x5982;&amp;#x5411;&amp;#x6570;&amp;#x636E;&amp;#x5E93;&amp;#x5199;&amp;#x5165;&amp;#x4FE1;&amp;#x606F;  &lt;/li&gt;
&lt;li&gt;&lt;code&gt;onRestart()&lt;/code&gt;&amp;#x6CA1;&amp;#x6709;&amp;#x9002;&amp;#x7528;&amp;#x4E8E;&amp;#x4E00;&amp;#x822C;&amp;#x5E94;&amp;#x7528;&amp;#x7FA4;&amp;#x4F53;&amp;#x7684;&amp;#x4EFB;&amp;#x4F55;&amp;#x65B9;&amp;#x6CD5;&amp;#x6307;&amp;#x5BFC;&amp;#x539F;&amp;#x5219;&amp;#x3002;&lt;code&gt;onStart()&lt;/code&gt;&amp;#x65B9;&amp;#x6CD5;&amp;#x4F5C;&amp;#x4E3A;&lt;code&gt;onStop&lt;/code&gt;&amp;#x5BF9;&amp;#x5E94;&amp;#x65B9;&amp;#x6CD5;&amp;#xFF0C;&amp;#x53EF;&amp;#x4EE5;&amp;#x521D;&amp;#x59CB;&amp;#x5316;&amp;#x5BF9;&amp;#x5E94;&amp;#x5173;&amp;#x95ED;&amp;#x7684;&amp;#x8D44;&amp;#x6E90;&amp;#x3002;&amp;#x6BD4;&amp;#x5982;&amp;#xFF1A;&amp;#x56E0;&amp;#x4E3A;&amp;#x7528;&amp;#x6237;&amp;#x53EF;&amp;#x80FD;&amp;#x5728;&amp;#x56DE;&amp;#x5230;&amp;#x5B83;&amp;#x4E4B;&amp;#x524D;&amp;#x5DF2;&amp;#x79BB;&amp;#x5F00;&amp;#x5E94;&amp;#x7528;&amp;#x5F88;&amp;#x957F;&amp;#x65F6;&amp;#x95F4;&amp;#xFF0C;&lt;code&gt;onStart()&lt;/code&gt; &amp;#x65B9;&amp;#x6CD5;&amp;#x662F;&amp;#x786E;&amp;#x8BA4;&amp;#x6240;&amp;#x9700;&amp;#x7CFB;&amp;#x7EDF;&amp;#x529F;&amp;#x80FD;&amp;#x5DF2;&amp;#x542F;&amp;#x52A8;&amp;#x7684;&amp;#x7406;&amp;#x60F3;&amp;#x9009;&amp;#x62E9;  &lt;/li&gt;
&lt;li&gt;&lt;code&gt;onPause()&lt;/code&gt;&amp;#x5EFA;&amp;#x8BAE;&amp;#x8FDB;&amp;#x884C;&amp;#x5982;&amp;#x4E0B;&amp;#x64CD;&amp;#x4F5C;&amp;#xFF1A;  &lt;/li&gt;
&lt;/ol&gt;
&lt;ul&gt;
&lt;li&gt;&amp;#x505C;&amp;#x6B62;&amp;#x52A8;&amp;#x753B;&amp;#x6216;&amp;#x5176;&amp;#x4ED6;&amp;#x53EF;&amp;#x80FD;&amp;#x6D88;&amp;#x8017; CPU &amp;#x7684;&amp;#x8FDB;&amp;#x884C;&amp;#x4E4B;&amp;#x4E2D;&amp;#x7684;&amp;#x64CD;&amp;#x4F5C;;  &lt;/li&gt;
&lt;li&gt;&amp;#x63D0;&amp;#x4EA4;&amp;#x672A;&amp;#x4FDD;&amp;#x5B58;&amp;#x7684;&amp;#x66F4;&amp;#x6539;&amp;#xFF0C;&amp;#x4F46;&amp;#x4EC5;&amp;#x5F53;&amp;#x7528;&amp;#x6237;&amp;#x79BB;&amp;#x5F00;&amp;#x65F6;&amp;#x5E0C;&amp;#x671B;&amp;#x6C38;&amp;#x4E45;&amp;#x6027;&amp;#x4FDD;&amp;#x5B58;&amp;#x6B64;&amp;#x7C7B;&amp;#x66F4;&amp;#x6539;(&amp;#x6BD4;&amp;#x5982;&amp;#x7535;&amp;#x5B50;&amp;#x90AE;&amp;#x4EF6;&amp;#x8349;&amp;#x7A3F;);  &lt;/li&gt;
&lt;li&gt;&amp;#x91CA;&amp;#x653E;&amp;#x7CFB;&amp;#x7EDF;&amp;#x8D44;&amp;#x6E90;&amp;#xFF0C;&amp;#x6BD4;&amp;#x5982;&amp;#x5E7F;&amp;#x64AD;&amp;#x63A5;&amp;#x6536;&amp;#x5668;&amp;#x3001;&amp;#x4F20;&amp;#x611F;&amp;#x5668;&amp;#x624B;&amp;#x67C4;(&amp;#x6BD4;&amp;#x5982; GPS)&amp;#x6216;&amp;#x5F53;&amp;#x60A8;&amp;#x7684;Activity&amp;#x6682;&amp;#x505C;&amp;#x4E14;&amp;#x7528;&amp;#x6237;&amp;#x4E0D;&amp;#x9700;&amp;#x8981;&amp;#x5B83;&amp;#x4EEC;&amp;#x65F6;&amp;#x4ECD;&amp;#x7136;&amp;#x53EF;&amp;#x80FD;&amp;#x5F71;&amp;#x54CD;&amp;#x7535;&amp;#x6C60;&amp;#x5BFF;&amp;#x547D;&amp;#x7684;&amp;#x4EFB;&amp;#x4F55;&amp;#x5176;&amp;#x4ED6;&amp;#x8D44;&amp;#x6E90;  &lt;/li&gt;
&lt;/ul&gt;
&lt;a id=&quot;more&quot;&gt;&lt;/a&gt;
&lt;img src=&quot;/2016/06/12/android-study-note-0-md/pic_1.png&quot;&gt;
&lt;!-- ![](pic_1.png &quot;&quot;) --&gt;
&lt;p&gt;&lt;strong&gt;Tips:&lt;/strong&gt;  &lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;Activity&amp;#x521B;&amp;#x5EFA;&amp;#x540E;, &lt;code&gt;onPause()&lt;/code&gt;&amp;#x5FC5;&amp;#x5B9A;&amp;#x6210;&amp;#x4E3A;&amp;#x6700;&amp;#x540E;&amp;#x8C03;&amp;#x7528;&amp;#x7684;&amp;#x65B9;&amp;#x6CD5;&amp;#xFF0C;&amp;#x7136;&amp;#x540E;&amp;#x624D;&amp;#x80FD;&amp;#x7EC8;&amp;#x6B62;&amp;#x8FDB;&amp;#x7A0B;(&amp;#x5982;&amp;#x679C;&amp;#x7CFB;&amp;#x7EDF;&amp;#x5728;&amp;#x7D27;&amp;#x6025;&amp;#x60C5;&amp;#x51B5;&amp;#x4E0B;&amp;#x5FC5;&amp;#x987B;&amp;#x6062;&amp;#x590D;&amp;#x5185;&amp;#x5B58;&amp;#xFF0C;&amp;#x5219;&amp;#x53EF;&amp;#x80FD;&amp;#x4E0D;&amp;#x4F1A;&amp;#x8C03;&amp;#x7528;&lt;code&gt;onStop()&lt;/code&gt;&amp;#x548C;&lt;code&gt;onDestroy()&lt;/code&gt;)&amp;#x3002;&amp;#x56E0;&amp;#x6B64;&amp;#xFF0C;&amp;#x60A8;&amp;#x5E94;&amp;#x8BE5;&amp;#x4F7F;&amp;#x7528;&lt;code&gt;onPause()&lt;/code&gt; &amp;#x5411;&amp;#x5B58;&amp;#x50A8;&amp;#x8BBE;&amp;#x5907;&amp;#x5199;&amp;#x5165;&amp;#x81F3;&amp;#x5173;&amp;#x91CD;&amp;#x8981;&amp;#x7684;&amp;#x6301;&amp;#x4E45;&amp;#x6027;&amp;#x6570;&amp;#x636E;&amp;#x3002;  &lt;/li&gt;
&lt;li&gt;&amp;#x5728;&amp;#x4ECE;&lt;code&gt;onPause()&lt;/code&gt;&amp;#x8FD4;&amp;#x56DE;&amp;#x7684;&amp;#x65F6;&amp;#x95F4;&amp;#x5230;&lt;code&gt;onResume()&lt;/code&gt;&amp;#x88AB;&amp;#x8C03;&amp;#x7528;&amp;#x7684;&amp;#x65F6;&amp;#x95F4;&amp;#xFF0C;&amp;#x7CFB;&amp;#x7EDF;&amp;#x53EF;&amp;#x4EE5;&amp;#x7EC8;&amp;#x6B62;Activity&amp;#x3002; &lt;/li&gt;
&lt;/ol&gt;
&lt;ul&gt;
&lt;li&gt;Activity A &amp;#x7684;&lt;code&gt;onPause()&lt;/code&gt;   &lt;/li&gt;
&lt;li&gt;Activity B &amp;#x7684;&lt;code&gt;onCreate()&lt;/code&gt;&amp;#x3001;&lt;code&gt;onStart()&lt;/code&gt;&amp;#x548C;&lt;code&gt;onResume()&lt;/code&gt;&amp;#x65B9;&amp;#x6CD5;&amp;#x4F9D;&amp;#x6B21;&amp;#x6267;&amp;#x884C;(Activity B &amp;#x73B0;&amp;#x5728;&amp;#x5177;&amp;#x6709;&amp;#x7528;&amp;#x6237;&amp;#x7126;&amp;#x70B9;&amp;#x3002;&amp;#xFF09;  &lt;/li&gt;
&lt;li&gt;&amp;#x5982;&amp;#x679C; Activity A &amp;#x5728;&amp;#x5C4F;&amp;#x5E55;&amp;#x4E0A;&amp;#x4E0D;&amp;#x518D;&amp;#x53EF;&amp;#x89C1;&amp;#xFF0C;&amp;#x5219;&amp;#x5176;&lt;code&gt;onStop()&lt;/code&gt;&amp;#x65B9;&amp;#x6CD5;&amp;#x6267;&amp;#x884C;  &lt;/li&gt;
&lt;/ul&gt;
&lt;img src=&quot;/2016/06/12/android-study-note-0-md/pic_2.png&quot;&gt;
&lt;!-- ![](pic_2.png &quot;&quot;) --&gt;
&lt;p&gt;&lt;strong&gt;Tips:&lt;/strong&gt;  &lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;Activity&amp;#x56E0;&amp;#x6B63;&amp;#x5E38;&amp;#x5E94;&amp;#x7528;&amp;#x884C;&amp;#x4E3A;(&amp;#x7528;&amp;#x6237;&amp;#x6309;&amp;#x4E0B;&amp;#x8FD4;&amp;#x56DE;&amp;#x6216;&amp;#x81EA;&amp;#x884C;&amp;#x5B8C;&amp;#x6210;&amp;#x800C;&amp;#x88AB;&amp;#x9500;&amp;#x6BC1;&amp;#x65F6;)&amp;#x4E0D;&amp;#x4F1A;&amp;#x8C03;&amp;#x7528;&lt;code&gt;onSaveInstanceState()&lt;/code&gt;;&amp;#x5176;&amp;#x4ED6;&amp;#x60C5;&amp;#x51B5;(&amp;#x6BD4;&amp;#x5982;:&amp;#x6309;&amp;#x4E0B;&amp;#x7535;&amp;#x6E90;&amp;#x3001;Home&amp;#x952E;&amp;#xFF1B;&amp;#x542F;&amp;#x52A8;&amp;#x65B0;&amp;#x7684;Activity&amp;#x7B49;)&amp;#x4F1A;&amp;#x8FDB;&amp;#x884C;&amp;#x8C03;&amp;#x7528;&amp;#xFF0C;&amp;#x8C03;&amp;#x7528;&amp;#x65F6;&amp;#x673A;&amp;#x53EF;&amp;#x80FD;&amp;#x5728;&lt;code&gt;onPause()&lt;/code&gt;&amp;#x6216;&lt;code&gt;onStop()&lt;/code&gt;&amp;#x4E4B;&amp;#x524D;&amp;#x3002;  &lt;/li&gt;
&lt;li&gt;&amp;#x4E3A;&amp;#x4E86;Android&amp;#x7CFB;&amp;#x7EDF;&amp;#x6062;&amp;#x590D;Activity&amp;#x4E2D;&amp;#x89C6;&amp;#x56FE;&amp;#x7684;&amp;#x72B6;&amp;#x6001;&amp;#xFF0C;&amp;#x6BCF;&amp;#x4E2A;&amp;#x89C6;&amp;#x56FE;&amp;#x5FC5;&amp;#x987B;&amp;#x5177;&amp;#x6709;android:id&amp;#x5C5E;&amp;#x6027;&amp;#x63D0;&amp;#x4F9B;&amp;#x7684;&amp;#x552F;&amp;#x4E00;ID&amp;#x3002;&amp;#x8FD8;&amp;#x53EF;&amp;#x4EE5;&amp;#x901A;&amp;#x8FC7;&amp;#x5C06; &lt;code&gt;android:saveEnabled&lt;/code&gt;&amp;#x5C5E;&amp;#x6027;&amp;#x8BBE;&amp;#x7F6E;&amp;#x4E3A; &amp;#x201C;false&amp;#x201D; &amp;#x6216;&amp;#x901A;&amp;#x8FC7;&amp;#x8C03;&amp;#x7528;&lt;code&gt;setSaveEnabled()&lt;/code&gt;&amp;#x65B9;&amp;#x6CD5;&amp;#x663E;&amp;#x5F0F;&amp;#x963B;&amp;#x6B62;&amp;#x5E03;&amp;#x5C40;&amp;#x5185;&amp;#x7684;&amp;#x89C6;&amp;#x56FE;&amp;#x4FDD;&amp;#x5B58;&amp;#x5176;&amp;#x72B6;&amp;#x6001;.  &lt;/li&gt;
&lt;li&gt;&amp;#x6062;&amp;#x590D;Activity&amp;#x72B6;&amp;#x6001;&amp;#x5EFA;&amp;#x8BAE;&amp;#x5728;&lt;code&gt;onRestoreInstanceState()&lt;/code&gt;&amp;#x4E2D;,&amp;#x8C03;&amp;#x7528;&amp;#x65F6;&amp;#x673A;&amp;#x5728;&lt;code&gt;onStart()&lt;/code&gt;&amp;#x4E4B;&amp;#x540E;,&amp;#x5176;&amp;#x53C2;&amp;#x6570;&lt;code&gt;Bundle savedInstanceState&lt;/code&gt;&amp;#x4E00;&amp;#x5B9A;&amp;#x4E0D;&amp;#x4E3A;&lt;code&gt;null&lt;/code&gt;&amp;#x3002;&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id=&quot;&amp;#x5904;&amp;#x7406;&amp;#x914D;&amp;#x7F6E;&amp;#x53D8;&amp;#x66F4;&quot;&gt;&lt;a href=&quot;#&amp;#x5904;&amp;#x7406;&amp;#x914D;&amp;#x7F6E;&amp;#x53D8;&amp;#x66F4;&quot; class=&quot;headerlink&quot; title=&quot;&amp;#x5904;&amp;#x7406;&amp;#x914D;&amp;#x7F6E;&amp;#x53D8;&amp;#x66F4;&quot;&gt;&lt;/a&gt;&amp;#x5904;&amp;#x7406;&amp;#x914D;&amp;#x7F6E;&amp;#x53D8;&amp;#x66F4;&lt;/h2&gt;&lt;p&gt;&amp;#x6709;&amp;#x4E9B;&amp;#x8BBE;&amp;#x5907;&amp;#x914D;&amp;#x7F6E;&amp;#x53EF;&amp;#x80FD;&amp;#x4F1A;&amp;#x5728;&amp;#x8FD0;&amp;#x884C;&amp;#x65F6;&amp;#x53D1;&amp;#x751F;&amp;#x53D8;&amp;#x5316;(&amp;#x4F8B;&amp;#x5982;&amp;#x5C4F;&amp;#x5E55;&amp;#x65B9;&amp;#x5411;&amp;#x3001;&amp;#x952E;&amp;#x76D8;&amp;#x53EF;&amp;#x7528;&amp;#x6027;&amp;#x53CA;&amp;#x8BED;&amp;#x8A00;)&amp;#x3002; &amp;#x53D1;&amp;#x751F;&amp;#x6B64;&amp;#x7C7B;&amp;#x53D8;&amp;#x5316;&amp;#x65F6;&amp;#xFF0C;Android &amp;#x4F1A;&amp;#x91CD;&amp;#x5EFA;&amp;#x8FD0;&amp;#x884C;&amp;#x4E2D;&amp;#x7684; Activity&amp;#xFF08;&amp;#x7CFB;&amp;#x7EDF;&amp;#x8C03;&amp;#x7528;&lt;code&gt;onDestroy()&lt;/code&gt;&amp;#xFF0C;&amp;#x7136;&amp;#x540E;&amp;#x7ACB;&amp;#x5373;&amp;#x8C03;&amp;#x7528;&lt;code&gt;onCreate()&lt;/code&gt;&amp;#xFF09;&amp;#x3002;&amp;#x6B64;&amp;#x884C;&amp;#x4E3A;&amp;#x65E8;&amp;#x5728;&amp;#x901A;&amp;#x8FC7;&amp;#x5229;&amp;#x7528;&amp;#x60A8;&amp;#x63D0;&amp;#x4F9B;&amp;#x7684;&amp;#x5907;&amp;#x7528;&amp;#x8D44;&amp;#x6E90;&amp;#xFF08;&amp;#x4F8B;&amp;#x5982;&amp;#x9002;&amp;#x7528;&amp;#x4E8E;&amp;#x4E0D;&amp;#x540C;&amp;#x5C4F;&amp;#x5E55;&amp;#x65B9;&amp;#x5411;&amp;#x548C;&amp;#x5C4F;&amp;#x5E55;&amp;#x5C3A;&amp;#x5BF8;&amp;#x7684;&amp;#x4E0D;&amp;#x540C;&amp;#x5E03;&amp;#x5C40;&amp;#xFF09;&amp;#x81EA;&amp;#x52A8;&amp;#x91CD;&amp;#x65B0;&amp;#x52A0;&amp;#x8F7D;&amp;#x60A8;&amp;#x7684;&amp;#x5E94;&amp;#x7528;&amp;#x6765;&amp;#x5E2E;&amp;#x52A9;&amp;#x5B83;&amp;#x9002;&amp;#x5E94;&amp;#x65B0;&amp;#x914D;&amp;#x7F6E;&amp;#x3002;  &amp;#x5982;&amp;#x679C;&amp;#x91CD;&amp;#x542F;&amp;#x5E94;&amp;#x7528;&amp;#x9700;&amp;#x8981;&amp;#x6062;&amp;#x590D;&amp;#x5927;&amp;#x91CF;&amp;#x6570;&amp;#x636E;&amp;#x65F6;&amp;#xFF0C;&amp;#x4E0D;&amp;#x4EC5;&amp;#x6210;&amp;#x672C;&amp;#x9AD8;&amp;#x6602;&amp;#xFF0C;&amp;#x800C;&amp;#x4E14;&amp;#x7ED9;&amp;#x7528;&amp;#x6237;&amp;#x7559;&amp;#x4E0B;&amp;#x7CDF;&amp;#x7CD5;&amp;#x7684;&amp;#x4F7F;&amp;#x7528;&amp;#x4F53;&amp;#x9A8C;&amp;#x3002;&amp;#x6709;&amp;#x5982;&amp;#x4E0B;&amp;#x4E24;&amp;#x79CD;&amp;#x89E3;&amp;#x51B3;&amp;#x65B9;&amp;#x6848;&amp;#xFF1A;  &lt;/p&gt;
&lt;p&gt;1.&amp;#x5728;&amp;#x914D;&amp;#x7F6E;&amp;#x53D8;&amp;#x66F4;&amp;#x671F;&amp;#x95F4;&amp;#x4FDD;&amp;#x7559;&amp;#x5BF9;&amp;#x8C61;(&amp;#x4F7F;&amp;#x7528;Fragment)&amp;#xFF0C;&amp;#x5B98;&amp;#x65B9;&amp;#x4F8B;&amp;#x5B50;&amp;#x5982;&amp;#x4E0B;&amp;#xFF1A;&lt;br&gt;&lt;figure class=&quot;highlight java&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;12&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;13&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;14&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;15&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;16&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;17&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;18&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;19&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;20&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;21&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;22&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;23&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;24&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;25&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;26&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;27&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;28&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;29&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;30&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;31&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;32&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;33&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;34&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;35&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;36&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;37&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;38&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;39&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;40&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;41&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;42&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;43&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;44&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;45&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;46&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;47&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;48&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;49&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;50&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;51&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;52&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;53&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;54&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;55&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;56&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;class&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;RetainedFragment&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;extends&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;Fragment&lt;/span&gt; &lt;/span&gt;{&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;comment&quot;&gt;// data object we want to retain&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;private&lt;/span&gt; MyDataObject data;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;comment&quot;&gt;// this method is only called once for this fragment&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;meta&quot;&gt;@Override&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;onCreate&lt;/span&gt;&lt;span class=&quot;params&quot;&gt;(Bundle savedInstanceState)&lt;/span&gt; &lt;/span&gt;{&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &lt;span class=&quot;keyword&quot;&gt;super&lt;/span&gt;.onCreate(savedInstanceState);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &lt;span class=&quot;comment&quot;&gt;// retain this fragment&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        setRetainInstance(&lt;span class=&quot;keyword&quot;&gt;true&lt;/span&gt;);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    }&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;setData&lt;/span&gt;&lt;span class=&quot;params&quot;&gt;(MyDataObject data)&lt;/span&gt; &lt;/span&gt;{&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &lt;span class=&quot;keyword&quot;&gt;this&lt;/span&gt;.data = data;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    }&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;public&lt;/span&gt; MyDataObject &lt;span class=&quot;title&quot;&gt;getData&lt;/span&gt;&lt;span class=&quot;params&quot;&gt;()&lt;/span&gt; &lt;/span&gt;{&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &lt;span class=&quot;keyword&quot;&gt;return&lt;/span&gt; data;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    }&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;}&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;class&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;MyActivity&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;extends&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;Activity&lt;/span&gt; &lt;/span&gt;{&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;private&lt;/span&gt; RetainedFragment dataFragment;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;meta&quot;&gt;@Override&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;onCreate&lt;/span&gt;&lt;span class=&quot;params&quot;&gt;(Bundle savedInstanceState)&lt;/span&gt; &lt;/span&gt;{&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &lt;span class=&quot;keyword&quot;&gt;super&lt;/span&gt;.onCreate(savedInstanceState);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        setContentView(R.layout.main);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &lt;span class=&quot;comment&quot;&gt;// find the retained fragment on activity restarts&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        FragmentManager fm = getFragmentManager();&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        dataFragment = (DataFragment) fm.findFragmentByTag(&amp;#x201C;data&amp;#x201D;);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &lt;span class=&quot;comment&quot;&gt;// create the fragment and data the first time&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &lt;span class=&quot;keyword&quot;&gt;if&lt;/span&gt; (dataFragment == &lt;span class=&quot;keyword&quot;&gt;null&lt;/span&gt;) {&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;            &lt;span class=&quot;comment&quot;&gt;// add the fragment&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;            dataFragment = &lt;span class=&quot;keyword&quot;&gt;new&lt;/span&gt; DataFragment();&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;            fm.beginTransaction().add(dataFragment, &amp;#x201C;data&amp;#x201D;).commit();&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;            &lt;span class=&quot;comment&quot;&gt;// load the data from the web&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;            dataFragment.setData(loadMyData());&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        }&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &lt;span class=&quot;comment&quot;&gt;// the data is available in dataFragment.getData()&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        ...&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    }&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;meta&quot;&gt;@Override&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;onDestroy&lt;/span&gt;&lt;span class=&quot;params&quot;&gt;()&lt;/span&gt; &lt;/span&gt;{&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &lt;span class=&quot;keyword&quot;&gt;super&lt;/span&gt;.onDestroy();&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &lt;span class=&quot;comment&quot;&gt;// store the data in the fragment&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        dataFragment.setData(collectMyLoadedData());&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    }&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;}&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;2.&amp;#x81EA;&amp;#x884C;&amp;#x5904;&amp;#x7406;&amp;#x914D;&amp;#x7F6E;&amp;#x53D8;&amp;#x66F4;&lt;br&gt;&amp;#x58F0;&amp;#x660E;Activity&amp;#x5C06;&amp;#x81EA;&amp;#x884C;&amp;#x5904;&amp;#x7406;&amp;#x914D;&amp;#x7F6E;&amp;#x53D8;&amp;#x66F4;&amp;#xFF0C;&amp;#x8FD9;&amp;#x6837;&amp;#x53EF;&amp;#x4EE5;&amp;#x963B;&amp;#x6B62;&amp;#x7CFB;&amp;#x7EDF;&amp;#x91CD;&amp;#x542F;Activity&amp;#x3002;&amp;#x5728;&amp;#x6E05;&amp;#x5355;&amp;#x6587;&amp;#x4EF6;&amp;#x4E2D;&amp;#x7F16;&amp;#x8F91;&amp;#x76F8;&amp;#x5E94;&amp;#x7684;&lt;code&gt;&amp;lt;activity&amp;gt;&lt;/code&gt;&amp;#x5143;&amp;#x7D20;&amp;#xFF0C;&amp;#x4EE5;&amp;#x5305;&amp;#x542B; &lt;code&gt;android:configChanges&lt;/code&gt;&amp;#x5C5E;&amp;#x6027;&amp;#x4EE5;&amp;#x53CA;&amp;#x4EE3;&amp;#x8868;&amp;#x8981;&amp;#x5904;&amp;#x7406;&amp;#x7684;&amp;#x914D;&amp;#x7F6E;&amp;#x503C;.&amp;#x6700;&amp;#x5E38;&amp;#x7528;&amp;#x7684;&amp;#x662F;&lt;code&gt;android:configChanges=&amp;quot;orientation|screenSize|keyboardHidden|&amp;quot;&lt;/code&gt;,&amp;#x907F;&amp;#x514D;&amp;#x56E0;&amp;#x5C4F;&amp;#x5E55;&amp;#x65B9;&amp;#x5411;&amp;#x548C;&amp;#x53EF;&amp;#x7528;&amp;#x952E;&amp;#x76D8;&amp;#x6539;&amp;#x53D8;&amp;#x800C;&amp;#x5BFC;&amp;#x81F4;&amp;#x91CD;&amp;#x542F;.&amp;#x5F53;&amp;#x5176;&amp;#x4E2D;&amp;#x4E00;&amp;#x4E2A;&amp;#x914D;&amp;#x7F6E;&amp;#x53D1;&amp;#x751F;&amp;#x53D8;&amp;#x5316;&amp;#x65F6;&amp;#xFF0C;&lt;code&gt;onConfigurationChanged()&lt;/code&gt;&amp;#x4F1A;&amp;#x88AB;&amp;#x8C03;&amp;#x7528;&amp;#xFF0C;&amp;#x6B64;&amp;#x65F6;Activity&amp;#x7684;Resources&amp;#x5BF9;&amp;#x8C61;&amp;#x4F1A;&amp;#x76F8;&amp;#x5E94;&amp;#x5730;&amp;#x8FDB;&amp;#x884C;&amp;#x66F4;&amp;#x65B0;&amp;#xFF0C;&amp;#x4EE5;&amp;#x6839;&amp;#x636E;&amp;#x65B0;&amp;#x914D;&amp;#x7F6E;&amp;#x8FD4;&amp;#x56DE;&amp;#x8D44;&amp;#x6E90;&amp;#x3002;&lt;/p&gt;
&lt;h2 id=&quot;&amp;#x4EFB;&amp;#x52A1;&amp;#x548C;&amp;#x8FD4;&amp;#x56DE;&amp;#x6808;&quot;&gt;&lt;a href=&quot;#&amp;#x4EFB;&amp;#x52A1;&amp;#x548C;&amp;#x8FD4;&amp;#x56DE;&amp;#x6808;&quot; class=&quot;headerlink&quot; title=&quot;&amp;#x4EFB;&amp;#x52A1;&amp;#x548C;&amp;#x8FD4;&amp;#x56DE;&amp;#x6808;&quot;&gt;&lt;/a&gt;&amp;#x4EFB;&amp;#x52A1;&amp;#x548C;&amp;#x8FD4;&amp;#x56DE;&amp;#x6808;&lt;/h2&gt;&lt;ol&gt;
&lt;li&gt;&amp;#x4EFB;&amp;#x52A1;&amp;#x662F;&amp;#x6307;&amp;#x5728;&amp;#x6267;&amp;#x884C;&amp;#x7279;&amp;#x5B9A;&amp;#x4F5C;&amp;#x4E1A;&amp;#x65F6;&amp;#x4E0E;&amp;#x7528;&amp;#x6237;&amp;#x4EA4;&amp;#x4E92;&amp;#x7684;&amp;#x4E00;&amp;#x7CFB;&amp;#x5217; Activity&amp;#x3002; &amp;#x8FD9;&amp;#x4E9B; Activity &amp;#x6309;&amp;#x7167;&amp;#x5404;&amp;#x81EA;&amp;#x7684;&amp;#x6253;&amp;#x5F00;&amp;#x987A;&amp;#x5E8F;&amp;#x6392;&amp;#x5217;&amp;#x5728;&amp;#x5806;&amp;#x6808;(&amp;#x5373;&amp;#x201C;&amp;#x8FD4;&amp;#x56DE;&amp;#x6808;&amp;#x201D;)&amp;#x4E2D;&amp;#x3002;  &lt;/li&gt;
&lt;li&gt;&amp;#x8BBE;&amp;#x5907;&amp;#x4E3B;&amp;#x5C4F;&amp;#x5E55;&amp;#x662F;&amp;#x5927;&amp;#x591A;&amp;#x6570;&amp;#x4EFB;&amp;#x52A1;&amp;#x7684;&amp;#x8D77;&amp;#x70B9;&amp;#x3002;&amp;#x5F53;&amp;#x7528;&amp;#x6237;&amp;#x89E6;&amp;#x6478;&amp;#x5E94;&amp;#x7528;&amp;#x542F;&amp;#x52A8;&amp;#x5668;&amp;#x4E2D;&amp;#x7684;&amp;#x56FE;&amp;#x6807;&amp;#xFF08;&amp;#x6216;&amp;#x4E3B;&amp;#x5C4F;&amp;#x5E55;&amp;#x4E0A;&amp;#x7684;&amp;#x5FEB;&amp;#x6377;&amp;#x952E;&amp;#xFF09;&amp;#x65F6;&amp;#xFF0C;&amp;#x8BE5;&amp;#x5E94;&amp;#x7528;&amp;#x7684;&amp;#x4EFB;&amp;#x52A1;&amp;#x5C06;&amp;#x51FA;&amp;#x73B0;&amp;#x5728;&amp;#x524D;&amp;#x53F0;&amp;#x3002;   &amp;#x5982;&amp;#x679C;&amp;#x5E94;&amp;#x7528;&amp;#x4E0D;&amp;#x5B58;&amp;#x5728;&amp;#x4EFB;&amp;#x52A1;&amp;#xFF08;&amp;#x5E94;&amp;#x7528;&amp;#x6700;&amp;#x8FD1;&amp;#x672A;&amp;#x66FE;&amp;#x4F7F;&amp;#x7528;&amp;#xFF09;&amp;#xFF0C;&amp;#x5219;&amp;#x4F1A;&amp;#x521B;&amp;#x5EFA;&amp;#x4E00;&amp;#x4E2A;&amp;#x65B0;&amp;#x4EFB;&amp;#x52A1;&amp;#xFF0C;&amp;#x5E76;&amp;#x4E14;&amp;#x8BE5;&amp;#x5E94;&amp;#x7528;&amp;#x7684;&amp;#x201C;&amp;#x4E3B;&amp;#x201D;Activity &amp;#x5C06;&amp;#x4F5C;&amp;#x4E3A;&amp;#x5806;&amp;#x6808;&amp;#x4E2D;&amp;#x7684;&amp;#x6839; Activity &amp;#x6253;&amp;#x5F00;&amp;#x3002;&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;&lt;code&gt;android:taskAffinity&lt;/code&gt;&lt;/strong&gt; &amp;#x7528;&amp;#x4E8E;&amp;#x6307;&amp;#x5B9A;Activity&amp;#x5C5E;&amp;#x4E8E;&amp;#x54EA;&amp;#x4E2A;&amp;#x4EFB;&amp;#x52A1;&amp;#xFF0C;&amp;#x9ED8;&amp;#x8BA4;&amp;#x60C5;&amp;#x51B5;&amp;#x4E0B;&amp;#x540C;&amp;#x4E00;&amp;#x4E2A;application&amp;#x7684;Activities&amp;#x90FD;&amp;#x5C5E;&amp;#x4E8E;&amp;#x4E00;&amp;#x4E2A;&amp;#x4EFB;&amp;#x52A1;&amp;#xFF0C;&amp;#x5982;&amp;#x679C;&amp;#x4E0D;&amp;#x6307;&amp;#x5B9A;&amp;#x5219;&amp;#x9ED8;&amp;#x8BA4;&amp;#x503C;&amp;#x662F;&lt;code&gt;&amp;lt;application&amp;gt;&lt;/code&gt;&amp;#x4E2D;&amp;#x7684;taskAffinity&amp;#x503C;&amp;#xFF0C;&amp;#x8BE5;&amp;#x503C;&amp;#x9ED8;&amp;#x8BA4;&amp;#x662F;&lt;code&gt;&amp;lt;manifest&amp;gt;&lt;/code&gt;&amp;#x4E2D;&amp;#x7684;&amp;#x5305;&amp;#x540D;&amp;#x3002;&amp;#x4E00;&amp;#x4E2A;Activity&amp;#x4EFB;&amp;#x52A1;&amp;#x7684;Affinity&amp;#x53D6;&amp;#x51B3;&amp;#x4E8E;&amp;#x6839;Activity&amp;#x3002;&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;&lt;code&gt;android:launchMode&lt;/code&gt;&lt;/strong&gt; &amp;#x8BE6;&amp;#x89E3;  &lt;ul&gt;
&lt;li&gt;&lt;strong&gt;&lt;code&gt;standard&lt;/code&gt;&lt;/strong&gt; &amp;#x9ED8;&amp;#x8BA4;&amp;#x3002;&amp;#x7CFB;&amp;#x7EDF;&amp;#x5728;&amp;#x542F;&amp;#x52A8; Activity &amp;#x7684;&amp;#x4EFB;&amp;#x52A1;&amp;#x4E2D;&amp;#x521B;&amp;#x5EFA; Activity &amp;#x7684;&amp;#x65B0;&amp;#x5B9E;&amp;#x4F8B;&amp;#x5E76;&amp;#x5411;&amp;#x5176;&amp;#x4F20;&amp;#x9001; Intent&amp;#x3002;Activity &amp;#x53EF;&amp;#x4EE5;&amp;#x591A;&amp;#x6B21;&amp;#x5B9E;&amp;#x4F8B;&amp;#x5316;&amp;#xFF0C;&amp;#x800C;&amp;#x6BCF;&amp;#x4E2A;&amp;#x5B9E;&amp;#x4F8B;&amp;#x5747;&amp;#x53EF;&amp;#x5C5E;&amp;#x4E8E;&amp;#x4E0D;&amp;#x540C;&amp;#x7684;&amp;#x4EFB;&amp;#x52A1;&amp;#xFF0C;&amp;#x5E76;&amp;#x4E14;&amp;#x4E00;&amp;#x4E2A;&amp;#x4EFB;&amp;#x52A1;&amp;#x53EF;&amp;#x4EE5;&amp;#x62E5;&amp;#x6709;&amp;#x591A;&amp;#x4E2A;&amp;#x5B9E;&amp;#x4F8B;&amp;#x3002;&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;&lt;code&gt;singleTop&lt;/code&gt;&lt;/strong&gt; &amp;#x5982;&amp;#x679C;&amp;#x5F53;&amp;#x524D;&amp;#x4EFB;&amp;#x52A1;&amp;#x7684;&amp;#x9876;&amp;#x90E8;&amp;#x5DF2;&amp;#x5B58;&amp;#x5728; Activity &amp;#x7684;&amp;#x4E00;&amp;#x4E2A;&amp;#x5B9E;&amp;#x4F8B;&amp;#xFF0C;&amp;#x5219;&amp;#x7CFB;&amp;#x7EDF;&amp;#x4F1A;&amp;#x901A;&amp;#x8FC7;&amp;#x8C03;&amp;#x7528;&amp;#x8BE5;&amp;#x5B9E;&amp;#x4F8B;&amp;#x7684; onNewIntent() &amp;#x65B9;&amp;#x6CD5;&amp;#x5411;&amp;#x5176;&amp;#x4F20;&amp;#x9001; Intent&amp;#xFF0C;&amp;#x800C;&amp;#x4E0D;&amp;#x662F;&amp;#x521B;&amp;#x5EFA; Activity &amp;#x7684;&amp;#x65B0;&amp;#x5B9E;&amp;#x4F8B;&amp;#x3002;&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;&lt;code&gt;singleTask&lt;/code&gt;&lt;/strong&gt; &amp;#x4F7F;&amp;#x7528;singleTask&amp;#x542F;&amp;#x52A8;&amp;#x6A21;&amp;#x5F0F;&amp;#x7684;Activity&amp;#x5728;&amp;#x7CFB;&amp;#x7EDF;&amp;#x4E2D;&amp;#x53EA;&amp;#x4F1A;&amp;#x5B58;&amp;#x5728;&amp;#x4E00;&amp;#x4E2A;&amp;#x5B9E;&amp;#x4F8B;&amp;#x3002;&amp;#x5982;&amp;#x679C;&amp;#x8FD9;&amp;#x4E2A;&amp;#x5B9E;&amp;#x4F8B;&amp;#x5DF2;&amp;#x7ECF;&amp;#x5B58;&amp;#x5728;&amp;#xFF0C;Intent&amp;#x5C31;&amp;#x4F1A;&amp;#x901A;&amp;#x8FC7;onNewIntent&amp;#x4F20;&amp;#x9012;&amp;#x5230;&amp;#x8FD9;&amp;#x4E2A;Activity&amp;#x3002;&amp;#x5426;&amp;#x5219;&amp;#x65B0;&amp;#x7684;Activity&amp;#x5B9E;&amp;#x4F8B;&amp;#x88AB;&amp;#x521B;&amp;#x5EFA;&amp;#x3002;(&amp;#x5B98;&amp;#x7F51;&amp;#x8BF4;&amp;#x7684;&amp;#x4E0D;&amp;#x660E;&amp;#x786E;&amp;#xFF0C;&amp;#x4EE5;&amp;#x4E0B;&amp;#x53C2;&amp;#x7167;&amp;#x76F8;&amp;#x5173;&amp;#x5B9E;&amp;#x9A8C;&amp;#x7ED3;&amp;#x679C;&amp;#x548C;&amp;#x6E90;&amp;#x7801;&amp;#x5206;&amp;#x6790;)&lt;ul&gt;
&lt;li&gt;taskAffinity&amp;#x76F8;&amp;#x540C;&lt;ul&gt;
&lt;li&gt;&amp;#x5982;&amp;#x679C;&amp;#x7CFB;&amp;#x7EDF;&amp;#x4E2D;&amp;#x4E0D;&amp;#x5B58;&amp;#x5728;singleTask Activity&amp;#x7684;&amp;#x5B9E;&amp;#x4F8B;&amp;#xFF0C;&amp;#x90A3;&amp;#x4E48;&amp;#x5C31;&amp;#x9700;&amp;#x8981;&amp;#x521B;&amp;#x5EFA;&amp;#x8FD9;&amp;#x4E2A;Activity&amp;#x7684;&amp;#x5B9E;&amp;#x4F8B;&amp;#xFF0C;&amp;#x5E76;&amp;#x4E14;&amp;#x5C06;&amp;#x8FD9;&amp;#x4E2A;&amp;#x5B9E;&amp;#x4F8B;&amp;#x653E;&amp;#x5165;&amp;#x548C;&amp;#x8C03;&amp;#x7528;&amp;#x8005;&amp;#x76F8;&amp;#x540C;&amp;#x7684;Task&amp;#x4E2D;&amp;#x5E76;&amp;#x4F4D;&amp;#x4E8E;&amp;#x6808;&amp;#x9876;&lt;/li&gt;
&lt;li&gt;&amp;#x5982;&amp;#x679C;singleTask Activity&amp;#x5B9E;&amp;#x4F8B;&amp;#x5DF2;&amp;#x7136;&amp;#x5B58;&amp;#x5728;&amp;#xFF0C;&amp;#x90A3;&amp;#x4E48;&amp;#x5728;Activity&amp;#x56DE;&amp;#x9000;&amp;#x6808;&amp;#x4E2D;&amp;#xFF0C;&amp;#x6240;&amp;#x6709;&amp;#x4F4D;&amp;#x4E8E;&amp;#x8BE5;Activity&amp;#x4E0A;&amp;#x9762;&amp;#x7684;Activity&amp;#x5B9E;&amp;#x4F8B;&amp;#x90FD;&amp;#x5C06;&amp;#x88AB;&amp;#x9500;&amp;#x6BC1;&amp;#x6389;&amp;#xFF08;&amp;#x9500;&amp;#x6BC1;&amp;#x8FC7;&amp;#x7A0B;&amp;#x4F1A;&amp;#x8C03;&amp;#x7528;Activity&amp;#x751F;&amp;#x547D;&amp;#x5468;&amp;#x671F;&amp;#x56DE;&amp;#x8C03;&amp;#xFF09;&amp;#xFF0C;&amp;#x8FD9;&amp;#x6837;&amp;#x4F7F;&amp;#x5F97;singleTask Activity&amp;#x5B9E;&amp;#x4F8B;&amp;#x4F4D;&amp;#x4E8E;&amp;#x6808;&amp;#x9876;&amp;#x3002;&amp;#x4E0E;&amp;#x6B64;&amp;#x540C;&amp;#x65F6;&amp;#xFF0C;Intent&amp;#x4F1A;&amp;#x901A;&amp;#x8FC7;onNewIntent&amp;#x4F20;&amp;#x9012;&amp;#x5230;&amp;#x8FD9;&amp;#x4E2A;SingleTask Activity&amp;#x5B9E;&amp;#x4F8B;&amp;#x3002;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;taskAffinity&amp;#x4E0D;&amp;#x540C;&lt;ul&gt;
&lt;li&gt;&amp;#x5982;&amp;#x679C;singleTask Activity&amp;#x6240;&amp;#x5728;&amp;#x7684;&amp;#x5E94;&amp;#x7528;&amp;#x8FDB;&amp;#x7A0B;&amp;#x5B58;&amp;#x5728;&amp;#xFF0C;&amp;#x4F46;&amp;#x662F;singleTask Activity&amp;#x5B9E;&amp;#x4F8B;&amp;#x4E0D;&amp;#x5B58;&amp;#x5728;&amp;#xFF0C;&amp;#x90A3;&amp;#x4E48;&amp;#x4ECE;&amp;#x522B;&amp;#x7684;&amp;#x5E94;&amp;#x7528;&amp;#x542F;&amp;#x52A8;&amp;#x8FD9;&amp;#x4E2A;Activity&amp;#xFF0C;&amp;#x65B0;&amp;#x7684;Activity&amp;#x5B9E;&amp;#x4F8B;&amp;#x4F1A;&amp;#x88AB;&amp;#x521B;&amp;#x5EFA;&amp;#xFF0C;&amp;#x5E76;&amp;#x653E;&amp;#x5165;&amp;#x5230;&amp;#x6240;&amp;#x5C5E;&amp;#x8FDB;&amp;#x7A0B;&amp;#x6240;&amp;#x5728;&amp;#x7684;Task&amp;#x4E2D;&amp;#xFF0C;&amp;#x5E76;&amp;#x4F4D;&amp;#x4E8E;&amp;#x6808;&amp;#x9876;&amp;#x4F4D;&amp;#x7F6E;&amp;#x3002;&lt;/li&gt;
&lt;li&gt;&amp;#x5982;&amp;#x679C;singleTask Activity&amp;#x6240;&amp;#x5728;&amp;#x7684;&amp;#x5E94;&amp;#x7528;&amp;#x8FDB;&amp;#x7A0B;&amp;#x5B58;&amp;#x5728;&amp;#xFF0C;&amp;#x4F46;&amp;#x662F;singleTask Activity&amp;#x5B9E;&amp;#x4F8B;&amp;#x4E5F;&amp;#x5B58;&amp;#x5728;&amp;#xFF0C;&amp;#x53C2;&amp;#x7167;&amp;#x5B98;&amp;#x7F51;&amp;#x7684;&amp;#x56FE;&amp;#x7406;&amp;#x89E3;&amp;#xFF1A;&lt;img src=&quot;/2016/06/12/android-study-note-0-md/pic_3.png&quot;&gt;
&lt;!-- ![](pic_3.png &quot;&quot;) --&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;&lt;code&gt;singleInstance&lt;/code&gt;&lt;/strong&gt; &amp;#x4E0E;&lt;code&gt;singleTask&lt;/code&gt;&amp;#x76F8;&amp;#x540C;&amp;#xFF0C;&amp;#x53EA;&amp;#x662F;&amp;#x7CFB;&amp;#x7EDF;&amp;#x4E0D;&amp;#x4F1A;&amp;#x5C06;&amp;#x4EFB;&amp;#x4F55;&amp;#x5176;&amp;#x4ED6; Activity &amp;#x542F;&amp;#x52A8;&amp;#x5230;&amp;#x5305;&amp;#x542B;&amp;#x5B9E;&amp;#x4F8B;&amp;#x7684;&amp;#x4EFB;&amp;#x52A1;&amp;#x4E2D;&amp;#x3002;&amp;#x8BE5; Activity &amp;#x59CB;&amp;#x7EC8;&amp;#x662F;&amp;#x5176;&amp;#x4EFB;&amp;#x52A1;&amp;#x552F;&amp;#x4E00;&amp;#x4EC5;&amp;#x6709;&amp;#x7684;&amp;#x6210;&amp;#x5458;&amp;#xFF1B;&amp;#x7531;&amp;#x6B64; Activity &amp;#x542F;&amp;#x52A8;&amp;#x7684;&amp;#x4EFB;&amp;#x4F55; Activity &amp;#x5747;&amp;#x5728;&amp;#x5355;&amp;#x72EC;&amp;#x7684;&amp;#x4EFB;&amp;#x52A1;&amp;#x4E2D;&amp;#x6253;&amp;#x5F00;&amp;#x3002;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;&lt;strong&gt;&lt;code&gt;android:allowTaskReparenting&lt;/code&gt;&lt;/strong&gt; &amp;#x8BBE;&amp;#x4E3A;true&amp;#x65F6;&amp;#xFF0C;Activity&amp;#x53EF;&amp;#x4EE5;&amp;#x4ECE;&amp;#x5176;&amp;#x542F;&amp;#x52A8;&amp;#x7684;&amp;#x4EFB;&amp;#x52A1;&amp;#x79FB;&amp;#x52A8;&amp;#x5230;&amp;#x4E0E;&amp;#x5176;&amp;#x5177;&amp;#x6709;&amp;#x5173;&amp;#x8054;&amp;#x7684;&amp;#x4EFB;&amp;#x52A1;(&amp;#x5982;&amp;#x679C;&amp;#x8BE5;&amp;#x4EFB;&amp;#x52A1;&amp;#x51FA;&amp;#x73B0;&amp;#x5728;&amp;#x524D;&amp;#x53F0;)&amp;#x3002;&amp;#x8BE5;&amp;#x503C;&amp;#x9ED8;&amp;#x8BA4;&amp;#x4E3A;false&amp;#xFF0C;&amp;#x53EA;&amp;#x5BF9;&lt;code&gt;standard&lt;/code&gt;&amp;#x548C;&lt;code&gt;singleTop&lt;/code&gt;&amp;#x542F;&amp;#x52A8;&amp;#x7684;Activity&amp;#x8D77;&amp;#x4F5C;&amp;#x7528;&amp;#x3002;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;&lt;strong&gt;&amp;#x5E38;&amp;#x7528;&amp;#x7684;Intent&amp;#x6807;&amp;#x5FD7;&lt;/strong&gt;  &lt;/p&gt;
&lt;img src=&quot;/2016/06/12/android-study-note-0-md/pic_7.png&quot;&gt;&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;&amp;#x6E05;&amp;#x7406;&amp;#x8FD4;&amp;#x56DE;&amp;#x6808;&lt;/strong&gt;&lt;br&gt;&amp;#x5982;&amp;#x679C;&amp;#x7528;&amp;#x6237;&amp;#x957F;&amp;#x65F6;&amp;#x95F4;&amp;#x79BB;&amp;#x5F00;&amp;#x4EFB;&amp;#x52A1;&amp;#xFF0C;&amp;#x5219;&amp;#x7CFB;&amp;#x7EDF;&amp;#x4F1A;&amp;#x6E05;&amp;#x9664;&amp;#x6240;&amp;#x6709; Activity &amp;#x7684;&amp;#x4EFB;&amp;#x52A1;&amp;#xFF0C;&amp;#x6839;&amp;#x4EFB;&amp;#x52A1;&amp;#x9664;&amp;#x5916;&amp;#x3002; &amp;#x5F53;&amp;#x7528;&amp;#x6237;&amp;#x518D;&amp;#x6B21;&amp;#x8FD4;&amp;#x56DE;&amp;#x5230;&amp;#x4EFB;&amp;#x52A1;&amp;#x65F6;&amp;#xFF0C;&amp;#x4EC5;&amp;#x6062;&amp;#x590D;&amp;#x6839; Activity&amp;#x3002;&amp;#x7CFB;&amp;#x7EDF;&amp;#x8FD9;&amp;#x6837;&amp;#x505A;&amp;#x7684;&amp;#x539F;&amp;#x56E0;&amp;#x662F;&amp;#xFF0C;&amp;#x7ECF;&amp;#x8FC7;&amp;#x5F88;&amp;#x957F;&amp;#x4E00;&amp;#x6BB5;&amp;#x65F6;&amp;#x95F4;&amp;#x540E;&amp;#xFF0C;&amp;#x7528;&amp;#x6237;&amp;#x53EF;&amp;#x80FD;&amp;#x5DF2;&amp;#x7ECF;&amp;#x653E;&amp;#x5F03;&amp;#x4E4B;&amp;#x524D;&amp;#x6267;&amp;#x884C;&amp;#x7684;&amp;#x64CD;&amp;#x4F5C;&amp;#xFF0C;&amp;#x8FD4;&amp;#x56DE;&amp;#x5230;&amp;#x4EFB;&amp;#x52A1;&amp;#x662F;&amp;#x8981;&amp;#x5F00;&amp;#x59CB;&amp;#x6267;&amp;#x884C;&amp;#x65B0;&amp;#x7684;&amp;#x64CD;&amp;#x4F5C;&amp;#x3002;&amp;#x53EF;&amp;#x4EE5;&amp;#x4F7F;&amp;#x7528;&amp;#x4E0B;&amp;#x5217;&amp;#x51E0;&amp;#x4E2A; Activity &amp;#x5C5E;&amp;#x6027;&amp;#x4FEE;&amp;#x6539;&amp;#x6B64;&amp;#x884C;&amp;#x4E3A;(&amp;#x5B9E;&amp;#x9A8C;&amp;#x53D1;&amp;#x73B0;&amp;#x8FD9;&amp;#x4E9B;&amp;#x53C2;&amp;#x6570;&amp;#x901A;&amp;#x8FC7;overview screen&amp;#x8FD4;&amp;#x56DE;app&amp;#x65F6;&amp;#x65E0;&amp;#x6548;)&lt;img src=&quot;/2016/06/12/android-study-note-0-md/pic_8.png&quot;&gt;&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;activity-alias&amp;#x4F7F;&amp;#x7528;&amp;#x4E3E;&amp;#x4F8B;&lt;/strong&gt;&lt;br&gt;&amp;#x91CD;&amp;#x590D;&amp;#x4F7F;&amp;#x7528;Activity&amp;#x800C;&amp;#x8BBE;&amp;#x8BA1;&amp;#xFF0C;&amp;#x5178;&amp;#x578B;&amp;#x5E94;&amp;#x7528;&amp;#x573A;&amp;#x666F;&amp;#x662F;&amp;#x5B9E;&amp;#x73B0;Launcher&amp;#x4E2D;&amp;#x591A;&amp;#x4E2A;Icon&amp;#x8FDB;&amp;#x5165;&amp;#x540C;&amp;#x4E00;&amp;#x4E2A;app&amp;#xFF0C;&amp;#x793A;&amp;#x610F;&amp;#x56FE;&amp;#x5982;&amp;#x4E0B;:&lt;/li&gt;
&lt;/ol&gt;
&lt;img src=&quot;/2016/06/12/android-study-note-0-md/pic_4.jpg&quot;&gt;
&lt;!-- ![](pic_4.jpg &quot;&quot;) --&gt;
&lt;h2 id=&quot;intent-&amp;#x548C;-intentfilter&quot;&gt;&lt;a href=&quot;#Intent-&amp;#x548C;-IntentFilter&quot; class=&quot;headerlink&quot; title=&quot;Intent &amp;#x548C; IntentFilter&quot;&gt;&lt;/a&gt;Intent &amp;#x548C; IntentFilter&lt;/h2&gt;&lt;p&gt;Intent&amp;#x662F;&amp;#x4E00;&amp;#x4E2A;&amp;#x6D88;&amp;#x606F;&amp;#x4F20;&amp;#x9012;&amp;#x5BF9;&amp;#x8C61;&amp;#xFF0C;&amp;#x53EF;&amp;#x4EE5;&amp;#x4F7F;&amp;#x7528;&amp;#x5B83;&amp;#x4ECE;&amp;#x5176;&amp;#x4ED6;&amp;#x5E94;&amp;#x7528;&amp;#x7EC4;&amp;#x4EF6;&amp;#x8BF7;&amp;#x6C42;&amp;#x64CD;&amp;#x4F5C;&amp;#x3002;&amp;#x4E3B;&amp;#x8981;&amp;#x573A;&amp;#x666F;&amp;#x5C31;&amp;#x662F;:&amp;#x542F;&amp;#x52A8;Activity&amp;#x3001;&amp;#x542F;&amp;#x52A8;&amp;#x670D;&amp;#x52A1;&amp;#x548C;&amp;#x4F20;&amp;#x9012;&amp;#x5E7F;&amp;#x64AD;&amp;#x3002;&amp;#x5176;&amp;#x4E2D;&amp;#x5982;&amp;#x679C;&amp;#x5E0C;&amp;#x671B;Activity&amp;#x5B8C;&amp;#x6210;&amp;#x540E;&amp;#x6536;&amp;#x5230;&amp;#x7ED3;&amp;#x679C;&amp;#xFF0C;&amp;#x9700;&amp;#x8981;&amp;#x8C03;&amp;#x7528;startActivityForResult()&amp;#xFF0C;&amp;#x5728;Activity&amp;#x7684;onActivityResult()&amp;#x56DE;&amp;#x8C03;&amp;#x4E2D;&amp;#x63A5;&amp;#x6536;Intent&amp;#x5BF9;&amp;#x8C61;&amp;#x3002;&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;&lt;p&gt;&lt;strong&gt;Intent&amp;#x7C7B;&amp;#x578B;&lt;/strong&gt;&amp;#xFF1A;  &lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;&amp;#x663E;&amp;#x793A;Intent&lt;/strong&gt;  &amp;#x6309;&amp;#x540D;&amp;#x79F0;&amp;#xFF08;&amp;#x5B8C;&amp;#x5168;&amp;#x9650;&amp;#x5B9A;&amp;#x7C7B;&amp;#x540D;&amp;#xFF09;&amp;#x6307;&amp;#x5B9A;&amp;#x8981;&amp;#x542F;&amp;#x52A8;&amp;#x7684;&amp;#x7EC4;&amp;#x4EF6;&amp;#x3002;&amp;#x521B;&amp;#x5EFA;&amp;#x663E;&amp;#x5F0F;Intent&amp;#x542F;&amp;#x52A8;Activity&amp;#x6216;Service&amp;#x65F6;&amp;#xFF0C;&amp;#x7CFB;&amp;#x7EDF;&amp;#x5C06;&amp;#x7ACB;&amp;#x5373;&amp;#x542F;&amp;#x52A8;Intent&amp;#x5BF9;&amp;#x8C61;&amp;#x4E2D;&amp;#x6307;&amp;#x5B9A;&amp;#x7684;&amp;#x5E94;&amp;#x7528;&amp;#x7EC4;&amp;#x4EF6;&amp;#x3002;&amp;#x4E3A;&amp;#x4E86;&amp;#x786E;&amp;#x4FDD;&amp;#x5E94;&amp;#x7528;&amp;#x7684;&amp;#x5B89;&amp;#x5168;&amp;#x6027;&amp;#xFF0C;&amp;#x542F;&amp;#x52A8;Service&amp;#x65F6;&amp;#xFF0C;&amp;#x8BF7;&amp;#x59CB;&amp;#x7EC8;&amp;#x4F7F;&amp;#x7528;&amp;#x663E;&amp;#x5F0F;Intent&amp;#xFF0C;&amp;#x4E14;&amp;#x4E0D;&amp;#x8981;&amp;#x4E3A;&amp;#x670D;&amp;#x52A1;&amp;#x58F0;&amp;#x660E;Intent&amp;#x8FC7;&amp;#x6EE4;&amp;#x5668;&amp;#x3002;  &lt;/li&gt;
&lt;li&gt;&lt;p&gt;&lt;strong&gt;&amp;#x9690;&amp;#x5F0F;Intent&lt;/strong&gt;   &amp;#x5982;&amp;#x679C;Activity&amp;#x6CA1;&amp;#x6709;&amp;#x7533;&amp;#x660E;Intent&amp;#x8FC7;&amp;#x6EE4;&amp;#x5668;&amp;#xFF0C;&amp;#x5219;&amp;#x53EA;&amp;#x80FD;&amp;#x663E;&amp;#x793A;&amp;#x542F;&amp;#x52A8;&amp;#x3002;  &lt;/p&gt;
&lt;img src=&quot;/2016/06/12/android-study-note-0-md/pic_5.png&quot;&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;&lt;strong&gt;Intent&amp;#x6784;&amp;#x6210;&lt;/strong&gt;:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;&lt;strong&gt;ComponentName&lt;/strong&gt;&lt;br&gt;&amp;#x4F7F;&amp;#x7528;&amp;#x663E;&amp;#x793A;Intent&amp;#x65F6;&amp;#x5FC5;&amp;#x987B;&amp;#x6307;&amp;#x5B9A;ComponentName  &lt;/p&gt;
&lt;img src=&quot;/2016/06/12/android-study-note-0-md/pic_6.png&quot;&gt;&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Action&lt;/strong&gt;&lt;br&gt;&amp;#x7CFB;&amp;#x7EDF;&amp;#x5B9A;&amp;#x4E49;&amp;#x7684;Action&amp;#x53C2;&amp;#x8003; &lt;a href=&quot;https://developer.android.com/guide/components/intents-common.html&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;https://developer.android.com/guide/components/intents-common.html&lt;/a&gt;  &lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Data&lt;/strong&gt;&lt;br&gt;&amp;#x7531;URI&amp;#x548C;MIME&amp;#x7C7B;&amp;#x578B;&amp;#x7EC4;&amp;#x6210;&amp;#xFF0C;&amp;#x82E5;&amp;#x8981;&amp;#x540C;&amp;#x65F6;&amp;#x8BBE;&amp;#x7F6E;URI&amp;#x548C;MIME&amp;#x7C7B;&amp;#x578B;&amp;#xFF0C;&amp;#x8BF7;&amp;#x52FF;&amp;#x8C03;&amp;#x7528;setData()&amp;#x548C;setType()&amp;#xFF0C;&amp;#x56E0;&amp;#x4E3A;&amp;#x5B83;&amp;#x4EEC;&amp;#x4F1A;&amp;#x4E92;&amp;#x76F8;&amp;#x62B5;&amp;#x6D88;&amp;#x5F7C;&amp;#x6B64;&amp;#x7684;&amp;#x503C;&amp;#x3002;&amp;#x8BF7;&amp;#x59CB;&amp;#x7EC8;&amp;#x4F7F;&amp;#x7528; setDataAndType()&amp;#x540C;&amp;#x65F6;&amp;#x8BBE;&amp;#x7F6E;URI&amp;#x548C;MIME&amp;#x7C7B;&amp;#x578B;&amp;#x3002;&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Category&lt;/strong&gt;&lt;br&gt;&amp;#x4F7F;&amp;#x7528;&lt;code&gt;addCategory()&lt;/code&gt;&amp;#x6307;&amp;#x5B9A;&amp;#xFF0C;&amp;#x5B8C;&amp;#x6574;&amp;#x5217;&amp;#x8868;&amp;#x53C2;&amp;#x8003;&lt;code&gt;Intent&lt;/code&gt;&amp;#x7C7B;&amp;#x3002;&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Extras&lt;/strong&gt;&lt;br&gt;key-value &amp;#x6216;&amp;#x8005; Bundle&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Flags&lt;/strong&gt;  &lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;&lt;strong&gt;&amp;#x9690;&amp;#x5F0F;Intent&amp;#x6CE8;&amp;#x610F;&amp;#x4E8B;&amp;#x9879;&lt;/strong&gt;  &lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;&lt;p&gt;&amp;#x9A8C;&amp;#x8BC1;Activity&amp;#x662F;&amp;#x5426;&amp;#x4F1A;&amp;#x63A5;&amp;#x6536;Intent&amp;#xFF0C;&amp;#x8C03;&amp;#x7528;Intent&amp;#x5BF9;&amp;#x8C61;resolveActivity()  &lt;/p&gt;
&lt;figure class=&quot;highlight java&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;10&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;// Create the text message with a string&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;Intent sendIntent = &lt;span class=&quot;keyword&quot;&gt;new&lt;/span&gt; Intent();&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;sendIntent.setAction(Intent.ACTION_SEND);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;sendIntent.putExtra(Intent.EXTRA_TEXT, textMessage);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;sendIntent.setType(&lt;span class=&quot;string&quot;&gt;&amp;quot;text/plain&amp;quot;&lt;/span&gt;);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;// Verify that the intent will resolve to an activity&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;if&lt;/span&gt; (sendIntent.resolveActivity(getPackageManager()) != &lt;span class=&quot;keyword&quot;&gt;null&lt;/span&gt;) {&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    startActivity(sendIntent);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;}&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;&amp;#x5F3A;&amp;#x5236;&amp;#x4F7F;&amp;#x7528;&amp;#x5E94;&amp;#x7528;&amp;#x9009;&amp;#x62E9;&amp;#x5668;&lt;br&gt;&amp;#x5982;&amp;#x679C;&amp;#x6709;&amp;#x591A;&amp;#x4E2A;&amp;#x5E94;&amp;#x7528;&amp;#x54CD;&amp;#x5E94;&amp;#x9690;&amp;#x5F0F; Intent&amp;#xFF0C;&amp;#x5219;&amp;#x7528;&amp;#x6237;&amp;#x53EF;&amp;#x4EE5;&amp;#x9009;&amp;#x62E9;&amp;#x8981;&amp;#x4F7F;&amp;#x7528;&amp;#x7684;&amp;#x5E94;&amp;#x7528;&amp;#xFF0C;&amp;#x5E76;&amp;#x5C06;&amp;#x5176;&amp;#x8BBE;&amp;#x7F6E;&amp;#x4E3A;&amp;#x8BE5;&amp;#x64CD;&amp;#x4F5C;&amp;#x7684;&amp;#x9ED8;&amp;#x8BA4;&amp;#x9009;&amp;#x9879;&amp;#x3002;&amp;#x5982;&amp;#x679C;&amp;#x591A;&amp;#x4E2A;&amp;#x5E94;&amp;#x7528;&amp;#x53EF;&amp;#x4EE5;&amp;#x54CD;&amp;#x5E94; Intent&amp;#xFF0C;&amp;#x4E14;&amp;#x7528;&amp;#x6237;&amp;#x53EF;&amp;#x80FD;&amp;#x5E0C;&amp;#x671B;&amp;#x6BCF;&amp;#x6B21;&amp;#x4F7F;&amp;#x7528;&amp;#x4E0D;&amp;#x540C;&amp;#x7684;&amp;#x5E94;&amp;#x7528;&amp;#xFF0C;&amp;#x5219;&amp;#x5E94;&amp;#x91C7;&amp;#x7528;&amp;#x663E;&amp;#x5F0F;&amp;#x65B9;&amp;#x5F0F;&amp;#x663E;&amp;#x793A;&amp;#x9009;&amp;#x62E9;&amp;#x5668;&amp;#x5BF9;&amp;#x8BDD;&amp;#x6846;&amp;#x3002;&amp;#x9009;&amp;#x62E9;&amp;#x5668;&amp;#x5BF9;&amp;#x8BDD;&amp;#x6846;&amp;#x8981;&amp;#x6C42;&amp;#x7528;&amp;#x6237;&amp;#x9009;&amp;#x62E9;&amp;#x6BCF;&amp;#x6B21;&amp;#x64CD;&amp;#x4F5C;&amp;#x8981;&amp;#x4F7F;&amp;#x7528;&amp;#x7684;&amp;#x5E94;&amp;#x7528;(&amp;#x7528;&amp;#x6237;&amp;#x65E0;&amp;#x6CD5;&amp;#x4E3A;&amp;#x8BE5;&amp;#x64CD;&amp;#x4F5C;&amp;#x9009;&amp;#x62E9;&amp;#x9ED8;&amp;#x8BA4;&amp;#x5E94;&amp;#x7528;)  &lt;/p&gt;
&lt;figure class=&quot;highlight java&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;12&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;13&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;Intent sendIntent = &lt;span class=&quot;keyword&quot;&gt;new&lt;/span&gt; Intent(Intent.ACTION_SEND);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;...&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;// Always use string resources for UI text.&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;// This says something like &amp;quot;Share this photo with&amp;quot;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;String title = getResources().getString(R.string.chooser_title);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;// Create intent to show the chooser dialog&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;Intent chooser = Intent.createChooser(sendIntent, title);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;// Verify the original intent will resolve to at least one activity&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;if&lt;/span&gt; (sendIntent.resolveActivity(getPackageManager()) != &lt;span class=&quot;keyword&quot;&gt;null&lt;/span&gt;) {&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    startActivity(chooser);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;}&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;&amp;#x9690;&amp;#x5F0F;Intent&amp;#x7684;&amp;#x5339;&amp;#x914D;&amp;#x89C4;&amp;#x5219;&lt;br&gt;&amp;#x8981;&amp;#x516C;&amp;#x5E03;&amp;#x5E94;&amp;#x7528;&amp;#x53EF;&amp;#x4EE5;&amp;#x63A5;&amp;#x6536;&amp;#x54EA;&amp;#x4E9B;&amp;#x9690;&amp;#x5F0F;Intent&amp;#xFF0C;&amp;#x9700;&amp;#x8981;&amp;#x5728;&amp;#x6E05;&amp;#x5355;&amp;#x6587;&amp;#x4EF6;&amp;#x4E2D;&amp;#x4F7F;&amp;#x7528;&lt;code&gt;&amp;lt;intent-filter&amp;gt;&lt;/code&gt;&amp;#x5143;&amp;#x7D20;&amp;#x4E3A;&amp;#x6BCF;&amp;#x4E2A;&amp;#x5E94;&amp;#x7528;&amp;#x7EC4;&amp;#x4EF6;&amp;#x58F0;&amp;#x660E;&amp;#x4E00;&amp;#x4E2A;&amp;#x6216;&amp;#x591A;&amp;#x4E2A;Intent&amp;#x8FC7;&amp;#x6EE4;&amp;#x5668;&amp;#x3002;&amp;#x4E00;&amp;#x4E2A;&amp;#x8FC7;&amp;#x6EE4;&amp;#x5668;&amp;#x5305;&amp;#x62EC;&amp;#x591A;&amp;#x4E2A;&lt;code&gt;&amp;lt;action&amp;gt;&lt;/code&gt;&amp;#x3001;&lt;code&gt;&amp;lt;data&amp;gt;&lt;/code&gt;&amp;#x6216;&lt;code&gt;&amp;lt;category&amp;gt;&lt;/code&gt;&amp;#x6807;&amp;#x7B7E;&amp;#x3002;&amp;#x4E3A;&amp;#x4E86;&amp;#x63A5;&amp;#x6536;&amp;#x9690;&amp;#x5F0F;Intent&amp;#xFF0C;&amp;#x5FC5;&amp;#x987B;&amp;#x5C06;&lt;code&gt;CATEGORY_DEFAULT&lt;/code&gt;&amp;#x7C7B;&amp;#x522B;&amp;#x5305;&amp;#x62EC;&amp;#x5728;Intent&amp;#x8FC7;&amp;#x6EE4;&amp;#x5668;&amp;#x4E2D;&amp;#x3002;  &lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;&amp;lt;action&amp;gt;&lt;/code&gt; : &amp;#x4F20;&amp;#x5165;Intent&amp;#x4E2D;&amp;#x6307;&amp;#x5B9A;&amp;#x7684;Action&amp;#x5FC5;&amp;#x987B;&amp;#x4E0E;&lt;code&gt;&amp;lt;IntentFilter&amp;gt;&lt;/code&gt;&amp;#x4E2D;&amp;#x7684;Action&amp;#x67D0;&amp;#x4E00;&amp;#x9879;&amp;#x5339;&amp;#x914D;&amp;#xFF1B;&amp;#x5982;&amp;#x679C;&lt;code&gt;&amp;lt;IntentFilter&amp;gt;&lt;/code&gt;&amp;#x4E2D;Action&amp;#x4E3A;&amp;#x7A7A;&amp;#xFF0C;&amp;#x5219;&amp;#x6240;&amp;#x6709;Intent&amp;#x90FD;&amp;#x65E0;&amp;#x6CD5;&amp;#x5339;&amp;#x914D;&amp;#xFF1B;&amp;#x4F46;&amp;#x5982;&amp;#x679C;Intent&amp;#x672A;&amp;#x6307;&amp;#x5B9A;Action&amp;#xFF0C;&amp;#x5219;&amp;#x4F1A;&amp;#x901A;&amp;#x8FC7;&amp;#x6D4B;&amp;#x8BD5;(&amp;#x53EA;&amp;#x8981;&lt;code&gt;&amp;lt;IntentFilter&amp;gt;&lt;/code&gt;&amp;#x81F3;&amp;#x5C11;&amp;#x5305;&amp;#x542B;&amp;#x4E00;&amp;#x4E2A;Action)&amp;#x3002;  &lt;/li&gt;
&lt;li&gt;&lt;code&gt;Category&lt;/code&gt; : Intent&amp;#x4E2D;&amp;#x7684;&amp;#x6BCF;&amp;#x4E2A;Category&amp;#x5747;&amp;#x5FC5;&amp;#x987B;&amp;#x4E0E;&amp;#x8FC7;&amp;#x6EE4;&amp;#x5668;&amp;#x4E2D;&amp;#x7684;Category&amp;#x5339;&amp;#x914D;&amp;#xFF1B;&amp;#x5982;&amp;#x679C;Intent&amp;#x6CA1;&amp;#x6709;&amp;#x58F0;&amp;#x660E;Category&amp;#xFF0C;&amp;#x5219;&amp;#x59CB;&amp;#x7EC8;&amp;#x4F1A;&amp;#x901A;&amp;#x8FC7;&amp;#x6D4B;&amp;#x8BD5;&amp;#x3002;Android&amp;#x4F1A;&amp;#x81EA;&amp;#x52A8;&amp;#x5C06;CATEGORY_DEFAULT&amp;#x5E94;&amp;#x7528;&amp;#x4E8E;&amp;#x4F20;&amp;#x9012;&amp;#x7ED9;startActivity()&amp;#x548C;startActivityForResult()&amp;#x7684;&amp;#x6240;&amp;#x6709;&amp;#x9690;&amp;#x5F0F;Intent&amp;#x3002;&amp;#x56E0;&amp;#x6B64;&amp;#xFF0C;&amp;#x5982;&amp;#x9700;Activity&amp;#x63A5;&amp;#x6536;&amp;#x9690;&amp;#x5F0F;Intent&amp;#xFF0C;&amp;#x5219;&amp;#x5FC5;&amp;#x987B;&amp;#x5C06; &amp;#x201C;android.intent.category.DEFAULT&amp;#x201D;&amp;#x5305;&amp;#x62EC;&amp;#x5728;&amp;#x5176;&lt;code&gt;&amp;lt;IntentFilter&amp;gt;&lt;/code&gt;&amp;#x4E2D;&amp;#x3002;  &lt;/li&gt;
&lt;li&gt;&lt;code&gt;Data&lt;/code&gt; : &amp;#x7531;URI&amp;#x548C;MIME&amp;#x7C7B;&amp;#x578B;&amp;#x7EC4;&amp;#x6210;&amp;#xFF0C;URI&amp;#x683C;&amp;#x5F0F;&amp;#x662F;&lt;code&gt;&amp;lt;scheme&amp;gt;://&amp;lt;host&amp;gt;:&amp;lt;port&amp;gt;/&amp;lt;path&amp;gt;&lt;/code&gt;&amp;#xFF1B;MIME&amp;#x7C7B;&amp;#x578B;&amp;#x5728;Android&amp;#x4E2D;&amp;#x533A;&amp;#x5206;&amp;#x5927;&amp;#x5C0F;&amp;#x5199;&amp;#xFF0C;&amp;#x5B98;&amp;#x65B9;&amp;#x5EFA;&amp;#x8BAE;&amp;#x5168;&amp;#x90E8;&amp;#x5C0F;&amp;#x5199;&amp;#x3002;&amp;#x5176;&amp;#x5339;&amp;#x914D;&amp;#x89C4;&amp;#x5219;&amp;#x603B;&amp;#x7ED3;&amp;#x5982;&amp;#x4E0B;&amp;#xFF1A;  &lt;ul&gt;
&lt;li&gt;Intent&amp;#x4E2D;&amp;#x7684;URI&amp;#x4EC5;&amp;#x4E0E;&lt;code&gt;&amp;lt;IntentFilter&amp;gt;&lt;/code&gt;&amp;#x4E2D;&amp;#x5305;&amp;#x542B;&amp;#x7684;&amp;#x90E8;&amp;#x5206;URI&amp;#x8FDB;&amp;#x884C;&amp;#x6BD4;&amp;#x8F83;&amp;#xFF1B;&lt;/li&gt;
&lt;li&gt;&lt;code&gt;&amp;lt;IntentFilter&amp;gt;&lt;/code&gt;&amp;#x4E2D;&amp;#x672A;&amp;#x6307;&amp;#x5B9A;URI&amp;#x6216;MIME&amp;#x65F6;&amp;#xFF0C;&amp;#x4E0D;&amp;#x542B;URI&amp;#x548C;MIME&amp;#x7C7B;&amp;#x578B;&amp;#x7684;Intent&amp;#x624D;&amp;#x4F1A;&amp;#x901A;&amp;#x8FC7;&amp;#x6D4B;&amp;#x8BD5;&lt;/li&gt;
&lt;li&gt;&amp;#x5BF9;&amp;#x4E8E;&amp;#x5305;&amp;#x542B;URI&amp;#x3001;&amp;#x4F46;&amp;#x4E0D;&amp;#x542B;MIME&amp;#x7C7B;&amp;#x578B;&amp;#xFF08;&amp;#x65E2;&amp;#x672A;&amp;#x663E;&amp;#x5F0F;&amp;#x58F0;&amp;#x660E;&amp;#xFF0C;&amp;#x4E5F;&amp;#x65E0;&amp;#x6CD5;&amp;#x901A;&amp;#x8FC7;URI&amp;#x63A8;&amp;#x65AD;&amp;#x5F97;&amp;#x51FA;&amp;#xFF09;&amp;#x7684;Intent&amp;#xFF0C;&amp;#x4EC5;&amp;#x5F53;&amp;#x5176;URI&amp;#x4E0E;&lt;code&gt;&amp;lt;IntentFilter&amp;gt;&lt;/code&gt;&amp;#x7684;URI&amp;#x683C;&amp;#x5F0F;&amp;#x5339;&amp;#x914D;&amp;#x3001;&amp;#x4E14;&amp;#x540C;&amp;#x6837;&amp;#x672A;&amp;#x6307;&amp;#x5B9A;MIME&amp;#x7C7B;&amp;#x578B;&amp;#x65F6;&amp;#xFF0C;&amp;#x624D;&amp;#x4F1A;&amp;#x901A;&amp;#x8FC7;&amp;#x6D4B;&amp;#x8BD5;&lt;/li&gt;
&lt;li&gt;&amp;#x4EC5;&amp;#x5F53;&lt;code&gt;&amp;lt;IntentFilter&amp;gt;&lt;/code&gt;&amp;#x5217;&amp;#x51FA;&amp;#x76F8;&amp;#x540C;&amp;#x7684;MIME&amp;#x7C7B;&amp;#x578B;&amp;#x4E14;&amp;#x672A;&amp;#x6307;&amp;#x5B9A;URI&amp;#x683C;&amp;#x5F0F;&amp;#x65F6;&amp;#xFF0C;&amp;#x5305;&amp;#x542B;MIME&amp;#x7C7B;&amp;#x578B;&amp;#x3001;&amp;#x4F46;&amp;#x4E0D;&amp;#x542B;URI&amp;#x7684;Intent&amp;#x624D;&amp;#x4F1A;&amp;#x901A;&amp;#x8FC7;&amp;#x6D4B;&amp;#x8BD5;&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;&amp;#x6CE8;&amp;#x610F;:&lt;/strong&gt; &lt;code&gt;&amp;lt;IntentFilter&amp;gt;&lt;/code&gt;&amp;#x9ED8;&amp;#x8BA4;&amp;#x652F;&amp;#x6301;&lt;code&gt;content:&lt;/code&gt;&amp;#x548C;&lt;code&gt;file:&lt;/code&gt;&amp;#x6570;&amp;#x636E;&lt;/li&gt;
&lt;li&gt;PackageManager&amp;#x63D0;&amp;#x4F9B;&amp;#x4E86;&amp;#x4E00;&amp;#x6574;&amp;#x5957;query&amp;#x2026;()&amp;#x65B9;&amp;#x6CD5;&amp;#x6765;&amp;#x8FD4;&amp;#x56DE;&amp;#x6240;&amp;#x6709;&amp;#x80FD;&amp;#x591F;&amp;#x63A5;&amp;#x53D7;&amp;#x7279;&amp;#x5B9A;Intent&amp;#x7684;&amp;#x7EC4;&amp;#x4EF6;&amp;#x3002;&amp;#x6B64;&amp;#x5916;&amp;#xFF0C;&amp;#x5B83;&amp;#x8FD8;&amp;#x63D0;&amp;#x4F9B;&amp;#x4E86;&amp;#x4E00;&amp;#x7CFB;&amp;#x5217;&amp;#x7C7B;&amp;#x4F3C;&amp;#x7684;resolve&amp;#x2026;()&amp;#x65B9;&amp;#x6CD5;&amp;#x6765;&amp;#x786E;&amp;#x5B9A;&amp;#x54CD;&amp;#x5E94;Intent&amp;#x7684;&amp;#x6700;&amp;#x4F73;&amp;#x7EC4;&amp;#x4EF6;  &lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;&lt;strong&gt;PendingIntent&lt;/strong&gt;&lt;br&gt;Intent&amp;#x5BF9;&amp;#x8C61;&amp;#x7684;&amp;#x5305;&amp;#x88C5;&amp;#x5668;&amp;#xFF0C;&amp;#x4E3B;&amp;#x8981;&amp;#x76EE;&amp;#x7684;&amp;#x662F;&amp;#x6388;&amp;#x6743;&amp;#x5916;&amp;#x90E8;&amp;#x5E94;&amp;#x7528;&amp;#x4F7F;&amp;#x7528;&amp;#x5305;&amp;#x542B;&amp;#x7684;Intent&amp;#xFF0C;&amp;#x5C31;&amp;#x50CF;&amp;#x662F;&amp;#x5B83;&amp;#x4ECE;&amp;#x5F53;&amp;#x524D;&amp;#x5E94;&amp;#x7528;&amp;#x672C;&amp;#x8EAB;&amp;#x7684;&amp;#x8FDB;&amp;#x7A0B;&amp;#x4E2D;&amp;#x6267;&amp;#x884C;&amp;#x7684;&amp;#x4E00;&amp;#x6837;&amp;#x3002;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;&lt;strong&gt;Overview Screen&lt;/strong&gt;&lt;br&gt;&amp;#x6982;&amp;#x89C8;&amp;#x5C4F;&amp;#x5E55;&amp;#xFF08;&amp;#x4E5F;&amp;#x79F0;&amp;#x4E3A;&amp;#x6700;&amp;#x65B0;&amp;#x52A8;&amp;#x6001;&amp;#x5C4F;&amp;#x5E55;&amp;#x3001;&amp;#x6700;&amp;#x8FD1;&amp;#x4EFB;&amp;#x52A1;&amp;#x5217;&amp;#x8868;&amp;#x6216;&amp;#x6700;&amp;#x8FD1;&amp;#x4F7F;&amp;#x7528;&amp;#x7684;&amp;#x5E94;&amp;#x7528;&amp;#xFF09;&amp;#x662F;&amp;#x4E00;&amp;#x4E2A;&amp;#x7CFB;&amp;#x7EDF;&amp;#x7EA7;&amp;#x522B;UI&amp;#xFF0C;&amp;#x5176;&amp;#x4E2D;&amp;#x5217;&amp;#x51FA;&amp;#x4E86;&amp;#x6700;&amp;#x8FD1;&amp;#x8BBF;&amp;#x95EE;&amp;#x8FC7;&amp;#x7684;Activity&amp;#x548C;&amp;#x4EFB;&amp;#x52A1;&amp;#x3002; &amp;#x7528;&amp;#x6237;&amp;#x53EF;&amp;#x4EE5;&amp;#x6D4F;&amp;#x89C8;&amp;#x8BE5;&amp;#x5217;&amp;#x8868;&amp;#x5E76;&amp;#x9009;&amp;#x62E9;&amp;#x8981;&amp;#x6062;&amp;#x590D;&amp;#x7684;&amp;#x4EFB;&amp;#x52A1;&amp;#xFF0C;&amp;#x4E5F;&amp;#x53EF;&amp;#x4EE5;&amp;#x901A;&amp;#x8FC7;&amp;#x6ED1;&amp;#x52A8;&amp;#x6E05;&amp;#x9664;&amp;#x4EFB;&amp;#x52A1;&amp;#x5C06;&amp;#x5176;&amp;#x4ECE;&amp;#x5217;&amp;#x8868;&amp;#x4E2D;&amp;#x5220;&amp;#x9664;&amp;#x3002; &amp;#x5BF9;&amp;#x4E8E;Android 5.0&amp;#x7248;&amp;#x672C;&amp;#xFF08;API&amp;#x7EA7;&amp;#x522B;21&amp;#xFF09;&amp;#xFF0C;&amp;#x5305;&amp;#x542B;&amp;#x591A;&amp;#x4E2A;&amp;#x6587;&amp;#x6863;&amp;#x7684;&amp;#x540C;&amp;#x4E00;Activity&amp;#x7684;&amp;#x591A;&amp;#x4E2A;&amp;#x5B9E;&amp;#x4F8B;&amp;#x53EF;&amp;#x80FD;&amp;#x4F1A;&amp;#x4EE5;&amp;#x4EFB;&amp;#x52A1;&amp;#x7684;&amp;#x5F62;&amp;#x5F0F;&amp;#x663E;&amp;#x793A;&amp;#x5728;&amp;#x6982;&amp;#x89C8;&amp;#x5C4F;&amp;#x5E55;&amp;#x4E2D;&amp;#x3002;&amp;#x9700;&amp;#x8981;&amp;#x5B9A;&amp;#x5236;&amp;#x7684;&amp;#x573A;&amp;#x666F;&amp;#x4E0D;&amp;#x591A;&amp;#xFF0C;&amp;#x5177;&amp;#x4F53;&amp;#x4F7F;&amp;#x7528;&amp;#x53C2;&amp;#x8003;(&lt;a href=&quot;https://developer.android.com/guide/components/recents.html&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;https://developer.android.com/guide/components/recents.html&lt;/a&gt;)&amp;#x3002;&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id=&quot;&amp;#x53C2;&amp;#x8003;&quot;&gt;&lt;a href=&quot;#&amp;#x53C2;&amp;#x8003;&quot; class=&quot;headerlink&quot; title=&quot;&amp;#x53C2;&amp;#x8003;&quot;&gt;&lt;/a&gt;&amp;#x53C2;&amp;#x8003;&lt;/h2&gt;&lt;p&gt;[1] &lt;a href=&quot;https://developer.android.com/guide/components/activities.html&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;https://developer.android.com/guide/components/activities.html&lt;/a&gt;&lt;br&gt;[2] &lt;a href=&quot;https://developer.android.com/guide/components/intents-filters.html&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;https://developer.android.com/guide/components/intents-filters.html&lt;/a&gt;&lt;/p&gt;
</content>
    
    <summary type="html">
    
      &lt;!-- toc --&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;#activity的生命周期分析&quot;&gt;Activity的生命周期分析&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;#处理配置变更&quot;&gt;处理配置变更&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;#任务和返回栈&quot;&gt;任务和返回栈&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;#intent-和-intentfilter&quot;&gt;Intent 和 IntentFilter&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;#参考&quot;&gt;参考&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;!-- tocstop --&gt;
&lt;p&gt;最近通过官网重新学习了Activity的相关知识，觉得收获挺大，遂总结一下。&lt;/p&gt;
&lt;h2 id=&quot;Activity的生命周期分析&quot;&gt;&lt;a href=&quot;#Activity的生命周期分析&quot; class=&quot;headerlink&quot; title=&quot;Activity的生命周期分析&quot;&gt;&lt;/a&gt;Activity的生命周期分析&lt;/h2&gt;&lt;img src=&quot;/2016/06/12/android-study-note-0-md/pic_0.png&quot;&gt;
&lt;p&gt;&lt;strong&gt;Tips:&lt;/strong&gt;  &lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;&lt;code&gt;onCreate()&lt;/code&gt;在整个生命周期只出现一次，建议执行Activity的基本设置，例如：声明用户界面(在XML 布局文件中定义),定义成员变量,以及配置某些UI.  &lt;/li&gt;
&lt;li&gt;&lt;code&gt;onDestroy()&lt;/code&gt;建议进行终止在&lt;code&gt;onCreate()&lt;/code&gt;期间创建的后台线程或其他如若未正确关闭可能导致内存泄露的长期运行资源.  &lt;/li&gt;
&lt;li&gt;&lt;code&gt;oncreate()&lt;/code&gt;内调用&lt;code&gt;finish()&lt;/code&gt;时，系统会立刻调用&lt;code&gt;onDestroy()&lt;/code&gt;.  &lt;/li&gt;
&lt;li&gt;&lt;code&gt;onResume()&lt;/code&gt;建议初始化在&lt;code&gt;onPause()&lt;/code&gt;期间释放的组件并且执行每当Activity进入“继续”状态时必须进行的任何其他初始化操作(比如开始动画和初始化只在Activity具有用户焦点时使用的组件)  &lt;/li&gt;
&lt;li&gt;&lt;code&gt;onStop()&lt;/code&gt;建议释放几乎所有用户不使用时不需要的资源，执行更大、占用更多CPU的关闭操作，比如向数据库写入信息  &lt;/li&gt;
&lt;li&gt;&lt;code&gt;onRestart()&lt;/code&gt;没有适用于一般应用群体的任何方法指导原则。&lt;code&gt;onStart()&lt;/code&gt;方法作为&lt;code&gt;onStop&lt;/code&gt;对应方法，可以初始化对应关闭的资源。比如：因为用户可能在回到它之前已离开应用很长时间，&lt;code&gt;onStart()&lt;/code&gt; 方法是确认所需系统功能已启动的理想选择  &lt;/li&gt;
&lt;li&gt;&lt;code&gt;onPause()&lt;/code&gt;建议进行如下操作：  &lt;/li&gt;
&lt;/ol&gt;
&lt;ul&gt;
&lt;li&gt;停止动画或其他可能消耗 CPU 的进行之中的操作;  &lt;/li&gt;
&lt;li&gt;提交未保存的更改，但仅当用户离开时希望永久性保存此类更改(比如电子邮件草稿);  &lt;/li&gt;
&lt;li&gt;释放系统资源，比如广播接收器、传感器手柄(比如 GPS)或当您的Activity暂停且用户不需要它们时仍然可能影响电池寿命的任何其他资源  &lt;/li&gt;
&lt;/ul&gt;
    
    </summary>
    
      <category term="Android学习笔记" scheme="http://yoursite.com/categories/Android%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/"/>
    
    
      <category term="Android" scheme="http://yoursite.com/tags/Android/"/>
    
  </entry>
  
  <entry>
    <title>《Java TCP/IP Socket编程》读书笔记(上)</title>
    <link href="http://yoursite.com/2016/05/08/java-tcp-ip-socket-program-note-0/"/>
    <id>http://yoursite.com/2016/05/08/java-tcp-ip-socket-program-note-0/</id>
    <published>2016-05-08T13:30:02.000Z</published>
    <updated>2016-05-08T13:38:41.000Z</updated>
    
    <content type="html">&lt;h2 id=&quot;&amp;#x7B2C;&amp;#x4E00;&amp;#x7AE0;-&amp;#x7B80;&amp;#x4ECB;&quot;&gt;&lt;a href=&quot;#&amp;#x7B2C;&amp;#x4E00;&amp;#x7AE0;-&amp;#x7B80;&amp;#x4ECB;&quot; class=&quot;headerlink&quot; title=&quot;&amp;#x7B2C;&amp;#x4E00;&amp;#x7AE0; &amp;#x7B80;&amp;#x4ECB;&quot;&gt;&lt;/a&gt;&amp;#x7B2C;&amp;#x4E00;&amp;#x7AE0; &amp;#x7B80;&amp;#x4ECB;&lt;/h2&gt;&lt;img src=&quot;/2016/05/08/java-tcp-ip-socket-program-note-0/chapter1.png&quot;&gt;
&lt;a id=&quot;more&quot;&gt;&lt;/a&gt;
&lt;h2 id=&quot;&amp;#x7B2C;&amp;#x4E8C;&amp;#x7AE0;-&amp;#x57FA;&amp;#x672C;&amp;#x5957;&amp;#x63A5;&amp;#x5B57;&quot;&gt;&lt;a href=&quot;#&amp;#x7B2C;&amp;#x4E8C;&amp;#x7AE0;-&amp;#x57FA;&amp;#x672C;&amp;#x5957;&amp;#x63A5;&amp;#x5B57;&quot; class=&quot;headerlink&quot; title=&quot;&amp;#x7B2C;&amp;#x4E8C;&amp;#x7AE0; &amp;#x57FA;&amp;#x672C;&amp;#x5957;&amp;#x63A5;&amp;#x5B57;&quot;&gt;&lt;/a&gt;&amp;#x7B2C;&amp;#x4E8C;&amp;#x7AE0; &amp;#x57FA;&amp;#x672C;&amp;#x5957;&amp;#x63A5;&amp;#x5B57;&lt;/h2&gt;&lt;img src=&quot;/2016/05/08/java-tcp-ip-socket-program-note-0/chapter2.png&quot;&gt;
&lt;h2 id=&quot;&amp;#x7B2C;&amp;#x4E09;&amp;#x7AE0;-&amp;#x53D1;&amp;#x9001;&amp;#x548C;&amp;#x63A5;&amp;#x6536;&amp;#x6570;&amp;#x636E;&quot;&gt;&lt;a href=&quot;#&amp;#x7B2C;&amp;#x4E09;&amp;#x7AE0;-&amp;#x53D1;&amp;#x9001;&amp;#x548C;&amp;#x63A5;&amp;#x6536;&amp;#x6570;&amp;#x636E;&quot; class=&quot;headerlink&quot; title=&quot;&amp;#x7B2C;&amp;#x4E09;&amp;#x7AE0; &amp;#x53D1;&amp;#x9001;&amp;#x548C;&amp;#x63A5;&amp;#x6536;&amp;#x6570;&amp;#x636E;&quot;&gt;&lt;/a&gt;&amp;#x7B2C;&amp;#x4E09;&amp;#x7AE0; &amp;#x53D1;&amp;#x9001;&amp;#x548C;&amp;#x63A5;&amp;#x6536;&amp;#x6570;&amp;#x636E;&lt;/h2&gt;&lt;h3 id=&quot;&amp;#x4FE1;&amp;#x606F;&amp;#x7F16;&amp;#x7801;&quot;&gt;&lt;a href=&quot;#&amp;#x4FE1;&amp;#x606F;&amp;#x7F16;&amp;#x7801;&quot; class=&quot;headerlink&quot; title=&quot;&amp;#x4FE1;&amp;#x606F;&amp;#x7F16;&amp;#x7801;&quot;&gt;&lt;/a&gt;&amp;#x4FE1;&amp;#x606F;&amp;#x7F16;&amp;#x7801;&lt;/h3&gt;&lt;ol&gt;
&lt;li&gt;&amp;#x57FA;&amp;#x672C;&amp;#x6574;&amp;#x578B;&lt;br&gt;&amp;#x6CE8;&amp;#x610F;&amp;#x8981;&amp;#x4F20;&amp;#x8F93;&amp;#x6BCF;&amp;#x4E2A;&amp;#x6574;&amp;#x6570;&amp;#x7684;&amp;#x5B57;&amp;#x8282;&amp;#x5927;&amp;#x5C0F;&amp;#xFF1B;&lt;br&gt;&amp;#x8D85;&amp;#x8FC7;&amp;#x4E00;&amp;#x4E2A;&amp;#x5B57;&amp;#x8282;&amp;#x6765;&amp;#x8868;&amp;#x793A;&amp;#x6570;&amp;#x636E;&amp;#x7C7B;&amp;#x578B;&amp;#x65F6;&amp;#xFF0C;&amp;#x5B57;&amp;#x8282;&amp;#x53D1;&amp;#x9001;&amp;#x987A;&amp;#x5E8F;&amp;#xFF1A;little-endian&amp;#x548C;big-endian&amp;#x987A;&amp;#x5E8F;&amp;#xFF1B;&lt;br&gt;&amp;#x6240;&amp;#x4F20;&amp;#x8F93;&amp;#x7684;&amp;#x6570;&amp;#x503C;&amp;#x662F;&amp;#x6709;&amp;#x7B26;&amp;#x53F7;&amp;#x7684;(signed)&amp;#x8FD8;&amp;#x662F;&amp;#x65E0;&amp;#x7B26;&amp;#x53F7;&amp;#x7684;(unsigned)  &lt;/li&gt;
&lt;li&gt;&amp;#x5B57;&amp;#x7B26;&amp;#x4E32;&amp;#x548C;&amp;#x6587;&amp;#x672C;&lt;br&gt;&amp;#x5B57;&amp;#x7B26;&amp;#x96C6;(charset) = &amp;#x7F16;&amp;#x7801;&amp;#x5B57;&amp;#x7B26;&amp;#x96C6;(coed character set) + &amp;#x7F16;&amp;#x7801;&amp;#x65B9;&amp;#x6848;(encoding scheme)&lt;/li&gt;
&lt;li&gt;&amp;#x4F4D;&amp;#x64CD;&amp;#x4F5C;&amp;#xFF1A;&amp;#x5E03;&amp;#x5C14;&amp;#x503C;&amp;#x7F16;&amp;#x7801;&lt;br&gt;&amp;#x4F4D;&amp;#x56FE;(Bitmaps)&amp;#x662F;&amp;#x5BF9;&amp;#x5E03;&amp;#x5C14;&amp;#x4FE1;&amp;#x606F;&amp;#x8FDB;&amp;#x884C;&amp;#x7F16;&amp;#x7801;&amp;#x7684;&amp;#x4E00;&amp;#x79CD;&amp;#x975E;&amp;#x5E38;&amp;#x7D27;&amp;#x51D1;&amp;#x7684;&amp;#x65B9;&amp;#x5F0F;&amp;#x3002;&amp;#x63A9;&amp;#x7801;(mask)&amp;#x662F;&amp;#x4E00;&amp;#x4E2A;&amp;#x6574;&amp;#x6570;&amp;#x503C;&amp;#xFF0C;&amp;#x5176;&amp;#x4E2D;&amp;#x6709;&amp;#x4E00;&amp;#x4F4D;&amp;#x6216;&amp;#x591A;&amp;#x4F4D;&amp;#x88AB;&amp;#x8BBE;&amp;#x4E3A;1&amp;#xFF0C;&amp;#x5176;&amp;#x4ED6;&amp;#x5404;&amp;#x4F4D;&amp;#x88AB;&amp;#x6E05;&amp;#x7A7A;(&amp;#x8BBE;&amp;#x4E3A;0)&lt;br&gt;&amp;#x4EE5;int&amp;#x4E3A;&amp;#x4F8B;&amp;#xFF1A;&lt;figure class=&quot;highlight java&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;final&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;int&lt;/span&gt; BIT5 = (&lt;span class=&quot;number&quot;&gt;1&lt;/span&gt; &amp;lt;&amp;lt; &lt;span class=&quot;number&quot;&gt;5&lt;/span&gt;);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;final&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;int&lt;/span&gt; BIT7 = &lt;span class=&quot;number&quot;&gt;0x80&lt;/span&gt;;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;int&lt;/span&gt; bitmap = &lt;span class=&quot;number&quot;&gt;1234567&lt;/span&gt;;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th style=&quot;text-align:left&quot;&gt;&amp;#x64CD;&amp;#x4F5C;&lt;/th&gt;
&lt;th style=&quot;text-align:left&quot;&gt;&amp;#x4F8B;&amp;#x5B50;&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td style=&quot;text-align:left&quot;&gt;&amp;#x8BBE;&amp;#x7F6E;&amp;#x7279;&amp;#x5B9A;&amp;#x4E00;&amp;#x4F4D;&lt;/td&gt;
&lt;td style=&quot;text-align:left&quot;&gt;bitmap |= BIT5&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&quot;text-align:left&quot;&gt;&amp;#x6E05;&amp;#x7A7A;&amp;#x7279;&amp;#x5B9A;&amp;#x4E00;&amp;#x4F4D;&lt;/td&gt;
&lt;td style=&quot;text-align:left&quot;&gt;bitmap &amp;amp;= ~BIT7&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&quot;text-align:left&quot;&gt;&amp;#x6E05;&amp;#x7A7A;&amp;#x591A;&amp;#x4F4D;&lt;/td&gt;
&lt;td style=&quot;text-align:left&quot;&gt;bitmap &amp;amp;= ~(BIT5 | BIT7)&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&quot;text-align:left&quot;&gt;&amp;#x6D4B;&amp;#x8BD5;&amp;#x7279;&amp;#x5B9A;&amp;#x4F4D;&amp;#x662F;&amp;#x5426;&amp;#x8BBE;&amp;#x7F6E;&lt;/td&gt;
&lt;td style=&quot;text-align:left&quot;&gt;boolean bit5Set = (bitmap &amp;amp; BIT5) != 0&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;h3 id=&quot;&amp;#x7EC4;&amp;#x5408;&amp;#x8F93;&amp;#x5165;&amp;#x548C;&amp;#x8F93;&amp;#x51FA;&amp;#x6D41;&quot;&gt;&lt;a href=&quot;#&amp;#x7EC4;&amp;#x5408;&amp;#x8F93;&amp;#x5165;&amp;#x548C;&amp;#x8F93;&amp;#x51FA;&amp;#x6D41;&quot; class=&quot;headerlink&quot; title=&quot;&amp;#x7EC4;&amp;#x5408;&amp;#x8F93;&amp;#x5165;&amp;#x548C;&amp;#x8F93;&amp;#x51FA;&amp;#x6D41;&quot;&gt;&lt;/a&gt;&amp;#x7EC4;&amp;#x5408;&amp;#x8F93;&amp;#x5165;&amp;#x548C;&amp;#x8F93;&amp;#x51FA;&amp;#x6D41;&lt;/h3&gt;&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th style=&quot;text-align:left&quot;&gt;&amp;#x8F93;&amp;#x5165;&amp;#x8F93;&amp;#x51FA;&lt;/th&gt;
&lt;th style=&quot;text-align:left&quot;&gt;&amp;#x7C7B;&amp;#x578B;&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td style=&quot;text-align:left&quot;&gt;Buffered[Input/Output]Stream&lt;/td&gt;
&lt;td style=&quot;text-align:left&quot;&gt;&amp;#x4E3A;&amp;#x8F93;&amp;#x5165;/&amp;#x8F93;&amp;#x51FA;&amp;#x4F18;&amp;#x5316; &amp;#x6267;&amp;#x884C;&amp;#x4E2D;&amp;#x95F4;&amp;#x8F6C;&amp;#x6362;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&quot;text-align:left&quot;&gt;Checked[Input/Output]Stream&lt;/td&gt;
&lt;td style=&quot;text-align:left&quot;&gt;&amp;#x7EF4;&amp;#x62A4;&amp;#x6570;&amp;#x636E;&amp;#x68C0;&amp;#x67E5;&amp;#x548C;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&quot;text-align:left&quot;&gt;Cipher[Input/Output]Stream&lt;/td&gt;
&lt;td style=&quot;text-align:left&quot;&gt;&amp;#x52A0;&amp;#x5BC6;/&amp;#x89E3;&amp;#x5BC6;&amp;#x6570;&amp;#x636E;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&quot;text-align:left&quot;&gt;Data[Input/Output]Stream&lt;/td&gt;
&lt;td style=&quot;text-align:left&quot;&gt;&amp;#x5904;&amp;#x7406;&amp;#x57FA;&amp;#x672C;&amp;#x6570;&amp;#x636E;&amp;#x7C7B;&amp;#x578B;&amp;#x7684;&amp;#x8BFB;&amp;#x5199;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&quot;text-align:left&quot;&gt;Digest[Input/Output]Stream&lt;/td&gt;
&lt;td style=&quot;text-align:left&quot;&gt;&amp;#x7EF4;&amp;#x62A4;&amp;#x6570;&amp;#x636E;&amp;#x6458;&amp;#x8981;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&quot;text-align:left&quot;&gt;GZIP[Input/Output]Stream&lt;/td&gt;
&lt;td style=&quot;text-align:left&quot;&gt;&amp;#x4EE5;gizp&amp;#x683C;&amp;#x5F0F;&amp;#x89E3;&amp;#x538B;&amp;#x7F29;&amp;#x5B57;&amp;#x8282;&amp;#x6D41;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&quot;text-align:left&quot;&gt;Object[Input/Output]Stream&lt;/td&gt;
&lt;td style=&quot;text-align:left&quot;&gt;&amp;#x5904;&amp;#x7406;&amp;#x8BFB;&amp;#x5199;&amp;#x5BF9;&amp;#x8C61;&amp;#x548C;&amp;#x57FA;&amp;#x672C;&amp;#x6570;&amp;#x636E;&amp;#x7C7B;&amp;#x578B;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&quot;text-align:left&quot;&gt;PushbackInputStream&lt;/td&gt;
&lt;td style=&quot;text-align:left&quot;&gt;&amp;#x5141;&amp;#x8BB8;&amp;#x4E00;&amp;#x4E2A;&amp;#x5B57;&amp;#x8282;&amp;#x6216;&amp;#x591A;&amp;#x4E2A;&amp;#x5B57;&amp;#x8282;&amp;#x662F;&amp;#x201C;&amp;#x672A;&amp;#x8BFB;&amp;#x7684;&amp;#x201D;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&quot;text-align:left&quot;&gt;PrintOutputStream&lt;/td&gt;
&lt;td style=&quot;text-align:left&quot;&gt;&amp;#x8F93;&amp;#x51FA;&amp;#x6570;&amp;#x636E;&amp;#x7C7B;&amp;#x578B;&amp;#x7684;&amp;#x5B57;&amp;#x7B26;&amp;#x4E32;&amp;#x8868;&amp;#x793A;&amp;#x6CD5;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&quot;text-align:left&quot;&gt;Zip[Input/Output]Stream&lt;/td&gt;
&lt;td style=&quot;text-align:left&quot;&gt;&amp;#x4EE5;zip&amp;#x683C;&amp;#x5F0F;&amp;#x89E3;&amp;#x538B;&amp;#x7F29;&amp;#x5B57;&amp;#x8282;&amp;#x6D41;&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;h3 id=&quot;&amp;#x6210;&amp;#x5E27;&amp;#x4E0E;&amp;#x89E3;&amp;#x6790;&quot;&gt;&lt;a href=&quot;#&amp;#x6210;&amp;#x5E27;&amp;#x4E0E;&amp;#x89E3;&amp;#x6790;&quot; class=&quot;headerlink&quot; title=&quot;&amp;#x6210;&amp;#x5E27;&amp;#x4E0E;&amp;#x89E3;&amp;#x6790;&quot;&gt;&lt;/a&gt;&amp;#x6210;&amp;#x5E27;&amp;#x4E0E;&amp;#x89E3;&amp;#x6790;&lt;/h3&gt;&lt;p&gt;&amp;#x6210;&amp;#x5E27;(framing)&amp;#x6280;&amp;#x672F;&amp;#x89E3;&amp;#x51B3;&amp;#x63A5;&amp;#x6536;&amp;#x7AEF;&amp;#x5982;&amp;#x4F55;&amp;#x5B9A;&amp;#x4F4D;&amp;#x6D88;&amp;#x606F;&amp;#x7684;&amp;#x9996;&amp;#x5C3E;&amp;#x4F4D;&amp;#x7F6E;&amp;#x7684;&amp;#x95EE;&amp;#x9898;&amp;#x3002;&lt;br&gt;a. &amp;#x57FA;&amp;#x4E8E;&amp;#x5B9A;&amp;#x754C;&amp;#x7B26;(Delimiter-based):&amp;#x7528;&amp;#x4E8E;&amp;#x4EE5;&amp;#x6587;&amp;#x672C;&amp;#x65B9;&amp;#x5F0F;&amp;#x7F16;&amp;#x7801;&amp;#x7684;&amp;#x6D88;&amp;#x606F;&amp;#x4E2D;&amp;#xFF0C;&amp;#x586B;&amp;#x5145;(stuffing)&amp;#x6280;&amp;#x672F;&amp;#x80FD;&amp;#x591F;&amp;#x5BF9;&amp;#x6D88;&amp;#x606F;&amp;#x4E2D;&amp;#x51FA;&amp;#x73B0;&amp;#x7684;&amp;#x5B9A;&amp;#x754C;&amp;#x7B26;&amp;#x8FDB;&amp;#x884C;&amp;#x4FEE;&amp;#x6539;&amp;#xFF0C;&amp;#x4ECE;&amp;#x800C;&amp;#x4F7F;&amp;#x63A5;&amp;#x6536;&amp;#x8005;&amp;#x4E0D;&amp;#x5C06;&amp;#x5176;&amp;#x8BC6;&amp;#x522B;&amp;#x4E3A;&amp;#x5B9A;&amp;#x4F4D;&amp;#x7B26;&amp;#x3002;&amp;#x7F3A;&amp;#x70B9;&amp;#xFF1A;&amp;#x53D1;&amp;#x9001;&amp;#x8005;&amp;#x548C;&amp;#x63A5;&amp;#x6536;&amp;#x8005;&amp;#x53CC;&amp;#x65B9;&amp;#x90FD;&amp;#x5FC5;&amp;#x987B;&amp;#x626B;&amp;#x63CF;&amp;#x6D88;&amp;#x606F;&lt;br&gt;b. &amp;#x663E;&amp;#x793A;&amp;#x957F;&amp;#x5EA6;(Explicit length):&amp;#x5FC5;&amp;#x987B;&amp;#x77E5;&amp;#x9053;&amp;#x6D88;&amp;#x606F;&amp;#x957F;&amp;#x5EA6;&amp;#x7684;&amp;#x4E0A;&amp;#x9650;&lt;/p&gt;
&lt;h3 id=&quot;java&amp;#x7279;&amp;#x5B9A;&amp;#x7F16;&amp;#x7801;&quot;&gt;&lt;a href=&quot;#Java&amp;#x7279;&amp;#x5B9A;&amp;#x7F16;&amp;#x7801;&quot; class=&quot;headerlink&quot; title=&quot;Java&amp;#x7279;&amp;#x5B9A;&amp;#x7F16;&amp;#x7801;&quot;&gt;&lt;/a&gt;Java&amp;#x7279;&amp;#x5B9A;&amp;#x7F16;&amp;#x7801;&lt;/h3&gt;&lt;ul&gt;
&lt;li&gt;RMI(Remote Method Invocation)&lt;br&gt;  &amp;#x80FD;&amp;#x591F;&amp;#x8C03;&amp;#x7528;&amp;#x4E0D;&amp;#x540C;&amp;#x865A;&amp;#x62DF;&amp;#x673A;&amp;#x7684;&amp;#x65B9;&amp;#x6CD5;&amp;#xFF0C;&amp;#x5E76;&amp;#x9690;&amp;#x85CF;&amp;#x6240;&amp;#x6709;&amp;#x70E6;&amp;#x7410;&amp;#x7684;&amp;#x53C2;&amp;#x6570;&amp;#x7F16;&amp;#x7801;&amp;#x89E3;&amp;#x7801;&amp;#x7EC6;&amp;#x8282;&lt;/li&gt;
&lt;li&gt;Serialization&lt;br&gt;  &amp;#x5C06;&amp;#x5B9E;&amp;#x9645;&amp;#x7684;Java&amp;#x5BF9;&amp;#x8C61;&amp;#x8F6C;&amp;#x5316;&amp;#x6210;&amp;#x5B57;&amp;#x8282;&amp;#x5E8F;&amp;#x5217;&amp;#x5DE5;&amp;#x4F5C;&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&quot;&amp;#x6784;&amp;#x5EFA;&amp;#x548C;&amp;#x89E3;&amp;#x6790;&amp;#x534F;&amp;#x8BAE;&amp;#x6D88;&amp;#x606F;&quot;&gt;&lt;a href=&quot;#&amp;#x6784;&amp;#x5EFA;&amp;#x548C;&amp;#x89E3;&amp;#x6790;&amp;#x534F;&amp;#x8BAE;&amp;#x6D88;&amp;#x606F;&quot; class=&quot;headerlink&quot; title=&quot;&amp;#x6784;&amp;#x5EFA;&amp;#x548C;&amp;#x89E3;&amp;#x6790;&amp;#x534F;&amp;#x8BAE;&amp;#x6D88;&amp;#x606F;&quot;&gt;&lt;/a&gt;&amp;#x6784;&amp;#x5EFA;&amp;#x548C;&amp;#x89E3;&amp;#x6790;&amp;#x534F;&amp;#x8BAE;&amp;#x6D88;&amp;#x606F;&lt;/h3&gt;&lt;ul&gt;
&lt;li&gt;&amp;#x57FA;&amp;#x4E8E;&amp;#x6587;&amp;#x672C;&amp;#x7684;&amp;#x8868;&amp;#x793A;&amp;#x65B9;&amp;#x6CD5;&lt;/li&gt;
&lt;li&gt;&amp;#x4E8C;&amp;#x8FDB;&amp;#x5236;&amp;#x8868;&amp;#x793A;&amp;#x65B9;&amp;#x6CD5;&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&quot;&amp;#x53D1;&amp;#x9001;&amp;#x548C;&amp;#x63A5;&amp;#x6536;&quot;&gt;&lt;a href=&quot;#&amp;#x53D1;&amp;#x9001;&amp;#x548C;&amp;#x63A5;&amp;#x6536;&quot; class=&quot;headerlink&quot; title=&quot;&amp;#x53D1;&amp;#x9001;&amp;#x548C;&amp;#x63A5;&amp;#x6536;&quot;&gt;&lt;/a&gt;&amp;#x53D1;&amp;#x9001;&amp;#x548C;&amp;#x63A5;&amp;#x6536;&lt;/h3&gt;</content>
    
    <summary type="html">
    
      &lt;h2 id=&quot;第一章-简介&quot;&gt;&lt;a href=&quot;#第一章-简介&quot; class=&quot;headerlink&quot; title=&quot;第一章 简介&quot;&gt;&lt;/a&gt;第一章 简介&lt;/h2&gt;&lt;img src=&quot;/2016/05/08/java-tcp-ip-socket-program-note-0/chapter1.png&quot;&gt;
    
    </summary>
    
      <category term="读书笔记" scheme="http://yoursite.com/categories/%E8%AF%BB%E4%B9%A6%E7%AC%94%E8%AE%B0/"/>
    
    
      <category term="Java" scheme="http://yoursite.com/tags/Java/"/>
    
      <category term="Socket" scheme="http://yoursite.com/tags/Socket/"/>
    
  </entry>
  
  <entry>
    <title>深入了解Handler以及相关问题</title>
    <link href="http://yoursite.com/2016/04/17/handler-research/"/>
    <id>http://yoursite.com/2016/04/17/handler-research/</id>
    <published>2016-04-17T09:22:52.000Z</published>
    <updated>2016-04-17T10:00:29.000Z</updated>
    
    <content type="html">&lt;!-- toc --&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;#&amp;#x603B;&amp;#x4F53;&amp;#x4ECB;&amp;#x7ECD;&quot;&gt;&amp;#x603B;&amp;#x4F53;&amp;#x4ECB;&amp;#x7ECD;&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;#&amp;#x6DF1;&amp;#x5165;&amp;#x5206;&amp;#x6790;&quot;&gt;&amp;#x6DF1;&amp;#x5165;&amp;#x5206;&amp;#x6790;&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;#handler&amp;#x5185;&amp;#x5B58;&amp;#x6CC4;&amp;#x9732;&amp;#x95EE;&amp;#x9898;&quot;&gt;Handler&amp;#x5185;&amp;#x5B58;&amp;#x6CC4;&amp;#x9732;&amp;#x95EE;&amp;#x9898;&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;#&amp;#x4E00;&amp;#x79CD;&amp;#x4F18;&amp;#x96C5;&amp;#x7684;&amp;#x89E3;&amp;#x51B3;&amp;#x65B9;&amp;#x6848;&quot;&gt;&amp;#x4E00;&amp;#x79CD;&amp;#x4F18;&amp;#x96C5;&amp;#x7684;&amp;#x89E3;&amp;#x51B3;&amp;#x65B9;&amp;#x6848;&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;#&amp;#x53C2;&amp;#x8003;&quot;&gt;&amp;#x53C2;&amp;#x8003;&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;!-- tocstop --&gt;
&lt;p&gt;&amp;#x6839;&amp;#x636E;Google&amp;#x5B98;&amp;#x65B9;&amp;#xFF0C;Handler&amp;#x673A;&amp;#x5236;&amp;#x6709;&amp;#x4E24;&amp;#x4E2A;&amp;#x4E3B;&amp;#x8981;&amp;#x4F5C;&amp;#x7528;:1.&amp;#x5728;&amp;#x672A;&amp;#x6765;&amp;#x67D0;&amp;#x4E2A;&amp;#x65F6;&amp;#x523B;&amp;#x8C03;&amp;#x5EA6;&amp;#x6D88;&amp;#x606F;&amp;#x6267;&amp;#x884C;;2.&amp;#x5728;&amp;#x5176;&amp;#x4ED6;&amp;#x7EBF;&amp;#x7A0B;&amp;#x4E2D;&amp;#x6267;&amp;#x884C;&amp;#x76F8;&amp;#x5173;&amp;#x64CD;&amp;#x4F5C;&amp;#x3002;&amp;#x5B9E;&amp;#x9645;&amp;#x4E0A;&amp;#xFF0C;&amp;#x6211;&amp;#x4EEC;&amp;#x53EF;&amp;#x4EE5;&amp;#x770B;&amp;#x6210;&amp;#x662F;framework&amp;#x5C42;&amp;#x63D0;&amp;#x4F9B;&amp;#x7684;&amp;#x4E00;&amp;#x79CD;&amp;#x7EBF;&amp;#x7A0B;&amp;#x4E4B;&amp;#x95F4;&amp;#x901A;&amp;#x4FE1;&amp;#x65B9;&amp;#x5F0F;&amp;#x3002;&amp;#x901A;&amp;#x5E38;&amp;#xFF0C;&amp;#x6211;&amp;#x4EEC;&amp;#x4E0E;UI&amp;#x7EBF;&amp;#x7A0B;&amp;#x4EA4;&amp;#x4E92;&amp;#x65F6;&amp;#x4F1A;&amp;#x4F7F;&amp;#x7528;Handler&amp;#x5B9E;&amp;#x73B0;,&amp;#x672C;&amp;#x6587;&amp;#x4E3B;&amp;#x8981;&amp;#x8BA8;&amp;#x8BBA;&amp;#x5176;&amp;#x6E90;&amp;#x7801;&amp;#x5B9E;&amp;#x73B0;&amp;#x4EE5;&amp;#x53CA;&amp;#x76F8;&amp;#x5173;&amp;#x95EE;&amp;#x9898;&amp;#x3002;&lt;/p&gt;
&lt;h2 id=&quot;&amp;#x603B;&amp;#x4F53;&amp;#x4ECB;&amp;#x7ECD;&quot;&gt;&lt;a href=&quot;#&amp;#x603B;&amp;#x4F53;&amp;#x4ECB;&amp;#x7ECD;&quot; class=&quot;headerlink&quot; title=&quot;&amp;#x603B;&amp;#x4F53;&amp;#x4ECB;&amp;#x7ECD;&quot;&gt;&lt;/a&gt;&amp;#x603B;&amp;#x4F53;&amp;#x4ECB;&amp;#x7ECD;&lt;/h2&gt;&lt;ul&gt;
&lt;li&gt;&amp;#x4E8B;&amp;#x4EF6;&amp;#x9A71;&amp;#x52A8;&amp;#x6A21;&amp;#x578B;&lt;/li&gt;
&lt;li&gt;Looper,Message&amp;#x548C;Hanlder&amp;#x5173;&amp;#x7CFB;&amp;#x56FE;&lt;/li&gt;
&lt;/ul&gt;
&lt;img src=&quot;/2016/04/17/handler-research/handler_outline.png&quot;&gt;
&lt;ul&gt;
&lt;li&gt;Looper&amp;#x7C7B;&lt;br&gt;&amp;#x7528;&amp;#x4E8E;&amp;#x5EFA;&amp;#x7ACB;&amp;#x6D88;&amp;#x606F;&amp;#x5FAA;&amp;#x73AF;&amp;#x5E76;&amp;#x7BA1;&amp;#x7406;&amp;#x6D88;&amp;#x606F;&amp;#x961F;&amp;#x5217;(MessageQueue),&amp;#x4E0D;&amp;#x505C;&amp;#x7684;&amp;#x4ECE;&amp;#x6D88;&amp;#x606F;&amp;#x961F;&amp;#x5217;&amp;#x4E2D;&amp;#x62BD;&amp;#x53D6;&amp;#x6D88;&amp;#x606F;,&amp;#x5206;&amp;#x53D1;&amp;#x6267;&amp;#x884C;&amp;#x3002;&amp;#x6BCF;&amp;#x4E2A;&amp;#x7EBF;&amp;#x7A0B;&amp;#x53EA;&amp;#x80FD;&amp;#x6709;&amp;#x4E00;&amp;#x4E2A;Looper&amp;#x5BF9;&amp;#x8C61;,&amp;#x5E76;&amp;#x4E14;Looper&amp;#x6784;&amp;#x9020;&amp;#x65B9;&amp;#x6CD5;&amp;#x662F;&amp;#x79C1;&amp;#x6709;&amp;#x7684;,&amp;#x53EA;&amp;#x662F;&amp;#x521B;&amp;#x5EFA;&amp;#x4E00;&amp;#x4E2A;MessageQueue&amp;#x5BF9;&amp;#x8C61;&amp;#x5E76;&amp;#x6301;&amp;#x6709;&amp;#x3002;&amp;#x6839;&amp;#x636E;Google&amp;#x5B98;&amp;#x65B9;&amp;#x6587;&amp;#x6863;,&amp;#x4E00;&amp;#x4E2A;Thread&amp;#x5B9E;&amp;#x73B0;Looper&amp;#x673A;&amp;#x5236;&amp;#x5982;&amp;#x4E0B;:&lt;a id=&quot;more&quot;&gt;&lt;/a&gt;
&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;12&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;13&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;14&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;15&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;class LooperThread extends Thread {&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    public Handler mHandler;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  &lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    public void run() {&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        Looper.prepare();&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  &lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        mHandler = new Handler() {&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;            public void handleMessage(Message msg) {&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;                // process incoming messages here&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;            }&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        };&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  &lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        Looper.loop();&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    }&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;}&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;prepare()&amp;#x51FD;&amp;#x6570;&amp;#x5B9A;&amp;#x4E49;&amp;#x5982;&amp;#x4E0B;&amp;#xFF0C;&amp;#x5176;&amp;#x4E2D;sThreadLocal&amp;#x662F;&amp;#x9759;&amp;#x6001;&amp;#x7684;TLS&amp;#x5BF9;&amp;#x8C61;&amp;#x3002;&amp;#x542F;&amp;#x52A8;&amp;#x4E00;&amp;#x4E2A;Looper&amp;#x673A;&amp;#x5236;&amp;#x7684;&amp;#x7EBF;&amp;#x7A0B;&amp;#x5C3D;&amp;#x91CF;&amp;#x4F7F;&amp;#x7528;&amp;#x7CFB;&amp;#x7EDF;&amp;#x63D0;&amp;#x4F9B;&amp;#x7684;HandlerThread&amp;#x3002;&lt;br&gt;&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;10&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;public static void prepare() {&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    prepare(true);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;}&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;private static void prepare(boolean quitAllowed) {&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    if (sThreadLocal.get() != null) {&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        throw new RuntimeException(&amp;quot;Only one Looper may be created per thread&amp;quot;);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    }&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    sThreadLocal.set(new Looper(quitAllowed));&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;}&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;loop()&amp;#x5173;&amp;#x952E;&amp;#x4EE3;&amp;#x7801;&amp;#x5982;&amp;#x4E0B;&amp;#xFF0C;&amp;#x6574;&amp;#x4F53;&amp;#x6D41;&amp;#x7A0B;&amp;#x5C31;&amp;#x662F;&amp;#x62FF;&amp;#x5230;&amp;#x5F53;&amp;#x524D;&amp;#x7EBF;&amp;#x7A0B;&amp;#x7684;Looper&amp;#x5BF9;&amp;#x8C61;&amp;#xFF0C;&amp;#x7136;&amp;#x540E;&amp;#x4ECE;Looper&amp;#x5BF9;&amp;#x8C61;&amp;#x7684;MessageQueue&amp;#x53D6;Message&amp;#xFF0C;&amp;#x6267;&amp;#x884C;&amp;#xFF0C;&amp;#x6700;&amp;#x540E;&amp;#x56DE;&amp;#x6536;&amp;#x6D88;&amp;#x606F;&amp;#x5BF9;&amp;#x8C61;&amp;#x3002;&lt;br&gt;&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;12&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;13&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;14&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;15&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;public static void loop() {&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    final Looper me = myLooper();&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    if (me == null) {&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        throw new RuntimeException(&amp;quot;No Looper; Looper.prepare() wasn&amp;apos;t called on this thread.&amp;quot;);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    }&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    final MessageQueue queue = me.mQueue;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    ...&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    for (;;) {&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        Message msg = queue.next(); // might block&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        ...&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        msg.target.dispatchMessage(msg);  &lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        ...&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        msg.recycleUnchecked();&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    }&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;}&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Message&amp;#x7C7B;  &lt;/li&gt;
&lt;/ul&gt;
&lt;img src=&quot;/2016/04/17/handler-research/message_class_pic.png&quot;&gt;  
&lt;p&gt;Message&amp;#x5185;&amp;#x90E8;&amp;#x5B9E;&amp;#x73B0;&amp;#x4E86;&amp;#x5BF9;&amp;#x8C61;&amp;#x7F13;&amp;#x5B58;&amp;#x6C60;&amp;#x6982;&amp;#x5FF5;&amp;#xFF0C;&amp;#x4F7F;&amp;#x7528;Message&amp;#x5BF9;&amp;#x8C61;&amp;#x53EF;&amp;#x4EE5;&amp;#x4ECE;&amp;#x6C60;&amp;#x4E2D;&amp;#x53D6;&amp;#x5BF9;&amp;#x8C61;&amp;#xFF0C;&amp;#x5B9E;&amp;#x9645;&amp;#x4E0A;&amp;#x5C31;&amp;#x662F;&amp;#x4E00;&amp;#x4E2A;&amp;#x94FE;&amp;#x8868;&amp;#x3002;&lt;br&gt;&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;12&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;13&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;public static Message obtain() {&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    synchronized (sPoolSync) {&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        if (sPool != null) {&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;            Message m = sPool;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;            sPool = m.next;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;            m.next = null;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;            m.flags = 0; // clear in-use flag&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;            sPoolSize--;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;            return m;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        }&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    }&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    return new Message();&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;}&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Handler&amp;#x7C7B;&lt;br&gt;&amp;#x6700;&amp;#x57FA;&amp;#x672C;&amp;#x7684;&amp;#x6784;&amp;#x9020;&amp;#x65B9;&amp;#x6CD5;&amp;#x5982;&amp;#x4E0B;,&amp;#x6700;&amp;#x91CD;&amp;#x8981;&amp;#x7684;&amp;#x5C31;&amp;#x662F;&amp;#x62FF;&amp;#x5230;&amp;#x5BF9;&amp;#x5E94;&amp;#x7EBF;&amp;#x7A0B;&amp;#x7684;Looper&amp;#x548C;&amp;#x5176;&amp;#x4E2D;&amp;#x7684;MessageQueue.&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;11&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;public Handler(Callback callback, boolean async) {&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    ...&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    mLooper = Looper.myLooper(); // &amp;#x5F53;&amp;#x524D;&amp;#x7EBF;&amp;#x7A0B;&amp;#x7684;Looper&amp;#x5BF9;&amp;#x8C61;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    if (mLooper == null) {&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        throw new RuntimeException(&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;            &amp;quot;Can&amp;apos;t create handler inside thread that has not called Looper.prepare()&amp;quot;);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    }&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    mQueue = mLooper.mQueue;    // &amp;#x5F53;&amp;#x524D;&amp;#x7EBF;&amp;#x7A0B;&amp;#x7684;&amp;#x6D88;&amp;#x606F;&amp;#x961F;&amp;#x5217;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    mCallback = callback;       // Handler.Callback &amp;#x63A5;&amp;#x53E3;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    mAsynchronous = async;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;}&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&amp;#x5176;&amp;#x4E2D;&amp;#xFF0C;CallBack&amp;#x5B9A;&amp;#x4E49;&amp;#x5982;&amp;#x4E0B;:&lt;br&gt;&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;public interface Callback {&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    public boolean handleMessage(Message msg);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;}&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;&amp;#x53D1;&amp;#x9001;&amp;#x6D88;&amp;#x606F;api&amp;#x6709;&amp;#x4E24;&amp;#x79CD;:sendXXX&amp;#x548C;postXXX&amp;#xFF0C;&amp;#x5176;&amp;#x4E2D;postXXX&amp;#x90FD;&amp;#x662F;&amp;#x628A;Runnable&amp;#x5BF9;&amp;#x8C61;&amp;#x5C01;&amp;#x88C5;&amp;#x5230;Message&amp;#x5BF9;&amp;#x8C61;&amp;#xFF0C;&amp;#x6700;&amp;#x7EC8;&amp;#x8C03;&amp;#x7528;sendXXX&amp;#x65B9;&amp;#x6CD5;&amp;#x3002;&lt;br&gt;Runnable&amp;#x5305;&amp;#x88C5;&amp;#x6210;Message&amp;#x7684;&amp;#x4EE3;&amp;#x7801;&amp;#x5982;&amp;#x4E0B;&amp;#xFF1A;&lt;br&gt;&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;private static Message getPostMessage(Runnable r) {&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    Message m = Message.obtain();&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    m.callback = r;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    return m;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;}&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;sendXXX&amp;#x65B9;&amp;#x6CD5;&amp;#x6700;&amp;#x7EC8;&amp;#x628A;Message&amp;#x653E;&amp;#x5230;&amp;#x961F;&amp;#x5217;&amp;#x4E2D;&amp;#xFF0C;&amp;#x5173;&amp;#x952E;&amp;#x662F;enqueueMessage()&amp;#x51FD;&amp;#x6570;&amp;#xFF0C;&amp;#x6700;&amp;#x7EC8;&amp;#x662F;&amp;#x8C03;&amp;#x7528;MessageQueue&amp;#x4E2D;&amp;#x65B9;&amp;#x6CD5;&amp;#x628A;&amp;#x8BE5;Message&amp;#x6309;&amp;#x65F6;&amp;#x95F4;&amp;#x987A;&amp;#x5E8F;&amp;#x63D2;&amp;#x5165;&amp;#x961F;&amp;#x5217;&amp;#x4E2D;&amp;#x3002;&lt;br&gt;&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;private boolean enqueueMessage(MessageQueue queue, Message msg, long uptimeMillis) {&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    msg.target = this; // &amp;#x5173;&amp;#x952E;&amp;#x4EE3;&amp;#x7801;&amp;#xFF1A;&amp;#x6D88;&amp;#x606F;&amp;#x7684;target&amp;#x4E3A;Handler&amp;#x5BF9;&amp;#x8C61;&amp;#xFF0C;&amp;#x6700;&amp;#x7EC8;&amp;#x6D88;&amp;#x606F;&amp;#x5904;&amp;#x7406;&amp;#x662F;Handler&amp;#x5B9E;&amp;#x73B0;&amp;#x7684;&amp;#x3002;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    if (mAsynchronous) {&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        msg.setAsynchronous(true);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    }&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    return queue.enqueueMessage(msg, uptimeMillis);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;}&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;&amp;#x6700;&amp;#x7EC8;&amp;#x5904;&amp;#x7406;&amp;#x51FD;&amp;#x6570;&amp;#x5982;&amp;#x4E0B;&amp;#xFF1A;&lt;br&gt;&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;12&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;public void dispatchMessage(Message msg) {&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    if (msg.callback != null) {                    // 1. Message&amp;#x5BF9;&amp;#x8C61;&amp;#x7684;Runnable&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        handleCallback(msg);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    } else {&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        if (mCallback != null) {                   // 2. Handler.Callback &amp;#x5BF9;&amp;#x8C61;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;            if (mCallback.handleMessage(msg)) {&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;                return;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;            }&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        }&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        handleMessage(msg);                        // 3. Handler&amp;#x672C;&amp;#x8EAB;HandleMessage()&amp;#x65B9;&amp;#x6CD5;&amp;#xFF0C;&amp;#x53EF;override&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    }&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;}&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;h2 id=&quot;&amp;#x6DF1;&amp;#x5165;&amp;#x5206;&amp;#x6790;&quot;&gt;&lt;a href=&quot;#&amp;#x6DF1;&amp;#x5165;&amp;#x5206;&amp;#x6790;&quot; class=&quot;headerlink&quot; title=&quot;&amp;#x6DF1;&amp;#x5165;&amp;#x5206;&amp;#x6790;&quot;&gt;&lt;/a&gt;&amp;#x6DF1;&amp;#x5165;&amp;#x5206;&amp;#x6790;&lt;/h2&gt;&lt;ul&gt;
&lt;li&gt;MessageQueue&amp;#x7C7B;&lt;br&gt;&amp;#x8FD9;&amp;#x4E2A;&amp;#x7C7B;&amp;#x6BD4;&amp;#x8F83;&amp;#x7279;&amp;#x6B8A;,&amp;#x7FFB;&amp;#x770B;&amp;#x6E90;&amp;#x7801;&amp;#x4F1A;&amp;#x53D1;&amp;#x73B0;&amp;#x6784;&amp;#x9020;&amp;#x65B9;&amp;#x6CD5;&amp;#x4E2D;&amp;#x8C03;&amp;#x7528;&amp;#x4E86;&amp;#x672C;&amp;#x5730;&amp;#x65B9;&amp;#x6CD5;nativeInit,&amp;#x5728;&amp;#x672C;&amp;#x5730;&amp;#x4EE3;&amp;#x7801;&amp;#x4E2D;&amp;#x4E3A;&amp;#x6D88;&amp;#x606F;&amp;#x961F;&amp;#x5217;&amp;#x5206;&amp;#x914D;&amp;#x5185;&amp;#x5B58;,&amp;#x5B9E;&amp;#x9645;&amp;#x4E0A;&amp;#x53EF;&amp;#x4EE5;&amp;#x8BA4;&amp;#x4E3A;&amp;#x5728;Native&amp;#x5C42;&amp;#x4E5F;&amp;#x641E;&amp;#x4E86;&amp;#x4E00;&amp;#x5957;Handler&amp;#x673A;&amp;#x5236;&amp;#xFF0C;&amp;#x901A;&amp;#x8FC7;MessageQueue&amp;#x8054;&amp;#x7CFB;&amp;#x5728;&amp;#x4E00;&amp;#x8D77;&amp;#x3002;&amp;#x67E5;&amp;#x770B;&amp;#x5BF9;&amp;#x5E94;&amp;#x6E90;&amp;#x7801;&amp;#x5982;&amp;#x4E0B;&amp;#xFF1A;&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;NativeMessageQueue::NativeMessageQueue() :&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        mPollEnv(NULL), mPollObj(NULL), mExceptionObj(NULL) {&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    mLooper = Looper::getForThread();&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    if (mLooper == NULL) {&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        mLooper = new Looper(false);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        Looper::setForThread(mLooper);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    }&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;}&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&amp;#x5DEE;&amp;#x4E0D;&amp;#x591A;&amp;#x4EFF;&amp;#x7167;Java&amp;#x7684;&amp;#x6837;&amp;#x5B50;&amp;#x641E;&amp;#x4E86;&amp;#x4E00;&amp;#x4E2A;Looper,&amp;#x770B;&amp;#x4E00;&amp;#x4E0B;Looper&amp;#x6784;&amp;#x9020;&amp;#x51FD;&amp;#x6570;&amp;#x600E;&amp;#x4E48;&amp;#x5199;&amp;#x7684;&amp;#xFF1A;&lt;br&gt;&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;11&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;Looper::Looper(bool allowNonCallbacks) :&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        mAllowNonCallbacks(allowNonCallbacks), mSendingMessage(false),&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        mPolling(false), mEpollFd(-1), mEpollRebuildRequired(false),&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        mNextRequestSeq(0), mResponseIndex(0), mNextMessageUptime(LLONG_MAX) {&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    mWakeEventFd = eventfd(0, EFD_NONBLOCK | EFD_CLOEXEC);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    LOG_ALWAYS_FATAL_IF(mWakeEventFd &amp;lt; 0, &amp;quot;Could not make wake event fd: %s&amp;quot;,&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;                        strerror(errno));&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    AutoMutex _l(mLock);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    rebuildEpollLocked();&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;}&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;Android6.0&amp;#x4E4B;&amp;#x524D;&amp;#x4F7F;&amp;#x7528;pipe,6.0&amp;#x6539;&amp;#x7528;eventfd,&amp;#x76F8;&amp;#x6BD4;&amp;#x4E8E;pipe,eventfd&amp;#x7F13;&amp;#x5B58;&amp;#x5927;&amp;#x5C0F;&amp;#x786E;&amp;#x5B9A;&amp;#x4E3A;8Byte,&amp;#x8D1F;&amp;#x8D23;&amp;#x7EBF;&amp;#x7A0B;&amp;#x901A;&amp;#x4FE1;&amp;#x3002;&amp;#x770B;&amp;#x4E00;&amp;#x4E0B;rebuildEpollLocked&amp;#x51FD;&amp;#x6570;:&lt;/p&gt;
&lt;img src=&quot;/2016/04/17/handler-research/handler_rebuildEpollLocked.png&quot;&gt;  
&lt;p&gt;&amp;#x5230;&amp;#x8FD9;&amp;#x91CC;&amp;#x6211;&amp;#x4EEC;&amp;#x53EF;&amp;#x4EE5;&amp;#x731C;&amp;#x6D4B;&amp;#xFF0C;&amp;#x5E95;&amp;#x5C42;&amp;#x4F7F;&amp;#x7528;epoll&amp;#x673A;&amp;#x5236;&amp;#x5B9E;&amp;#x73B0;:&amp;#x6709;&amp;#x65B0;&amp;#x6D88;&amp;#x606F;&amp;#x65F6;&amp;#x5524;&amp;#x9192;Looper&amp;#x7EBF;&amp;#x7A0B;&amp;#x8BFB;&amp;#x53D6;&amp;#x6D88;&amp;#x606F;&amp;#x961F;&amp;#x5217;&amp;#xFF0C;&amp;#x5426;&amp;#x5219;&amp;#x963B;&amp;#x585E;&amp;#x3002;&amp;#x8BA9;&amp;#x6211;&amp;#x4EEC;&amp;#x770B;&amp;#x770B;&amp;#x6E90;&amp;#x7801;&amp;#x6765;&amp;#x9A8C;&amp;#x8BC1;&amp;#xFF1A;  &lt;/p&gt;
&lt;p&gt;&lt;strong&gt; a) &amp;#x53D1;&amp;#x6D88;&amp;#x606F; &lt;/strong&gt;  &lt;/p&gt;
&lt;img src=&quot;/2016/04/17/handler-research/handler_send_message.png&quot;&gt;  
&lt;p&gt;nativeWake&amp;#x8C03;&amp;#x7528;&amp;#x4E86;Looper::wake&amp;#x51FD;&amp;#x6570;&amp;#xFF0C;&amp;#x5982;&amp;#x4E0B;:&lt;br&gt;&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;12&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;13&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;void Looper::wake() {&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;#if DEBUG_POLL_AND_WAKE&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    ALOGD(&amp;quot;%p ~ wake&amp;quot;, this);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;#endif&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    uint64_t inc = 1;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    ssize_t nWrite = TEMP_FAILURE_RETRY(write(mWakeEventFd, &amp;amp;inc, sizeof(uint64_t)));&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    if (nWrite != sizeof(uint64_t)) {&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        if (errno != EAGAIN) {&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;            ALOGW(&amp;quot;Could not write wake signal: %s&amp;quot;, strerror(errno));&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        }&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    }&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;}&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;&amp;#x5F80;mWakeEventFd&amp;#x5199;&amp;#x4E1C;&amp;#x897F;&amp;#x4E86;&amp;#xFF01;&amp;#x80AF;&amp;#x5B9A;&amp;#x5524;&amp;#x9192;Looper&amp;#x7EBF;&amp;#x7A0B;&amp;#x53D6;&amp;#x6D88;&amp;#x606F;&amp;#x4E86;&amp;#xFF0C;&amp;#x8BA9;&amp;#x6211;&amp;#x4EEC;&amp;#x7EE7;&amp;#x7EED;&amp;#x770B;&amp;#x3002;  &lt;/p&gt;
&lt;p&gt;&lt;strong&gt; b) &amp;#x53D6;&amp;#x6D88;&amp;#x606F; &lt;/strong&gt;  &lt;/p&gt;
&lt;p&gt;&amp;#x4E3B;&amp;#x8981;&amp;#x662F;MessageQueue&amp;#x7684;next()&amp;#x51FD;&amp;#x6570;&amp;#xFF0C;&amp;#x8FD9;&amp;#x4E2A;&amp;#x51FD;&amp;#x6570;&amp;#x6709;&amp;#x70B9;&amp;#x590D;&amp;#x6742;&amp;#xFF0C;&amp;#x6311;&amp;#x91CD;&amp;#x70B9;&amp;#x8BF4;&amp;#x4E00;&amp;#x4E0B;:&lt;br&gt;&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;12&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;13&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;14&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;15&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;16&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;17&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;18&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;19&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;20&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;21&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;22&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;23&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;24&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;25&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;26&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;27&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;28&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;29&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;30&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;31&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;32&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;33&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;34&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;35&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;36&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;37&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;38&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;39&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;40&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;41&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;42&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;43&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;44&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;45&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;46&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;47&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;48&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;49&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;50&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;51&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;52&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;53&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;54&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;55&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;56&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;57&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;58&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;59&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;60&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;61&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;62&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;63&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;64&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;65&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;66&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;67&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;68&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;Message next() {&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        ...&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        int pendingIdleHandlerCount = -1; // -1 only during first iteration&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        int nextPollTimeoutMillis = 0;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        for (;;) {&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;            ...&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;            &lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;            // 1. &amp;#x5173;&amp;#x952E;&amp;#x4EE3;&amp;#x7801;:&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;            nativePollOnce(ptr, nextPollTimeoutMillis);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;            synchronized (this) {&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;                // Try to retrieve the next message.  Return if found.&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;                final long now = SystemClock.uptimeMillis();&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;                Message prevMsg = null;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;                Message msg = mMessages;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;                if (msg != null &amp;amp;&amp;amp; msg.target == null) {&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;                    // Stalled by a barrier.  Find the next asynchronous message in the queue.&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;                    do {&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;                        prevMsg = msg;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;                        msg = msg.next;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;                    } while (msg != null &amp;amp;&amp;amp; !msg.isAsynchronous());&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;                }&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;                if (msg != null) {&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;                    if (now &amp;lt; msg.when) {&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;                        // Next message is not ready.  Set a timeout to wake up when it is ready.&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;                        nextPollTimeoutMillis = (int) Math.min(msg.when - now, Integer.MAX_VALUE);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;                    } else {&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;                        // Got a message.&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;                        mBlocked = false;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;                        if (prevMsg != null) {&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;                            prevMsg.next = msg.next;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;                        } else {&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;                            mMessages = msg.next;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;                        }&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;                        msg.next = null;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;                        if (DEBUG) Log.v(TAG, &amp;quot;Returning message: &amp;quot; + msg);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;                        msg.markInUse();&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;                        return msg;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;                    }&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;                } else {&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;                    // No more messages.&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;                    nextPollTimeoutMillis = -1;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;                }&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;                ...&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;            }&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;            // 2. &amp;#x5173;&amp;#x952E;&amp;#x4EE3;&amp;#x7801;: &lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;            // Run the idle handlers.&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;            // We only ever reach this code block during the first iteration.&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;            for (int i = 0; i &amp;lt; pendingIdleHandlerCount; i++) {&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;                final IdleHandler idler = mPendingIdleHandlers[i];&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;                mPendingIdleHandlers[i] = null; // release the reference to the handler&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;                boolean keep = false;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;                try {&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;                    keep = idler.queueIdle();&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;                } catch (Throwable t) {&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;                    Log.wtf(TAG, &amp;quot;IdleHandler threw exception&amp;quot;, t);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;                }&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;                if (!keep) {&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;                    synchronized (this) {&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;                        mIdleHandlers.remove(idler);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;                    }&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;                }&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;            }&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;            ...&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        }&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    }&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;1.&amp;#x5728;&amp;#x6B7B;&amp;#x5FAA;&amp;#x73AF;&amp;#x4E2D;&amp;#x8C03;&amp;#x7528;nativePollOnce&amp;#x65B9;&amp;#x6CD5;&amp;#xFF0C;&amp;#x76F4;&amp;#x89C9;&amp;#x544A;&amp;#x8BC9;&amp;#x6211;&amp;#x4EEC;&amp;#x8BE5;&amp;#x65B9;&amp;#x6CD5;&amp;#x5728;&amp;#x6CA1;&amp;#x6709;&amp;#x65B0;&amp;#x6D88;&amp;#x606F;&amp;#x65F6;&amp;#x4F1A;block&amp;#x3002;&amp;#x5728;android_os_MessageQueue.cpp&amp;#x4E2D;&amp;#x6211;&amp;#x4EEC;&amp;#x53D1;&amp;#x73B0;&amp;#x8BE5;&amp;#x51FD;&amp;#x6570;&amp;#x6700;&amp;#x7EC8;&amp;#x8C03;&amp;#x7528;&amp;#x4E86;Looper::pollOnce()&amp;#x65B9;&amp;#x6CD5;.&lt;/p&gt;
&lt;img src=&quot;/2016/04/17/handler-research/handler_native_poll_once.png&quot;&gt;  
&lt;p&gt;&amp;#x5176;&amp;#x4E2D;&amp;#x5173;&amp;#x952E;&amp;#x4EE3;&amp;#x7801;&amp;#x662F;Looper::pollInner&amp;#xFF0C;&amp;#x6BD4;&amp;#x8F83;&amp;#x590D;&amp;#x6742;&amp;#xFF0C;&amp;#x6211;&amp;#x4EEC;&amp;#x53EA;&amp;#x5206;&amp;#x6790;&amp;#x76F8;&amp;#x5173;&amp;#x91CD;&amp;#x8981;&amp;#x7684;&amp;#x4EE3;&amp;#x7801;&amp;#x3002;&lt;/p&gt;
&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;12&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;13&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;14&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;15&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;16&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;17&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;18&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;19&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;20&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;21&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;22&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;23&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;24&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;25&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;26&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;27&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;28&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;29&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;30&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;31&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;32&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;33&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;34&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;35&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;36&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;37&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;38&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;39&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;40&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;41&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;42&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;43&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;44&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;45&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;46&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;47&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;48&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;49&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;50&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;51&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;52&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;53&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;54&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;55&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;56&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;57&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;58&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;59&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;60&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;61&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;62&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;63&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;64&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;65&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;66&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;67&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;68&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;69&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;70&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;71&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;72&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;73&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;74&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;75&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;76&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;77&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;78&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;79&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;80&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;81&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;82&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;83&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;84&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;85&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;86&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;87&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;88&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;89&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;90&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;91&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;92&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;93&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;94&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;95&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;    int Looper::pollInner(int timeoutMillis) {&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        ... &lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        // Poll.&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        int result = POLL_WAKE;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        mResponses.clear();&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        mResponseIndex = 0;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        // We are about to idle.&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        mPolling = true;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        struct epoll_event eventItems[EPOLL_MAX_EVENTS];&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        // &amp;#x5173;&amp;#x952E;&amp;#x4EE3;&amp;#x7801;: &amp;#x7B49;&amp;#x5F85;&amp;#x4E8B;&amp;#x4EF6;&amp;#x5230;&amp;#x8FBE; &amp;#x6216;&amp;#x8005; &amp;#x8D85;&amp;#x65F6;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        int eventCount = epoll_wait(mEpollFd, eventItems, EPOLL_MAX_EVENTS, timeoutMillis);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        // No longer idling.&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        mPolling = false;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        // Acquire lock.&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        mLock.lock();&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        // Rebuild epoll set if needed.&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        if (mEpollRebuildRequired) {&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;            mEpollRebuildRequired = false;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;            rebuildEpollLocked();&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;            goto Done;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        }&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        // Check for poll error.&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        if (eventCount &amp;lt; 0) {&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;            if (errno == EINTR) {&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;                goto Done;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;            }&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;            ALOGW(&amp;quot;Poll failed with an unexpected error: %s&amp;quot;, strerror(errno));&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;            result = POLL_ERROR;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;            goto Done;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        }&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        // Check for poll timeout.&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        if (eventCount == 0) { // 0&amp;#x8868;&amp;#x793A;&amp;#x8D85;&amp;#x65F6;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    #if DEBUG_POLL_AND_WAKE&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;            ALOGD(&amp;quot;%p ~ pollOnce - timeout&amp;quot;, this);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    #endif&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;            result = POLL_TIMEOUT;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;            goto Done;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        }&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        // Handle all events.&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    #if DEBUG_POLL_AND_WAKE&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        ALOGD(&amp;quot;%p ~ pollOnce - handling events from %d fds&amp;quot;, this, eventCount);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    #endif&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        for (int i = 0; i &amp;lt; eventCount; i++) {&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;            int fd = eventItems[i].data.fd;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;            uint32_t epollEvents = eventItems[i].events;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;            if (fd == mWakeEventFd) { // &amp;#x5982;&amp;#x679C;&amp;#x662F; mWakeEventFd &amp;#x7684;&amp;#x53EF;&amp;#x8BFB;&amp;#x4E8B;&amp;#x4EF6;&amp;#xFF0C;&amp;#x6267;&amp;#x884C; awoke&amp;#x51FD;&amp;#x6570;&amp;#xFF0C;&amp;#x5C31;&amp;#x662F;&amp;#x4ECE; mWakeEventFd&amp;#x8BFB;&amp;#x51FA;&amp;#x6570;&amp;#x636E;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;                if (epollEvents &amp;amp; EPOLLIN) {&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;                    awoken();&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;                } else {&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;                    ALOGW(&amp;quot;Ignoring unexpected epoll events 0x%x on wake event fd.&amp;quot;, epollEvents);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;                }&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;            } else {&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;                ssize_t requestIndex = mRequests.indexOfKey(fd);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;                if (requestIndex &amp;gt;= 0) {&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;                    int events = 0;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;                    if (epollEvents &amp;amp; EPOLLIN) events |= EVENT_INPUT;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;                    if (epollEvents &amp;amp; EPOLLOUT) events |= EVENT_OUTPUT;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;                    if (epollEvents &amp;amp; EPOLLERR) events |= EVENT_ERROR;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;                    if (epollEvents &amp;amp; EPOLLHUP) events |= EVENT_HANGUP;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;                    pushResponse(events, mRequests.valueAt(requestIndex));&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;                } else {&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;                    ALOGW(&amp;quot;Ignoring unexpected epoll events 0x%x on fd %d that is &amp;quot;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;                            &amp;quot;no longer registered.&amp;quot;, epollEvents, fd);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;                }&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;            }&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        }&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    Done: ;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        // --- &amp;#x5904;&amp;#x7406;Native Message&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        // Invoke pending message callbacks.&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        mNextMessageUptime = LLONG_MAX;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        while (mMessageEnvelopes.size() != 0) {&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;            ...&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        }&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        // Release lock.&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        mLock.unlock();&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        // --- &amp;#x5904;&amp;#x7406;&amp;#x5E26;&amp;#x6709;Callback&amp;#x7684;Response&amp;#x4E8B;&amp;#x4EF6;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        // Invoke all response callbacks.&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        for (size_t i = 0; i &amp;lt; mResponses.size(); i++) {&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;            ...&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        }&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        return result; // &amp;#x6D88;&amp;#x606F;&amp;#x5904;&amp;#x7406;&amp;#x6D41;&amp;#x7A0B;&amp;#x662F;&amp;#x5148;&amp;#x5904;&amp;#x7406;Native Message&amp;#xFF0C;&amp;#x518D;&amp;#x5904;&amp;#x7406;Native Request&amp;#xFF0C;&amp;#x6700;&amp;#x540E;&amp;#x5904;&amp;#x7406;Java    &lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;                       // Message&amp;#x3002;&amp;#x6240;&amp;#x4EE5;&amp;#x6709;&amp;#x65F6;&amp;#x5019;&amp;#x4E0A;&amp;#x5C42;&amp;#x6D88;&amp;#x606F;&amp;#x5F88;&amp;#x5C11;&amp;#xFF0C;&amp;#x4F46;&amp;#x76F8;&amp;#x5E94;&amp;#x65F6;&amp;#x95F4;&amp;#x5374;&amp;#x6BD4;&amp;#x8F83;&amp;#x957F;&amp;#x3002;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;}&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;2.&amp;#x6267;&amp;#x884C;IdleHandler&amp;#x6D88;&amp;#x606F;&amp;#x3002;&amp;#x5F53;&amp;#x6D88;&amp;#x606F;&amp;#x961F;&amp;#x5217;&amp;#x4E3A;&amp;#x7A7A;&amp;#x6216;&amp;#x8005;&amp;#x672A;&amp;#x5230;&amp;#x6D88;&amp;#x606F;&amp;#x6267;&amp;#x884C;&amp;#x65F6;&amp;#x95F4;&amp;#x65F6;&amp;#xFF0C;&amp;#x53EF;&amp;#x4EE5;&amp;#x6267;&amp;#x884C;IdleHandler&amp;#x6D88;&amp;#x606F;&amp;#xFF0C;&amp;#x7136;&amp;#x540E;&amp;#x963B;&amp;#x585E;&amp;#x7B49;&amp;#x5F85;&amp;#x6D88;&amp;#x606F;&amp;#x5230;&amp;#x8FBE;&amp;#x6267;&amp;#x884C;&amp;#x65F6;&amp;#x95F4;&amp;#x6216;&amp;#x65B0;&amp;#x6D88;&amp;#x606F;&amp;#x5230;&amp;#x8FBE;&amp;#x3002;&amp;#x901A;&amp;#x5E38;&amp;#x53EF;&amp;#x4EE5;&amp;#x7528;&amp;#x4E8E;&amp;#x8FD9;&amp;#x4E9B;&amp;#x573A;&amp;#x666F;:&amp;#x8981;&amp;#x6267;&amp;#x884C;&amp;#x4F46;&amp;#x662F;&amp;#x4E0D;&amp;#x77E5;&amp;#x6307;&amp;#x5B9A;&amp;#x591A;&amp;#x5C11;&amp;#x5EF6;&amp;#x8FDF;&amp;#x65F6;&amp;#x95F4;&amp;#x7684;&amp;#x64CD;&amp;#x4F5C;&amp;#xFF0C;&amp;#x597D;&amp;#x50CF;Activity&amp;#x7684;onStop()&amp;#x51FD;&amp;#x6570;&amp;#x5C31;&amp;#x662F;&amp;#x653E;&amp;#x5728;&amp;#x8FD9;&amp;#x91CC;&amp;#x9762;&amp;#x6267;&amp;#x884C;&amp;#x7684;&amp;#x3002;&amp;#x4F7F;&amp;#x7528;demo&amp;#xFF1A;&lt;br&gt;&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;12&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;Looper.myQueue().addIdleHandler(new MessageQueue.IdleHandler() {&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;            /**&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;             * &amp;#x8FD4;&amp;#x56DE;&amp;#x503C;boolean&amp;#x8868;&amp;#x793A;needKeep&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;             * true&amp;#xFF0C;&amp;#x8868;&amp;#x793A;&amp;#x8981;&amp;#x4FDD;&amp;#x7559;&amp;#x4FDD;&amp;#x7559;&amp;#xFF0C;&amp;#x4E0D;&amp;#x79FB;&amp;#x9664;&amp;#x8FD9;&amp;#x4E2A;idleHandler&amp;#xFF0C;&amp;#x53EF;&amp;#x4EE5;&amp;#x53CD;&amp;#x590D;&amp;#x6267;&amp;#x884C;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;             * false&amp;#x4EE3;&amp;#x8868;&amp;#x6267;&amp;#x884C;&amp;#x5B8C;&amp;#x6BD5;&amp;#x4E4B;&amp;#x540E;&amp;#x5C31;&amp;#x79FB;&amp;#x9664;&amp;#x8FD9;&amp;#x4E2A;idleHandler, &amp;#x4E5F;&amp;#x5C31;&amp;#x662F;&amp;#x53EA;&amp;#x6267;&amp;#x884C;&amp;#x4E00;&amp;#x6B21;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;             */&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;            @Override&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;            public boolean queueIdle() {&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;                // todo&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;                return false;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;            }&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        });&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;h2 id=&quot;handler&amp;#x5185;&amp;#x5B58;&amp;#x6CC4;&amp;#x9732;&amp;#x95EE;&amp;#x9898;&quot;&gt;&lt;a href=&quot;#Handler&amp;#x5185;&amp;#x5B58;&amp;#x6CC4;&amp;#x9732;&amp;#x95EE;&amp;#x9898;&quot; class=&quot;headerlink&quot; title=&quot;Handler&amp;#x5185;&amp;#x5B58;&amp;#x6CC4;&amp;#x9732;&amp;#x95EE;&amp;#x9898;&quot;&gt;&lt;/a&gt;Handler&amp;#x5185;&amp;#x5B58;&amp;#x6CC4;&amp;#x9732;&amp;#x95EE;&amp;#x9898;&lt;/h2&gt;&lt;p&gt;&amp;#x6211;&amp;#x4EEC;&amp;#x901A;&amp;#x5E38;&amp;#x5728;Activity&amp;#x4E2D;&amp;#x521B;&amp;#x5EFA;Handler&amp;#x65F6;&amp;#xFF0C;Lint&amp;#x4F1A;&amp;#x63D0;&amp;#x793A;AndroidLintHandlerLeak&amp;#xFF0C;&amp;#x8BE6;&amp;#x7EC6;&amp;#x4ECB;&amp;#x7ECD;&amp;#x5982;&amp;#x4E0B;:&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;Since this Handler is declared as an inner class, it may prevent the outer class from being garbage collected. If the Handler is using a Looper or MessageQueue for a thread other than the main thread, then there is no issue. If the Handler is using the Looper or MessageQueue of the main thread, you need to fix your Handler declaration, as follows: Declare the Handler as a static class; In the outer class, instantiate a WeakReference to the outer class and pass this object to your Handler when you instantiate the Handler; Make all references to members of the outer class using the WeakReference object.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;&amp;#x8FD9;&amp;#x662F;&amp;#x9759;&amp;#x6001;&amp;#x5185;&amp;#x90E8;&amp;#x7C7B; + &amp;#x5F31;&amp;#x5F15;&amp;#x7528;&amp;#x7684;&amp;#x65B9;&amp;#x6848;&amp;#xFF1B;&amp;#x8FD8;&amp;#x6709;&amp;#x4E00;&amp;#x79CD;&amp;#x65B9;&amp;#x6848;&amp;#x662F;:onDestroy&amp;#x4E2D;&amp;#x624B;&amp;#x52A8;&amp;#x6E05;&amp;#x9664;&amp;#x6389;&amp;#x6240;&amp;#x6709;Messages&lt;br&gt;&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;mHandler.removeCallbacksAndMessages(null);&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;h2 id=&quot;&amp;#x4E00;&amp;#x79CD;&amp;#x4F18;&amp;#x96C5;&amp;#x7684;&amp;#x89E3;&amp;#x51B3;&amp;#x65B9;&amp;#x6848;&quot;&gt;&lt;a href=&quot;#&amp;#x4E00;&amp;#x79CD;&amp;#x4F18;&amp;#x96C5;&amp;#x7684;&amp;#x89E3;&amp;#x51B3;&amp;#x65B9;&amp;#x6848;&quot; class=&quot;headerlink&quot; title=&quot;&amp;#x4E00;&amp;#x79CD;&amp;#x4F18;&amp;#x96C5;&amp;#x7684;&amp;#x89E3;&amp;#x51B3;&amp;#x65B9;&amp;#x6848;&quot;&gt;&lt;/a&gt;&amp;#x4E00;&amp;#x79CD;&amp;#x4F18;&amp;#x96C5;&amp;#x7684;&amp;#x89E3;&amp;#x51B3;&amp;#x65B9;&amp;#x6848;&lt;/h2&gt;&lt;p&gt;&amp;#x597D;&amp;#x50CF;&amp;#x4E0A;&amp;#x8FF0;&amp;#x4E24;&amp;#x79CD;&amp;#x65B9;&amp;#x6CD5;&amp;#x90FD;&amp;#x4E0D;&amp;#x591F;&amp;#x7B80;&amp;#x6D01;&amp;#xFF0C;&amp;#x4ECE;GitHub&amp;#x53D1;&amp;#x73B0;&amp;#x4E00;&amp;#x79CD;&amp;#x4F18;&amp;#x96C5;&amp;#x7684;&amp;#x89E3;&amp;#x51B3;&amp;#x65B9;&amp;#x6848;(&lt;a href=&quot;https://github.com/badoo/android-weak-handler&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;https://github.com/badoo/android-weak-handler&lt;/a&gt;)&amp;#xFF0C;&amp;#x5B9E;&amp;#x73B0;&amp;#x6BD4;&amp;#x8F83;&amp;#x5DE7;&amp;#x5999;&amp;#xFF1B;&amp;#x5176;&amp;#x539F;&amp;#x7406;&amp;#x5C31;&amp;#x662F;&amp;#x628A;Handler&amp;#x5C01;&amp;#x88C5;&amp;#x6210;WeakHandler&amp;#xFF0C;&amp;#x5176;&amp;#x6210;&amp;#x5458;&amp;#x53D8;&amp;#x91CF;&amp;#x6709;&amp;#x4E00;&amp;#x4E2A;&amp;#x9759;&amp;#x6001;&amp;#x5185;&amp;#x90E8;&amp;#x7C7B;ExecHandler&amp;#xFF0C;WeakHanlder&amp;#x7684;&amp;#x8C03;&amp;#x7528;&amp;#x5B9E;&amp;#x9645;&amp;#x4E0A;&amp;#x90FD;&amp;#x662F;&amp;#x8C03;&amp;#x7528;ExecHandler&amp;#x7684;&amp;#x65B9;&amp;#x6CD5;&amp;#xFF0C;&amp;#x5173;&amp;#x952E;&amp;#x662F;&amp;#x6240;&amp;#x6709;Callback&amp;#x90FD;&amp;#x662F;WeakReference&amp;#xFF0C;&amp;#x4F46;&amp;#x540C;&amp;#x65F6;&amp;#x5FC5;&amp;#x987B;&amp;#x505A;&amp;#x5230;keep callback in memory&amp;#xFF0C;&amp;#x5426;&amp;#x5219;GC&amp;#x65F6;&amp;#x4F1A;&amp;#x628A;&amp;#x5F31;&amp;#x5F15;&amp;#x7528;&amp;#x7684;&amp;#x56DE;&amp;#x8C03;&amp;#x7ED9;&amp;#x56DE;&amp;#x6536;&amp;#x4E86;&amp;#x3002;  &lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;sendXXXMessage:&lt;/li&gt;
&lt;/ul&gt;
&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;12&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;13&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;14&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;15&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;16&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;17&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;18&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;19&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;20&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;21&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;22&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;23&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;24&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;25&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;26&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;27&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;28&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;29&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;30&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;31&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;32&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;private final Handler.Callback mCallback; // hard reference to Callback. We need to keep callback in memory&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;private final ExecHandler mExec;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;public WeakHandler(@Nullable Handler.Callback callback) {&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    mCallback = callback; // Hard referencing body&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    mExec = new ExecHandler(new WeakReference&amp;lt;&amp;gt;(callback)); // Weak referencing inside ExecHandler&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;}&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;private static class ExecHandler extends Handler {&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    private final WeakReference&amp;lt;Handler.Callback&amp;gt; mCallback;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    ...&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    ExecHandler(WeakReference&amp;lt;Handler.Callback&amp;gt; callback) {&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        mCallback = callback;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    }&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    ....&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    @Override&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    public void handleMessage(@NonNull Message msg) {&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        if (mCallback == null) {&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;            return;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        }&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        final Handler.Callback callback = mCallback.get();&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        if (callback == null) { // Already disposed&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;            return;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        }&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        callback.handleMessage(msg);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    }&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;}&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;public final boolean sendMessage(Message msg) {&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        return mExec.sendMessage(msg);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;}&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;...&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;ul&gt;
&lt;li&gt;post(Runnable):&lt;/li&gt;
&lt;/ul&gt;
&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;12&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;13&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;14&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;15&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;16&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;17&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;18&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;19&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;20&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;21&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;22&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;23&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;24&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;25&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;26&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;27&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;28&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;29&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;30&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;31&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;32&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;33&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;34&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;35&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;36&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;37&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;38&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;39&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;40&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;41&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;42&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;43&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;44&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;45&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;46&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;47&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;48&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;49&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;50&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;51&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;52&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;53&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;54&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;55&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;56&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt; final ChainedRef mRunnables = new ChainedRef(mLock, null);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt; static class ChainedRef { // &amp;#x8FD9;&amp;#x4E2A;&amp;#x53CC;&amp;#x5411;&amp;#x94FE;&amp;#x8868;&amp;#x8BBE;&amp;#x8BA1;&amp;#x6BD4;&amp;#x8F83;&amp;#x5DE7;&amp;#x5999;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;         @Nullable&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;         ChainedRef next;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;         @Nullable&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;         ChainedRef prev;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;         @NonNull&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;         final Runnable runnable;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;         @NonNull&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;         final WeakRunnable wrapper;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;         ...&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;         public ChainedRef(@NonNull Lock lock, @NonNull Runnable r) {&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;             this.runnable = r;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;             this.lock = lock;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;             this.wrapper = new WeakRunnable(new WeakReference&amp;lt;&amp;gt;(r), new WeakReference&amp;lt;&amp;gt;(this));&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;         }&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;         ...&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt; }&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt; static class WeakRunnable implements Runnable {&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;     private final WeakReference&amp;lt;Runnable&amp;gt; mDelegate;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;     private final WeakReference&amp;lt;ChainedRef&amp;gt; mReference;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;     WeakRunnable(WeakReference&amp;lt;Runnable&amp;gt; delegate, WeakReference&amp;lt;ChainedRef&amp;gt; reference) {&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;         mDelegate = delegate;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;         mReference = reference;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;     }&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;     @Override&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;     public void run() {&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;         final Runnable delegate = mDelegate.get();&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;         final ChainedRef reference = mReference.get();&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;         if (reference != null) {&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;             reference.remove();&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;         }&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;         if (delegate != null) {&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;             delegate.run();&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;         }&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;     }&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt; }&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;private WeakRunnable wrapRunnable(@NonNull Runnable r) {&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;     //noinspection ConstantConditions&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;     if (r == null) {&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;         throw new NullPointerException(&amp;quot;Runnable can&amp;apos;t be null&amp;quot;);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;     }&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;     final ChainedRef hardRef = new ChainedRef(mLock, r);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;     mRunnables.insertAfter(hardRef);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;     return hardRef.wrapper;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt; }&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt; public final boolean post(@NonNull Runnable r) {&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;     return mExec.post(wrapRunnable(r));&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt; }&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt; ...&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;h2 id=&quot;&amp;#x53C2;&amp;#x8003;&quot;&gt;&lt;a href=&quot;#&amp;#x53C2;&amp;#x8003;&quot; class=&quot;headerlink&quot; title=&quot;&amp;#x53C2;&amp;#x8003;&quot;&gt;&lt;/a&gt;&amp;#x53C2;&amp;#x8003;&lt;/h2&gt;&lt;p&gt;[1] &lt;a href=&quot;http://developer.android.com/intl/zh-cn/reference/android/os/Handler.html&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;http://developer.android.com/intl/zh-cn/reference/android/os/Handler.html&lt;/a&gt;&lt;br&gt;[2] &lt;a href=&quot;http://www.69900.com.cn/a34140974/article/details/50638089&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;http://www.69900.com.cn/a34140974/article/details/50638089&lt;/a&gt;&lt;br&gt;[3] &lt;a href=&quot;http://gityuan.com/2015/12/27/handler-message-native/&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;http://gityuan.com/2015/12/27/handler-message-native/&lt;/a&gt;&lt;br&gt;[4] &lt;a href=&quot;https://github.com/badoo/android-weak-handler&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;https://github.com/badoo/android-weak-handler&lt;/a&gt;&lt;/p&gt;
</content>
    
    <summary type="html">
    
      &lt;!-- toc --&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;#总体介绍&quot;&gt;总体介绍&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;#深入分析&quot;&gt;深入分析&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;#handler内存泄露问题&quot;&gt;Handler内存泄露问题&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;#一种优雅的解决方案&quot;&gt;一种优雅的解决方案&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;#参考&quot;&gt;参考&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;!-- tocstop --&gt;
&lt;p&gt;根据Google官方，Handler机制有两个主要作用:1.在未来某个时刻调度消息执行;2.在其他线程中执行相关操作。实际上，我们可以看成是framework层提供的一种线程之间通信方式。通常，我们与UI线程交互时会使用Handler实现,本文主要讨论其源码实现以及相关问题。&lt;/p&gt;
&lt;h2 id=&quot;总体介绍&quot;&gt;&lt;a href=&quot;#总体介绍&quot; class=&quot;headerlink&quot; title=&quot;总体介绍&quot;&gt;&lt;/a&gt;总体介绍&lt;/h2&gt;&lt;ul&gt;
&lt;li&gt;事件驱动模型&lt;/li&gt;
&lt;li&gt;Looper,Message和Hanlder关系图&lt;/li&gt;
&lt;/ul&gt;
&lt;img src=&quot;/2016/04/17/handler-research/handler_outline.png&quot;&gt;
&lt;ul&gt;
&lt;li&gt;Looper类&lt;br&gt;用于建立消息循环并管理消息队列(MessageQueue),不停的从消息队列中抽取消息,分发执行。每个线程只能有一个Looper对象,并且Looper构造方法是私有的,只是创建一个MessageQueue对象并持有。根据Google官方文档,一个Thread实现Looper机制如下:
    
    </summary>
    
      <category term="Andorid学习笔记" scheme="http://yoursite.com/categories/Andorid%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/"/>
    
    
      <category term="Android" scheme="http://yoursite.com/tags/Android/"/>
    
  </entry>
  
  <entry>
    <title>深入分析Android EventBus组件</title>
    <link href="http://yoursite.com/2016/04/17/eventbus/"/>
    <id>http://yoursite.com/2016/04/17/eventbus/</id>
    <published>2016-04-17T08:42:35.000Z</published>
    <updated>2016-04-17T09:08:14.000Z</updated>
    
    <content type="html">&lt;!-- toc --&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;#simple-demo&quot;&gt;Simple Demo&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;#&amp;#x4E3A;&amp;#x4EC0;&amp;#x4E48;&amp;#x4F7F;&amp;#x7528;&quot;&gt;&amp;#x4E3A;&amp;#x4EC0;&amp;#x4E48;&amp;#x4F7F;&amp;#x7528;&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;#&amp;#x539F;&amp;#x7406;&amp;#x5206;&amp;#x6790;&quot;&gt;&amp;#x539F;&amp;#x7406;&amp;#x5206;&amp;#x6790;&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;#&amp;#x5173;&amp;#x4E8E;eventbus&amp;#x601D;&amp;#x8003;&quot;&gt;&amp;#x5173;&amp;#x4E8E;EventBus&amp;#x601D;&amp;#x8003;&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;#&amp;#x53C2;&amp;#x8003;&quot;&gt;&amp;#x53C2;&amp;#x8003;&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;!-- tocstop --&gt;
&lt;p&gt;&amp;#x8FD9;&amp;#x91CC;&amp;#x8981;&amp;#x8BB2;&amp;#x7684;EventBus&amp;#x7279;&amp;#x6307;greenrobot&amp;#x5F00;&amp;#x6E90;&amp;#x7684;&amp;#x9879;&amp;#x76EE;(&lt;a href=&quot;https://github.com/greenrobot/EventBus&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;https://github.com/greenrobot/EventBus&lt;/a&gt;)&amp;#xFF0C;&amp;#x662F;&amp;#x4E00;&amp;#x4E2A;Android&amp;#x4E8B;&amp;#x4EF6;&amp;#x53D1;&amp;#x5E03;/&amp;#x8BA2;&amp;#x9605;&amp;#x6846;&amp;#x67B6;&amp;#xFF0C;&amp;#x901A;&amp;#x8FC7;&amp;#x89E3;&amp;#x8026;&amp;#x53D1;&amp;#x5E03;&amp;#x8005;&amp;#x548C;&amp;#x8BA2;&amp;#x9605;&amp;#x8005;&amp;#x6765;&amp;#x7B80;&amp;#x5316;Android&amp;#x4E8B;&amp;#x4EF6;&amp;#x4F20;&amp;#x9012;&amp;#x3002;&amp;#x4E8B;&amp;#x4EF6;&amp;#x4F20;&amp;#x9012;&amp;#x65E2;&amp;#x53EF;&amp;#x4EE5;&amp;#x7528;&amp;#x4E8E;Android&amp;#x56DB;&amp;#x5927;&amp;#x7EC4;&amp;#x4EF6;&amp;#x95F4;&amp;#x901A;&amp;#x4FE1;&amp;#xFF0C;&amp;#x4E5F;&amp;#x53EF;&amp;#x4EE5;&amp;#x5E94;&amp;#x7528;&amp;#x4E8E;&amp;#x5F02;&amp;#x6B65;&amp;#x7EBF;&amp;#x7A0B;&amp;#x548C;&amp;#x4E3B;&amp;#x7EBF;&amp;#x7A0B;&amp;#x95F4;&amp;#x901A;&amp;#x4FE1;&amp;#x7B49;&amp;#x3002;&lt;/p&gt;
&lt;h2 id=&quot;simple-demo&quot;&gt;&lt;a href=&quot;#Simple-Demo&quot; class=&quot;headerlink&quot; title=&quot;Simple Demo&quot;&gt;&lt;/a&gt;Simple Demo&lt;/h2&gt;&lt;p&gt;1.&lt;strong&gt; &amp;#x5B9A;&amp;#x4E49;&amp;#x4E8B;&amp;#x4EF6; &lt;/strong&gt;&lt;br&gt;&lt;figure class=&quot;highlight java&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;9&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;class&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;DemoEvent&lt;/span&gt; &lt;/span&gt;{&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;public&lt;/span&gt; String name;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;int&lt;/span&gt; grade;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;DemoEvent&lt;/span&gt;&lt;span class=&quot;params&quot;&gt;(String name, &lt;span class=&quot;keyword&quot;&gt;int&lt;/span&gt; grade)&lt;/span&gt; &lt;/span&gt;{&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &lt;span class=&quot;keyword&quot;&gt;this&lt;/span&gt;.name = name;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &lt;span class=&quot;keyword&quot;&gt;this&lt;/span&gt;.grade = grade;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    }&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;}&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;a id=&quot;more&quot;&gt;&lt;/a&gt;
&lt;p&gt;2.&lt;strong&gt; &amp;#x8BA2;&amp;#x9605;&amp;#x8005; &lt;/strong&gt;&lt;br&gt;&lt;figure class=&quot;highlight java&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;12&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;13&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;14&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;15&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;16&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;17&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;18&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;19&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;20&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;class&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;EventBusDemoActivity&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;extends&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;AppCompatActivity&lt;/span&gt; &lt;/span&gt;{&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    ...&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;comment&quot;&gt;// register&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    EventBus.getDefault().register(&lt;span class=&quot;keyword&quot;&gt;this&lt;/span&gt;);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;comment&quot;&gt;// proceed event&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;meta&quot;&gt;@Subscribe&lt;/span&gt;(threadMode = ThreadMode.MAIN, priority = &lt;span class=&quot;number&quot;&gt;1&lt;/span&gt;, sticky = &lt;span class=&quot;keyword&quot;&gt;true&lt;/span&gt;)&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;onDemoCallBack&lt;/span&gt;&lt;span class=&quot;params&quot;&gt;(DemoEvent event)&lt;/span&gt; &lt;/span&gt;{&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &lt;span class=&quot;comment&quot;&gt;// do something...&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    }&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;meta&quot;&gt;@Subscribe&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;onDemoCallBackNew&lt;/span&gt;&lt;span class=&quot;params&quot;&gt;(DemoEvent event)&lt;/span&gt; &lt;/span&gt;{&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &lt;span class=&quot;comment&quot;&gt;// do something...&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    }&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;comment&quot;&gt;// unregister&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    EventBus.getDefault().unregister(&lt;span class=&quot;keyword&quot;&gt;this&lt;/span&gt;);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    ...&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;}&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;3.&lt;strong&gt; &amp;#x53D1;&amp;#x5E03;&amp;#x8005; &lt;/strong&gt;&lt;br&gt;&lt;figure class=&quot;highlight java&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;EventBus.getDefault().post(&lt;span class=&quot;keyword&quot;&gt;new&lt;/span&gt; DemoEvent(&lt;span class=&quot;string&quot;&gt;&amp;quot;Hello World&amp;quot;&lt;/span&gt;, &lt;span class=&quot;number&quot;&gt;10&lt;/span&gt;));&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;4.&lt;strong&gt; Subscriber Index &lt;/strong&gt;  &lt;/p&gt;
&lt;p&gt;EventBus3.0&amp;#x4F7F;&amp;#x7528;&amp;#x6CE8;&amp;#x89E3;&amp;#x6807;&amp;#x660E;&amp;#x8BA2;&amp;#x9605;&amp;#x8005;&amp;#x7684;&amp;#x56DE;&amp;#x8C03;&amp;#x65B9;&amp;#x6CD5;&amp;#xFF0C;&amp;#x5982;&amp;#x679C;&amp;#x8FD0;&amp;#x884C;&amp;#x65F6;&amp;#x4F7F;&amp;#x7528;&amp;#x53CD;&amp;#x5C04;&amp;#x89E3;&amp;#x6790;&amp;#x6CE8;&amp;#x89E3;&amp;#x4F1A;&amp;#x5E26;&amp;#x6765;&amp;#x6548;&amp;#x7387;&amp;#x95EE;&amp;#x9898;&amp;#xFF0C;&amp;#x4E8E;&amp;#x662F;EventBus3.0&amp;#x63D0;&amp;#x4F9B;&amp;#x4E86;&amp;#x7F16;&amp;#x8BD1;&amp;#x65F6;&amp;#x5C31;&amp;#x628A;&amp;#x5305;&amp;#x542B;&amp;#x8BA2;&amp;#x9605;&amp;#x8005;&amp;#x7684;&amp;#x56DE;&amp;#x8C03;&amp;#x65B9;&amp;#x6CD5;&amp;#x7B49;&amp;#x76F8;&amp;#x5173;&amp;#x4FE1;&amp;#x606F;&amp;#x7C7B;&amp;#x6784;&amp;#x5EFA;&amp;#x51FA;&amp;#x6765;&amp;#xFF0C;&amp;#x63D0;&amp;#x9AD8;&amp;#x8FD0;&amp;#x884C;&amp;#x6548;&amp;#x7387;&amp;#xFF0C;&amp;#x6240;&amp;#x4EE5;&amp;#x53EB;Subscriber Index&amp;#xFF0C;&amp;#x4F46;&amp;#x662F;&amp;#x8981;&amp;#x6C42;subscriber&amp;#x548C;event&amp;#x7684;class&amp;#x90FD;&amp;#x662F;public&amp;#x3002;&amp;#x5F53;&amp;#x7136;&amp;#xFF0C;EventBus&amp;#x9ED8;&amp;#x8BA4;&amp;#x5982;&amp;#x679C;Subscriber Index&amp;#x6CA1;&amp;#x6709;&amp;#x627E;&amp;#x5230;&amp;#x65F6;&amp;#xFF0C;&amp;#x5219;&amp;#x4F1A;&amp;#x518D;&amp;#x6B21;&amp;#x4F7F;&amp;#x7528;&amp;#x53CD;&amp;#x5C04;&amp;#x3002;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;&amp;#x6784;&amp;#x5EFA;&amp;#x811A;&amp;#x672C;&amp;#x4FEE;&amp;#x6539;&lt;br&gt;&amp;#x4E3A;&amp;#x4E86;&amp;#x5728;android studio&amp;#x5B9E;&amp;#x73B0;annotation processors&amp;#xFF0C;&amp;#x9700;&amp;#x8981;android-apt plugins(&lt;a href=&quot;https://bitbucket.org/hvisser/android-apt&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;https://bitbucket.org/hvisser/android-apt&lt;/a&gt;)&amp;#xFF0C;&amp;#x6700;&amp;#x7EC8;gradle&amp;#x811A;&amp;#x672C;&amp;#x5982;&amp;#x4E0B;&amp;#xFF1A;&lt;/p&gt;
&lt;figure class=&quot;highlight gradle&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;12&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;13&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;14&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;15&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;buildscript&lt;/span&gt; {&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;dependencies&lt;/span&gt; {&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &lt;span class=&quot;keyword&quot;&gt;classpath&lt;/span&gt; &lt;span class=&quot;string&quot;&gt;&amp;apos;com.neenbedankt.gradle.plugins:android-apt:1.8&amp;apos;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    }&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;}&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;apply plugin: &lt;span class=&quot;string&quot;&gt;&amp;apos;com.neenbedankt.android-apt&amp;apos;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;dependencies&lt;/span&gt; {&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;compile&lt;/span&gt; &lt;span class=&quot;string&quot;&gt;&amp;apos;org.greenrobot:eventbus:3.0.0&amp;apos;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    apt &lt;span class=&quot;string&quot;&gt;&amp;apos;org.greenrobot:eventbus-annotation-processor:3.0.0&amp;apos;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;}&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;apt {&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    arguments {&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        eventBusIndex &lt;span class=&quot;string&quot;&gt;&amp;quot;com.example.myapp.MyEventBusIndex&amp;quot;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    }&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;}&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;&amp;#x8BBE;&amp;#x7F6E;EventBus&lt;/p&gt;
&lt;figure class=&quot;highlight java&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;EventBus eventBus = EventBus.builder().addIndex(&lt;span class=&quot;keyword&quot;&gt;new&lt;/span&gt; MyEventBusIndex()).build();&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#x6216;&amp;#x8005;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;EventBus.builder().addIndex(&lt;span class=&quot;keyword&quot;&gt;new&lt;/span&gt; MyEventBusIndex()).installDefaultEventBus();&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;// Now the default instance uses the given index. Use it like this:&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;EventBus eventBus = EventBus.getDefault();&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&quot;&amp;#x4E3A;&amp;#x4EC0;&amp;#x4E48;&amp;#x4F7F;&amp;#x7528;&quot;&gt;&lt;a href=&quot;#&amp;#x4E3A;&amp;#x4EC0;&amp;#x4E48;&amp;#x4F7F;&amp;#x7528;&quot; class=&quot;headerlink&quot; title=&quot;&amp;#x4E3A;&amp;#x4EC0;&amp;#x4E48;&amp;#x4F7F;&amp;#x7528;&quot;&gt;&lt;/a&gt;&amp;#x4E3A;&amp;#x4EC0;&amp;#x4E48;&amp;#x4F7F;&amp;#x7528;&lt;/h2&gt;&lt;ul&gt;
&lt;li&gt;vs. &amp;#x89C2;&amp;#x5BDF;&amp;#x8005;&amp;#x6A21;&amp;#x5F0F;&lt;br&gt;&amp;#x89C2;&amp;#x5BDF;&amp;#x8005;&amp;#x6A21;&amp;#x5F0F;&amp;#x5F88;&amp;#x5927;&amp;#x7684;&amp;#x95EE;&amp;#x9898;&amp;#x662F;&amp;#x5B9E;&amp;#x73B0;observable&amp;#x7684;&amp;#x89C2;&amp;#x5BDF;&amp;#x8005;&amp;#x8981;&amp;#x628A;&amp;#x81EA;&amp;#x8EAB;&amp;#x6CE8;&amp;#x518C;&amp;#x5230;&amp;#x88AB;&amp;#x89C2;&amp;#x5BDF;&amp;#x8005;&amp;#x7C7B;&amp;#x4E2D;&amp;#xFF0C;&amp;#x8FD9;&amp;#x610F;&amp;#x5473;&amp;#x7740;&amp;#x4E24;&amp;#x8005;&amp;#x4E4B;&amp;#x95F4;&amp;#x5C5E;&amp;#x4E8E;&amp;#x5F3A;&amp;#x5173;&amp;#x8054;&amp;#x5173;&amp;#x7CFB;&amp;#xFF0C;&amp;#x4F7F;&amp;#x5F97;&amp;#x4EE3;&amp;#x7801;&amp;#x8026;&amp;#x5408;&amp;#x6027;&amp;#x592A;&amp;#x9AD8;&amp;#xFF1B;&amp;#x968F;&amp;#x7740;&amp;#x5E94;&amp;#x7528;&amp;#x529F;&amp;#x80FD;&amp;#x589E;&amp;#x52A0;&amp;#xFF0C;&amp;#x9700;&amp;#x8981;&amp;#x76D1;&amp;#x542C;&amp;#x7684;&amp;#x4E8B;&amp;#x4EF6;&amp;#x8D8A;&amp;#x6765;&amp;#x8D8A;&amp;#x591A;&amp;#xFF0C;&amp;#x800C;&amp;#x8D8A;&amp;#x6765;&amp;#x8D8A;&amp;#x591A;&amp;#x7684;&amp;#x63A7;&amp;#x4EF6;&amp;#x9700;&amp;#x8981;&amp;#x76D1;&amp;#x542C;&amp;#x4E0D;&amp;#x540C;&amp;#x7684;&amp;#x4E8B;&amp;#x4EF6;&amp;#xFF0C;&amp;#x5219;&amp;#x5BFC;&amp;#x81F4;&amp;#x8D8A;&amp;#x6765;&amp;#x8D8A;&amp;#x591A;&amp;#x7684;&amp;#x63A7;&amp;#x4EF6;&amp;#x9700;&amp;#x8981;&amp;#x6CE8;&amp;#x518C;&amp;#x5230;&amp;#x5404;&amp;#x79CD;&amp;#x4E8B;&amp;#x4EF6;&amp;#x7BA1;&amp;#x7406;&amp;#x5668;&amp;#xFF0C;&amp;#x6CE8;&amp;#x518C;&amp;#x548C;&amp;#x53D6;&amp;#x6D88;&amp;#x8FD9;&amp;#x4E9B;&amp;#x4E8B;&amp;#x4EF6;&amp;#x4F1A;&amp;#x53D8;&amp;#x5F97;&amp;#x8D8A;&amp;#x6765;&amp;#x8D8A;&amp;#x96BE;&amp;#x4EE5;&amp;#x7BA1;&amp;#x7406;&amp;#xFF0C;&amp;#x6D4B;&amp;#x8BD5;&amp;#x8D8A;&amp;#x6765;&amp;#x8D8A;&amp;#x82E6;&amp;#x96BE;&amp;#xFF0C;&amp;#x5BB9;&amp;#x6613;&amp;#x5F15;&amp;#x5165;&amp;#x5404;&amp;#x79CD;&amp;#x5947;&amp;#x602A;&amp;#x7684;Bug&amp;#x3002;&lt;/li&gt;
&lt;li&gt;vs. LocalBroadcastManager&lt;br&gt;&amp;#x672C;&amp;#x5730;&amp;#x5E7F;&amp;#x64AD;&amp;#x7684;API&amp;#x4E0D;&amp;#x5982;EventBus&amp;#x7B80;&amp;#x6D01;&amp;#xFF0C;&amp;#x6B64;&amp;#x5916;&amp;#xFF0C;Intent&amp;#x8981;&amp;#x6CE8;&amp;#x610F;&amp;#x4FDD;&amp;#x6301;extra&amp;#x7C7B;&amp;#x578B;&amp;#x4E00;&amp;#x81F4;&amp;#x6027;&amp;#xFF0C;&amp;#x56E0;&amp;#x4E3A;&amp;#x7F16;&amp;#x8BD1;&amp;#x671F;&amp;#x95F4;&amp;#x5E76;&amp;#x4E0D;&amp;#x80FD;&amp;#x68C0;&amp;#x67E5;&amp;#x51FA;&amp;#x53D1;&amp;#x9001;&amp;#x7684;extra&amp;#x548C;&amp;#x6536;&amp;#x5230;&amp;#x7C7B;&amp;#x578B;&amp;#x7684;&amp;#x4E00;&amp;#x81F4;&amp;#x6027;&amp;#xFF0C;&amp;#x5BB9;&amp;#x6613;&amp;#x5BFC;&amp;#x81F4;&amp;#x7684;&amp;#x9519;&amp;#x8BEF;&amp;#x662F;&amp;#x56E2;&amp;#x961F;&amp;#x4E2D;&amp;#x5176;&amp;#x4ED6;&amp;#x4EBA;&amp;#x6539;&amp;#x53D8;&amp;#x4E86;&amp;#x4F20;&amp;#x9012;&amp;#x6570;&amp;#x636E;&amp;#xFF0C;&amp;#x4F46;&amp;#x5FD8;&amp;#x8BB0;&amp;#x5BF9;&amp;#x5168;&amp;#x90E8;&amp;#x7684;receiver&amp;#x8FDB;&amp;#x884C;&amp;#x66F4;&amp;#x65B0;&amp;#xFF0C;&amp;#x800C;&amp;#x4E14;&amp;#x53EA;&amp;#x6709;&amp;#x5728;&amp;#x8FD0;&amp;#x884C;&amp;#x65F6;&amp;#x624D;&amp;#x66B4;&amp;#x9732;&amp;#x95EE;&amp;#x9898;&amp;#x3002;&lt;/li&gt;
&lt;li&gt;EventBus&amp;#x4F18;&amp;#x70B9;  &lt;ul&gt;
&lt;li&gt;&amp;#x7B80;&amp;#x5316;&amp;#x7EC4;&amp;#x4EF6;&amp;#x95F4;&amp;#x901A;&amp;#x4FE1;&amp;#xFF0C;&amp;#x89E3;&amp;#x8026;&amp;#x5408;&lt;/li&gt;
&lt;li&gt;&amp;#x7B80;&amp;#x5316;&amp;#x4EE3;&amp;#x7801;&amp;#xFF0C;&amp;#x589E;&amp;#x5F3A;&amp;#x4E86;&amp;#x7C7B;&amp;#x578B;&amp;#x5B89;&amp;#x5168;&lt;/li&gt;
&lt;li&gt;fast/tiny( &amp;lt; 50k)&lt;/li&gt;
&lt;li&gt;&amp;#x76F8;&amp;#x6BD4;Otto&amp;#x63D0;&amp;#x4F9B;&amp;#x4E86;&amp;#x591A;&amp;#x79CD;&amp;#x4E8B;&amp;#x4EF6;&amp;#x54CD;&amp;#x5E94;&amp;#x7684;&amp;#x7EBF;&amp;#x7A0B;&amp;#x6A21;&amp;#x5F0F;&amp;#x3001;&amp;#x8BA2;&amp;#x9605;&amp;#x8005;&amp;#x4F18;&amp;#x5148;&amp;#x7EA7;&amp;#x548C;sticky event&amp;#x7B49;&amp;#x4E00;&amp;#x4E9B;&amp;#x9AD8;&amp;#x7EA7;&amp;#x7279;&amp;#x6027;&lt;/li&gt;
&lt;li&gt;&amp;#x5927;&amp;#x7EA6;100,000,000+ app&amp;#x4F7F;&amp;#x7528;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&quot;&amp;#x539F;&amp;#x7406;&amp;#x5206;&amp;#x6790;&quot;&gt;&lt;a href=&quot;#&amp;#x539F;&amp;#x7406;&amp;#x5206;&amp;#x6790;&quot; class=&quot;headerlink&quot; title=&quot;&amp;#x539F;&amp;#x7406;&amp;#x5206;&amp;#x6790;&quot;&gt;&lt;/a&gt;&amp;#x539F;&amp;#x7406;&amp;#x5206;&amp;#x6790;&lt;/h2&gt;&lt;p&gt;&amp;#x56E0;&amp;#x4E3A;EventBus2.4&amp;#x7248;&amp;#x6E90;&amp;#x7801;&amp;#x5DF2;&amp;#x7ECF;&amp;#x6709;&amp;#x597D;&amp;#x591A;&amp;#x4EBA;&amp;#x8FDB;&amp;#x884C;&amp;#x5206;&amp;#x6790;&amp;#xFF0C;&amp;#x800C;3.0&amp;#x7248;&amp;#x672C;&amp;#x6539;&amp;#x53D8;&amp;#x5E76;&amp;#x4E0D;&amp;#x5927;&amp;#xFF0C;&amp;#x4E3B;&amp;#x8981;&amp;#x662F;&amp;#x6807;&amp;#x8BC6;&amp;#x8BA2;&amp;#x9605;&amp;#x8005;&amp;#x7684;&amp;#x56DE;&amp;#x8C03;&amp;#x51FD;&amp;#x6570;&amp;#x7684;&amp;#x65B9;&amp;#x5F0F;&amp;#x4E0D;&amp;#x540C;&amp;#xFF0C;&amp;#x6211;&amp;#x4EC5;&amp;#x4ECE;&amp;#x6574;&amp;#x4F53;&amp;#x6D41;&amp;#x7A0B;&amp;#x65B9;&amp;#x9762;&amp;#x8FDB;&amp;#x884C;&amp;#x68B3;&amp;#x7406;&amp;#x4E00;&amp;#x4E0B;&amp;#xFF0C;&amp;#x5177;&amp;#x4F53;&amp;#x5B9E;&amp;#x73B0;&amp;#x89C1;&amp;#x6E90;&amp;#x7801;&amp;#x3002;  &lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;&lt;strong&gt;2.4 v.s. 3.0&lt;/strong&gt;  &lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;2.4&lt;br&gt;2.4&amp;#x7248;&amp;#x672C;&amp;#x9075;&amp;#x5FAA;&amp;#x201C;&amp;#x7EA6;&amp;#x5B9A;&amp;#x4F18;&amp;#x4E8E;&amp;#x914D;&amp;#x7F6E;&amp;#x201D;&amp;#x7684;&amp;#x539F;&amp;#x5219;&amp;#xFF0C;&amp;#x4E8B;&amp;#x4EF6;&amp;#x5904;&amp;#x7406;&amp;#x65B9;&amp;#x6CD5;&amp;#x547D;&amp;#x540D;&amp;#x5FC5;&amp;#x987B;&amp;#x4EE5;&amp;#x201D;onEvent&amp;#x201D;&amp;#x5F00;&amp;#x59CB;&amp;#xFF0C;&amp;#x540E;&amp;#x9762;&amp;#x53EF;&amp;#x4EE5;&amp;#x8DDF;&amp;#x56DB;&amp;#x79CD;&amp;#x8868;&amp;#x793A;&amp;#x4EE5;&amp;#x4F55;&amp;#x79CD;&amp;#x65B9;&amp;#x5F0F;&amp;#x53BB;&amp;#x901A;&amp;#x77E5;&amp;#x8BA2;&amp;#x9605;&amp;#x8005;&amp;#x7684;&amp;#x540D;&amp;#x79F0;&amp;#xFF0C;&amp;#x5373;&amp;#x7EA6;&amp;#x5B9A;&amp;#x4E8B;&amp;#x4EF6;&amp;#x5904;&amp;#x7406;&amp;#x65B9;&amp;#x6CD5;&amp;#x540D;&amp;#x6709;&amp;#x4EE5;&amp;#x4E0B;&amp;#x56DB;&amp;#x79CD;&amp;#xFF1A;   &lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;onEvent : &amp;#x9ED8;&amp;#x8BA4;&amp;#x5728;post event&amp;#x7EBF;&amp;#x7A0B;&amp;#x4E2D;&amp;#x56DE;&amp;#x8C03;&lt;/li&gt;
&lt;li&gt;onEventMainThread : UI&amp;#x7EBF;&amp;#x7A0B;&amp;#x56DE;&amp;#x8C03;&lt;/li&gt;
&lt;li&gt;onEventBackgroundThread : &amp;#x9ED8;&amp;#x8BA4;&amp;#x60C5;&amp;#x51B5;&amp;#xFF0C;&amp;#x6BCF;&amp;#x4E2A;EventBus&amp;#x5B9E;&amp;#x4F8B;&amp;#x6709;&amp;#x4E00;&amp;#x4E2A;&amp;#x5355;&amp;#x72EC;&amp;#x7684;&amp;#x540E;&amp;#x53F0;&amp;#x7EBF;&amp;#x7A0B;&amp;#x53BB;&amp;#x6267;&amp;#x884C;&amp;#x56DE;&amp;#x8C03; &lt;/li&gt;
&lt;li&gt;onEventAsync : &amp;#x9ED8;&amp;#x8BA4;&amp;#x60C5;&amp;#x51B5;&amp;#xFF0C;&amp;#x6BCF;&amp;#x4E2A;EventBus&amp;#x5B9E;&amp;#x4F8B;&amp;#x6709;&amp;#x4E00;&amp;#x4E2A;newCachedThreadPool&amp;#x7684;&amp;#x7EBF;&amp;#x7A0B;&amp;#x6C60;&amp;#x53BB;&amp;#x6267;&amp;#x884C;Aysnc&amp;#xFF1B;&amp;#x4E0A;&amp;#x8FF0;BackgroundThread&amp;#x4E5F;&amp;#x5C5E;&amp;#x4E8E;&amp;#x8BE5;&amp;#x7EBF;&amp;#x7A0B;&amp;#x6C60;&amp;#x7BA1;&amp;#x7406;  &lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;3.0&lt;br&gt;3.0&amp;#x7248;&amp;#x672C;&amp;#x4F7F;&amp;#x7528;&amp;#x6CE8;&amp;#x89E3;&amp;#x8FDB;&amp;#x884C;&amp;#x6807;&amp;#x8BC6;&amp;#xFF0C;&amp;#x5177;&amp;#x4F53;&amp;#x5B9A;&amp;#x4E49;&amp;#x5982;&amp;#x4E0B;:&lt;/p&gt;
&lt;figure class=&quot;highlight java&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;12&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;13&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;14&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;15&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;16&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;17&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;18&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;meta&quot;&gt;@Documented&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;meta&quot;&gt;@Retention&lt;/span&gt;(RetentionPolicy.RUNTIME)&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;meta&quot;&gt;@Target&lt;/span&gt;({ElementType.METHOD})&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;meta&quot;&gt;@interface&lt;/span&gt; Subscribe {&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;function&quot;&gt;ThreadMode &lt;span class=&quot;title&quot;&gt;threadMode&lt;/span&gt;&lt;span class=&quot;params&quot;&gt;()&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;default&lt;/span&gt; ThreadMode.POSTING&lt;/span&gt;;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;comment&quot;&gt;/**&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;     * If true, delivers the most recent sticky event (posted with&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;     * {&lt;span class=&quot;doctag&quot;&gt;@link&lt;/span&gt; EventBus#postSticky(Object)}) to this subscriber (if event available).&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;     */&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;boolean&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;sticky&lt;/span&gt;&lt;span class=&quot;params&quot;&gt;()&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;default&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;false&lt;/span&gt;&lt;/span&gt;;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;comment&quot;&gt;/** Subscriber priority to influence the order of event delivery.&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;     * Within the same delivery thread ({&lt;span class=&quot;doctag&quot;&gt;@link&lt;/span&gt; ThreadMode}), higher priority subscribers will receive events before&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;     * others with a lower priority. The default priority is 0. Note: the priority does *NOT* affect the order of&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;     * delivery among subscribers with different {&lt;span class=&quot;doctag&quot;&gt;@link&lt;/span&gt; ThreadMode}s! */&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;int&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;priority&lt;/span&gt;&lt;span class=&quot;params&quot;&gt;()&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;default&lt;/span&gt; 0&lt;/span&gt;;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;}&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;EventBus&amp;#x7C7B;&amp;#x63D0;&amp;#x4F9B;&amp;#x9ED8;&amp;#x8BA4;&amp;#x7684;&amp;#x5355;&amp;#x4F8B;&amp;#x5B9E;&amp;#x73B0;&amp;#xFF0C;&amp;#x5E76;&amp;#x53EF;&amp;#x4EE5;&amp;#x901A;&amp;#x8FC7;Builder&amp;#x6A21;&amp;#x5F0F;&amp;#x5B9A;&amp;#x5236;EventBus&amp;#x5B9E;&amp;#x4F8B;&amp;#x3002;&amp;#x901A;&amp;#x8FC7;Demo&amp;#x6211;&amp;#x4EEC;&amp;#x77E5;&amp;#x9053;&amp;#x5173;&amp;#x952E;&amp;#x8FC7;&amp;#x7A0B;&amp;#x5C31;&amp;#x662F;register&amp;#x548C;post&amp;#xFF0C;&amp;#x6211;&amp;#x4EEC;&amp;#x5206;&amp;#x522B;&amp;#x4ECE;&amp;#x6E90;&amp;#x7801;&amp;#x7EA7;&amp;#x522B;&amp;#x770B;&amp;#x4E00;&amp;#x4E0B;&amp;#x5B9E;&amp;#x73B0;&amp;#x3002;  &lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;register&lt;/strong&gt;   &lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&amp;#x8BA2;&amp;#x9605;&amp;#x8005;register&amp;#x8C03;&amp;#x7528;&amp;#x65B9;&amp;#x6CD5;&amp;#x539F;&amp;#x578B;&amp;#x5982;&amp;#x4E0B;&lt;br&gt;&lt;figure class=&quot;highlight java&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;register&lt;/span&gt;&lt;span class=&quot;params&quot;&gt;(Object subscriber)&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;&amp;#x8BE5;&amp;#x51FD;&amp;#x6570;&amp;#x9996;&amp;#x5148;&amp;#x6839;&amp;#x636E;&amp;#x8BA2;&amp;#x9605;&amp;#x8005;&amp;#x7C7B;&amp;#x7684;&amp;#x4FE1;&amp;#x606F;&amp;#xFF0C;&amp;#x5F97;&amp;#x5230;&amp;#x5305;&amp;#x542B;SubscriberMethod&amp;#x5BF9;&amp;#x8C61;&amp;#x7684;&amp;#x961F;&amp;#x5217;&amp;#xFF0C;&amp;#x5176;&amp;#x8FC7;&amp;#x7A0B;&amp;#x5982;&amp;#x4E0B;&amp;#x56FE;&amp;#x6240;&amp;#x793A;&amp;#xFF1A;&lt;/p&gt;
&lt;img src=&quot;/2016/04/17/eventbus/eventbus_0.png&quot;&gt;
&lt;p&gt;&amp;#x9488;&amp;#x5BF9;&amp;#x4E0A;&amp;#x8FF0;&amp;#x961F;&amp;#x5217;&amp;#x4E2D;&amp;#x6BCF;&amp;#x4E2A;SubscriberMethod&amp;#x5BF9;&amp;#x8C61;&amp;#xFF0C;&amp;#x8C03;&amp;#x7528;&amp;#x5982;&amp;#x4E0B;&amp;#x51FD;&amp;#x6570;&lt;br&gt;&lt;figure class=&quot;highlight java&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;private&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;subscribe&lt;/span&gt;&lt;span class=&quot;params&quot;&gt;(Object subscriber, SubscriberMethod subscriberMethod)&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;&amp;#x6BCF;&amp;#x4E2A;EventBus&amp;#x5B9E;&amp;#x4F8B;&amp;#x6709;&amp;#x4E00;&amp;#x4E2A;&lt;code&gt;Map&amp;lt;Class&amp;lt;?&amp;gt;, CopyOnWriteArrayList&amp;lt;Subscription&amp;gt;&amp;gt; subscriptionsByEventType&lt;/code&gt;&amp;#xFF0C;&amp;#x5176;&amp;#x4E2D;key&amp;#x503C;&amp;#x662F;&amp;#x8BA2;&amp;#x9605;&amp;#x8005;&amp;#x7684;&amp;#x4E8B;&amp;#x4EF6;&amp;#x7C7B;&amp;#x578B;&amp;#xFF0C;value&amp;#x662F;&amp;#x4E00;&amp;#x4E2A;&amp;#x961F;&amp;#x5217;&amp;#xFF0C;&amp;#x91CC;&amp;#x9762;&amp;#x5B58;&amp;#x653E;&amp;#x7740;&amp;#x8BA2;&amp;#x9605;&amp;#x8BE5;&amp;#x4E8B;&amp;#x4EF6;&amp;#x7684;&amp;#x8BA2;&amp;#x9605;&amp;#x8005;&amp;#x4FE1;&amp;#x606F;&amp;#xFF0C;&amp;#x4FE1;&amp;#x606F;&amp;#x88AB;&amp;#x5C01;&amp;#x88C5;&amp;#x6210;&amp;#x4E00;&amp;#x4E2A;Subscription&amp;#x7C7B;&amp;#x3002;&amp;#x76F8;&amp;#x540C;&amp;#x4E8B;&amp;#x4EF6;&amp;#x7684;&amp;#x4E0D;&amp;#x540C;&amp;#x8BA2;&amp;#x9605;&amp;#x8005;&amp;#x4F1A;&amp;#x6839;&amp;#x636E;priority&amp;#x653E;&amp;#x5728;&amp;#x961F;&amp;#x5217;&amp;#x91CC;&amp;#x5408;&amp;#x9002;&amp;#x7684;&amp;#x4F4D;&amp;#x7F6E;&amp;#x4E0A;&amp;#x3002;&amp;#x540C;&amp;#x65F6;&amp;#xFF0C;EventBus&amp;#x5B9E;&amp;#x4F8B;&amp;#x8FD8;&amp;#x6709;&amp;#x4E00;&amp;#x4E2A;&lt;code&gt;Map&amp;lt;Object, List&amp;lt;Class&amp;lt;?&amp;gt;&amp;gt;&amp;gt; typesBySubscriber&lt;/code&gt;&amp;#xFF0C;&amp;#x4FDD;&amp;#x5B58;&amp;#x7740;&amp;#x6BCF;&amp;#x4E2A;&amp;#x8BA2;&amp;#x9605;&amp;#x8005;&amp;#x6240;&amp;#x8BA2;&amp;#x9605;&amp;#x7684;&amp;#x4E8B;&amp;#x4EF6;&amp;#xFF0C;&amp;#x7528;&amp;#x4E8E;unregister&amp;#x65F6;&amp;#x6839;&amp;#x636E;&amp;#x8BA2;&amp;#x9605;&amp;#x8005;&amp;#x67E5;&amp;#x627E;&amp;#x51FA;&amp;#x6240;&amp;#x8BA2;&amp;#x9605;&amp;#x7684;&amp;#x4E8B;&amp;#x4EF6;&amp;#xFF0C;&amp;#x7136;&amp;#x540E;&amp;#x4ECE;&amp;#x8BE5;&amp;#x4E8B;&amp;#x4EF6;&amp;#x961F;&amp;#x5217;&amp;#x4E2D;&amp;#x628A;&amp;#x8BA2;&amp;#x9605;&amp;#x8005;remove&amp;#x3002;&amp;#x5982;&amp;#x4E0B;&amp;#x56FE;&amp;#x6240;&amp;#x793A;&amp;#xFF1A;&lt;/p&gt;
&lt;img src=&quot;/2016/04/17/eventbus/eventbus_1.png&quot;&gt;
&lt;p&gt;&amp;#x5230;&amp;#x6B64;&amp;#x8BA2;&amp;#x9605;&amp;#x8005;register&amp;#x8FC7;&amp;#x7A0B;&amp;#x7ED3;&amp;#x675F;&amp;#xFF0C;&amp;#x4F46;&amp;#x6700;&amp;#x540E;&amp;#x6709;&amp;#x4E2A;sticky&amp;#x7279;&amp;#x6027;&amp;#x9700;&amp;#x8981;&amp;#x8BF4;&amp;#x4E00;&amp;#x4E0B;&amp;#x3002;EventBus&amp;#x6301;&amp;#x6709;&amp;#x4E00;&amp;#x4E2A;&lt;code&gt;Map&amp;lt;Class&amp;lt;?&amp;gt;, Object&amp;gt; stickyEvents&lt;/code&gt;&amp;#xFF0C;&amp;#x91CC;&amp;#x9762;&amp;#x4FDD;&amp;#x5B58;sticky event&amp;#xFF1B;&amp;#x53D1;&amp;#x5E03;&amp;#x4E8B;&amp;#x4EF6;&amp;#x65F6;&amp;#x53EF;&amp;#x4EE5;&amp;#x8C03;&amp;#x7528;postSticky&amp;#x65B9;&amp;#x6CD5;&amp;#xFF0C;&amp;#x8BE5;&amp;#x4E8B;&amp;#x4EF6;&amp;#x4F1A;&amp;#x4FDD;&amp;#x5B58;&amp;#x5728;Map&amp;#x4E2D;&amp;#x3002;&amp;#x8BA2;&amp;#x9605;&amp;#x8005;register&amp;#x65B9;&amp;#x6CD5;&amp;#x6700;&amp;#x540E;&amp;#x68C0;&amp;#x67E5;&amp;#x8BE5;&amp;#x8BA2;&amp;#x9605;&amp;#x8005;&amp;#x56DE;&amp;#x8C03;&amp;#x51FD;&amp;#x6570;&amp;#x4E2D;&amp;#x7684;&amp;#x8BA2;&amp;#x9605;&amp;#x4E8B;&amp;#x4EF6;&amp;#x662F;&amp;#x5426;&amp;#x662F;sticky&amp;#xFF0C;&amp;#x5982;&amp;#x679C;sticky=true&amp;#x4E14;&amp;#x5B58;&amp;#x5728;stickyEvents&amp;#x4E2D;&amp;#xFF0C;&amp;#x5219;&amp;#x8BF4;&amp;#x660E;&amp;#x8BE5;&amp;#x4E8B;&amp;#x4EF6;&amp;#x5DF2;&amp;#x7ECF;&amp;#x88AB;&amp;#x53D1;&amp;#x5E03;&amp;#xFF0C;&amp;#x6240;&amp;#x4EE5;&amp;#x4F1A;&amp;#x7ACB;&amp;#x523B;&amp;#x901A;&amp;#x77E5;&amp;#x8BA2;&amp;#x9605;&amp;#x8005;&amp;#x8BE5;&amp;#x4E8B;&amp;#x4EF6;&amp;#x3002;&amp;#x5982;&amp;#x4E0B;&amp;#x56FE;&amp;#x6240;&amp;#x793A;&amp;#xFF1A;&lt;/p&gt;
&lt;img src=&quot;/2016/04/17/eventbus/eventbus_2.png&quot;&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;post&lt;/strong&gt;  &lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;EventBus&amp;#x5B9E;&amp;#x4F8B;&amp;#x63D0;&amp;#x4F9B;2&amp;#x4E2A;post&amp;#x51FD;&amp;#x6570;&amp;#xFF0C;&amp;#x5176;&amp;#x539F;&amp;#x578B;&amp;#x5982;&amp;#x4E0B;&lt;br&gt;&lt;figure class=&quot;highlight java&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;post&lt;/span&gt;&lt;span class=&quot;params&quot;&gt;(Object event)&lt;/span&gt; &lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;postSticky&lt;/span&gt;&lt;span class=&quot;params&quot;&gt;(Object event)&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;&amp;#x5176;&amp;#x4E2D;postSticky&amp;#x51FD;&amp;#x6570;&amp;#x9996;&amp;#x5148;&amp;#x628A;event&amp;#x653E;&amp;#x5165;stickyEvents&amp;#x7684;Map&amp;#xFF0C;&amp;#x7136;&amp;#x540E;&amp;#x8C03;&amp;#x7528;post&amp;#x51FD;&amp;#x6570;&amp;#x3002;&amp;#x6211;&amp;#x4EEC;&amp;#x4E3B;&amp;#x8981;&amp;#x5206;&amp;#x6790;post&amp;#x51FD;&amp;#x6570;&amp;#x3002;&lt;br&gt;&amp;#x6BCF;&amp;#x4E2A;EventBus&amp;#x5B9E;&amp;#x4F8B;&amp;#x5B58;&amp;#x6709;&amp;#x4E00;&amp;#x4E2A;ThreadLocal&amp;#x53D8;&amp;#x91CF;currentPostingThreadState&amp;#xFF0C;&amp;#x5176;&amp;#x7EF4;&amp;#x62A4;&amp;#x7684;&amp;#x53D8;&amp;#x91CF;&amp;#x7ED3;&amp;#x6784;&amp;#x5982;&amp;#x4E0B;&amp;#xFF0C;eventQueue&amp;#x7528;&amp;#x4E8E;&amp;#x5B58;&amp;#x653E;&amp;#x4E8B;&amp;#x4EF6;Event&amp;#x7684;&amp;#x961F;&amp;#x5217;&amp;#xFF1B;isPosting&amp;#x6807;&amp;#x8BC6;&amp;#x662F;&amp;#x5426;&amp;#x5F00;&amp;#x59CB;&amp;#x5FAA;&amp;#x73AF;&amp;#x5904;&amp;#x7406;eventQueue&amp;#x961F;&amp;#x5217;&amp;#x4E2D;&amp;#x7684;&amp;#x4E8B;&amp;#x4EF6;&amp;#xFF1B;isMainThread&amp;#x6807;&amp;#x8BC6;&amp;#x53D1;&amp;#x5E03;&amp;#x4E8B;&amp;#x4EF6;&amp;#x7684;&amp;#x7EBF;&amp;#x7A0B;&amp;#x662F;&amp;#x5426;&amp;#x662F;&amp;#x4E3B;&amp;#x7EBF;&amp;#x7A0B;&amp;#xFF1B;subscription&amp;#x548C;event&amp;#x4E3B;&amp;#x8981;&amp;#x662F;&amp;#x7528;&amp;#x4E8E;&amp;#x5FAA;&amp;#x73AF;&amp;#x65F6;&amp;#x4FDD;&amp;#x7559;&amp;#x4E8B;&amp;#x4EF6;&amp;#x548C;&amp;#x5BF9;&amp;#x5E94;&amp;#x7684;Subscription&amp;#xFF0C;&amp;#x901A;&amp;#x8FC7;&amp;#x53CD;&amp;#x5C04;&amp;#x901A;&amp;#x77E5;&amp;#x8BA2;&amp;#x9605;&amp;#x8005;&amp;#xFF1B;canceled&amp;#x7528;&amp;#x4E8E;&amp;#x53D6;&amp;#x6D88;&amp;#x53D1;&amp;#x5E03;&amp;#x4E8B;&amp;#x4EF6;&amp;#x3002;&amp;#x6574;&amp;#x4E2A;post&amp;#x8FC7;&amp;#x7A0B;&amp;#x5982;&amp;#x4E0B;&amp;#x56FE;&amp;#x6240;&amp;#x793A;&amp;#x3002;&lt;/p&gt;
&lt;img src=&quot;/2016/04/17/eventbus/eventbus_3.png&quot;&gt;
&lt;h2 id=&quot;&amp;#x5173;&amp;#x4E8E;eventbus&amp;#x601D;&amp;#x8003;&quot;&gt;&lt;a href=&quot;#&amp;#x5173;&amp;#x4E8E;EventBus&amp;#x601D;&amp;#x8003;&quot; class=&quot;headerlink&quot; title=&quot;&amp;#x5173;&amp;#x4E8E;EventBus&amp;#x601D;&amp;#x8003;&quot;&gt;&lt;/a&gt;&amp;#x5173;&amp;#x4E8E;EventBus&amp;#x601D;&amp;#x8003;&lt;/h2&gt;&lt;ul&gt;
&lt;li&gt;&lt;p&gt;ProGuard &amp;#x914D;&amp;#x7F6E;&lt;/p&gt;
&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;10&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;-keepattributes *Annotation*&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;-keepclassmembers class ** {&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    @org.greenrobot.eventbus.Subscribe &amp;lt;methods&amp;gt;;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;}&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;-keep enum org.greenrobot.eventbus.ThreadMode { *; }&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;# Only required if you use AsyncExecutor&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;-keepclassmembers class * extends org.greenrobot.eventbus.util.ThrowableFailureEvent {&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &amp;lt;init&amp;gt;(java.lang.Throwable);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;}&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;AsyncExecutor&lt;br&gt;EventBus&amp;#x7684;utils&amp;#x7C7B;&amp;#x4E2D;&amp;#x63D0;&amp;#x4F9B;&amp;#x4E86;&amp;#x4E00;&amp;#x4E2A;&amp;#x5DE5;&amp;#x5177;&amp;#x7C7B;AsyncExecutor&amp;#xFF0C;&amp;#x53EF;&amp;#x4EE5;&amp;#x901A;&amp;#x8FC7;&amp;#x5B83;&amp;#x6267;&amp;#x884C;&amp;#x4E00;&amp;#x4E2A;&amp;#x6269;&amp;#x5C55;&amp;#x7684;Runnable&amp;#xFF0C;&amp;#x5185;&amp;#x90E8;&amp;#x53EF;&amp;#x4EE5;&amp;#x6355;&amp;#x83B7;Throwable&amp;#xFF0C;&amp;#x7136;&amp;#x540E;&amp;#x56DE;&amp;#x8C03;&amp;#x6CE8;&amp;#x518C;&amp;#x53C2;&amp;#x6570;&amp;#x4E3A;ThrowableFailureEvent&amp;#x7684;onEvent&amp;#x65B9;&amp;#x6CD5;&amp;#xFF0C;&amp;#x53EF;&amp;#x4EE5;&amp;#x5168;&amp;#x5C40;&amp;#x76D1;&amp;#x6D4B;Runnable&amp;#x6267;&amp;#x884C;&amp;#x5F02;&amp;#x5E38;&amp;#x7684;&amp;#x6355;&amp;#x83B7;&amp;#x5904;&amp;#x7406;&amp;#x3002;&amp;#x76F8;&amp;#x5173;&amp;#x4EE3;&amp;#x7801;&amp;#x5982;&amp;#x4E0B;&amp;#xFF1A;&lt;/p&gt;
&lt;figure class=&quot;highlight java&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;12&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;13&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;14&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;15&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;16&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;17&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;AsyncExecutor.create().execute(&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  &lt;span class=&quot;keyword&quot;&gt;new&lt;/span&gt; RunnableEx {&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;void&lt;/span&gt; run &lt;span class=&quot;keyword&quot;&gt;throws&lt;/span&gt; LoginException {&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;      remote.login();&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;      EventBus.getDefault().postSticky(&lt;span class=&quot;keyword&quot;&gt;new&lt;/span&gt; LoggedInEvent());&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;      &lt;span class=&quot;comment&quot;&gt;// No need to catch Exception&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    }&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  }&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;}&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;onEventMainThread&lt;/span&gt;&lt;span class=&quot;params&quot;&gt;(LoggedInEvent event)&lt;/span&gt; &lt;/span&gt;{&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  &lt;span class=&quot;comment&quot;&gt;// Change some UI&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;}&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;onEventMainThread&lt;/span&gt;&lt;span class=&quot;params&quot;&gt;(ThrowableFailureEvent event)&lt;/span&gt; &lt;/span&gt;{&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  &lt;span class=&quot;comment&quot;&gt;// Show error in UI&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;}&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&quot;&amp;#x53C2;&amp;#x8003;&quot;&gt;&lt;a href=&quot;#&amp;#x53C2;&amp;#x8003;&quot; class=&quot;headerlink&quot; title=&quot;&amp;#x53C2;&amp;#x8003;&quot;&gt;&lt;/a&gt;&amp;#x53C2;&amp;#x8003;&lt;/h2&gt;&lt;ol&gt;
&lt;li&gt;&lt;a href=&quot;http://greenrobot.org/eventbus/&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;http://greenrobot.org/eventbus/&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;http://a.codekk.com/detail/Android/Trinea/EventBus%20%E6%BA%90%E7%A0%81%E8%A7%A3%E6%9E%90&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;http://a.codekk.com/detail/Android/Trinea/EventBus%20%E6%BA%90%E7%A0%81%E8%A7%A3%E6%9E%90&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;http://www.ithao123.cn/content-7461338.html&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;http://www.ithao123.cn/content-7461338.html&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;http://android.jobbole.com/81098/&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;http://android.jobbole.com/81098/&lt;/a&gt;&lt;/li&gt;
&lt;/ol&gt;
</content>
    
    <summary type="html">
    
      &lt;!-- toc --&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;#simple-demo&quot;&gt;Simple Demo&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;#为什么使用&quot;&gt;为什么使用&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;#原理分析&quot;&gt;原理分析&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;#关于eventbus思考&quot;&gt;关于EventBus思考&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;#参考&quot;&gt;参考&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;!-- tocstop --&gt;
&lt;p&gt;这里要讲的EventBus特指greenrobot开源的项目(&lt;a href=&quot;https://github.com/greenrobot/EventBus&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;https://github.com/greenrobot/EventBus&lt;/a&gt;)，是一个Android事件发布/订阅框架，通过解耦发布者和订阅者来简化Android事件传递。事件传递既可以用于Android四大组件间通信，也可以应用于异步线程和主线程间通信等。&lt;/p&gt;
&lt;h2 id=&quot;Simple-Demo&quot;&gt;&lt;a href=&quot;#Simple-Demo&quot; class=&quot;headerlink&quot; title=&quot;Simple Demo&quot;&gt;&lt;/a&gt;Simple Demo&lt;/h2&gt;&lt;p&gt;1.&lt;strong&gt; 定义事件 &lt;/strong&gt;&lt;br&gt;&lt;figure class=&quot;highlight java&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;9&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;class&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;DemoEvent&lt;/span&gt; &lt;/span&gt;&amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;public&lt;/span&gt; String name;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;int&lt;/span&gt; grade;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;DemoEvent&lt;/span&gt;&lt;span class=&quot;params&quot;&gt;(String name, &lt;span class=&quot;keyword&quot;&gt;int&lt;/span&gt; grade)&lt;/span&gt; &lt;/span&gt;&amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &lt;span class=&quot;keyword&quot;&gt;this&lt;/span&gt;.name = name;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &lt;span class=&quot;keyword&quot;&gt;this&lt;/span&gt;.grade = grade;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
    
    </summary>
    
      <category term="Android学习笔记" scheme="http://yoursite.com/categories/Android%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/"/>
    
    
      <category term="Android" scheme="http://yoursite.com/tags/Android/"/>
    
  </entry>
  
  <entry>
    <title>Android 文件存储路径探究</title>
    <link href="http://yoursite.com/2016/04/17/android-file-path/"/>
    <id>http://yoursite.com/2016/04/17/android-file-path/</id>
    <published>2016-04-17T06:58:44.000Z</published>
    <updated>2016-04-17T08:35:01.000Z</updated>
    
    <content type="html">&lt;!-- toc --&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;#internal-storage&quot;&gt;Internal Storage&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;#external-storage&quot;&gt;External Storage&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;#&amp;#x8DEF;&amp;#x5F84;&amp;#x793A;&amp;#x610F;&amp;#x56FE;&quot;&gt;&amp;#x8DEF;&amp;#x5F84;&amp;#x793A;&amp;#x610F;&amp;#x56FE;&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;#&amp;#x89E3;&amp;#x60D1;&amp;#x4E00;&amp;#x4E2A;&amp;#x8DEF;&amp;#x5F84;&amp;#x95EE;&amp;#x9898;&quot;&gt;&amp;#x89E3;&amp;#x60D1;&amp;#x4E00;&amp;#x4E2A;&amp;#x8DEF;&amp;#x5F84;&amp;#x95EE;&amp;#x9898;&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;#&amp;#x53C2;&amp;#x8003;&quot;&gt;&amp;#x53C2;&amp;#x8003;&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;!-- tocstop --&gt;
&lt;p&gt;Android&amp;#x6709;&amp;#x4E24;&amp;#x79CD;&amp;#x6587;&amp;#x4EF6;&amp;#x5B58;&amp;#x50A8;&amp;#x7A7A;&amp;#x95F4;&amp;#xFF1A;&amp;#x5185;&amp;#x90E8;&amp;#x5B58;&amp;#x50A8;(&lt;code&gt;internal storage&lt;/code&gt;)&amp;#x548C;&amp;#x5916;&amp;#x90E8;&amp;#x5B58;&amp;#x50A8;(&lt;code&gt;external storage&lt;/code&gt;)&amp;#xFF0C;&amp;#x8FD9;&amp;#x4E3B;&amp;#x8981;&amp;#x662F;&amp;#x56E0;&amp;#x4E3A;&amp;#x65E9;&amp;#x671F;Android&amp;#x8BBE;&amp;#x5907;&amp;#x5B58;&amp;#x50A8;&amp;#x4E3B;&amp;#x8981;&amp;#x7531;&amp;#x5185;&amp;#x7F6E;&amp;#x7684;&amp;#x975E;&amp;#x6613;&amp;#x5931;&amp;#x6027;&amp;#x5185;&amp;#x5B58;&amp;#x548C;&amp;#x53EF;&amp;#x63D2;&amp;#x62D4;&amp;#x7684;&amp;#x5B58;&amp;#x50A8;(&amp;#x6BD4;&amp;#x5982;&lt;code&gt;micro SD&lt;/code&gt;&amp;#x5361;)&amp;#x4E24;&amp;#x90E8;&amp;#x5206;&amp;#x7EC4;&amp;#x6210;&amp;#xFF0C;&amp;#x800C;&amp;#x968F;&amp;#x7740;&amp;#x73B0;&amp;#x5728;&amp;#x8BBE;&amp;#x5907;&amp;#x63D0;&amp;#x4F9B;&amp;#x5546;&amp;#x628A;&amp;#x5B58;&amp;#x50A8;&amp;#x90FD;&amp;#x5185;&amp;#x7F6E;&amp;#x5230;&amp;#x624B;&amp;#x673A;&amp;#x4E2D;&amp;#xFF0C;&amp;#x5DF2;&amp;#x7ECF;&amp;#x6CA1;&amp;#x6709;&amp;#x5916;&amp;#x90E8;&amp;#x5B58;&amp;#x50A8;&amp;#x4E00;&amp;#x8BF4;&amp;#x4E86;&amp;#xFF0C;&amp;#x4F46;&amp;#x7CFB;&amp;#x7EDF;&amp;#x7EA7;&amp;#x522B;&amp;#x8FD8;&amp;#x662F;&amp;#x4FDD;&amp;#x6301;&amp;#x8FD9;&amp;#x4E24;&amp;#x79CD;&amp;#x5B58;&amp;#x50A8;&amp;#x7A7A;&amp;#x95F4;&amp;#x3002;&lt;/p&gt;
&lt;h2 id=&quot;internal-storage&quot;&gt;&lt;a href=&quot;#Internal-Storage&quot; class=&quot;headerlink&quot; title=&quot;Internal Storage&quot;&gt;&lt;/a&gt;Internal Storage&lt;/h2&gt;&lt;p&gt;&lt;code&gt;Internal storage&lt;/code&gt;&amp;#x603B;&amp;#x662F;&amp;#x53EF;&amp;#x7528;&amp;#x7684;&amp;#xFF0C;&amp;#x9ED8;&amp;#x8BA4;&amp;#x53EA;&amp;#x5141;&amp;#x8BB8;&amp;#x4F60;&amp;#x7684;App&amp;#x8BBF;&amp;#x95EE;&amp;#xFF0C;&amp;#x5F53;&amp;#x7528;&amp;#x6237;&amp;#x5220;&amp;#x9664;App&amp;#x65F6;&amp;#xFF0C;&amp;#x7CFB;&amp;#x7EDF;&amp;#x4F1A;&amp;#x81EA;&amp;#x52A8;&amp;#x628A;&lt;code&gt;internal storage&lt;/code&gt;&amp;#x6570;&amp;#x636E;&amp;#x4E00;&amp;#x5E76;&amp;#x6E05;&amp;#x9664;&amp;#x3002;App&amp;#x5B89;&amp;#x88C5;&amp;#x65F6;&amp;#x9ED8;&amp;#x8BA4;&amp;#x5B89;&amp;#x88C5;&amp;#x5728;&lt;code&gt;internal storage&lt;/code&gt;&amp;#xFF0C;&amp;#x4F46;&amp;#x662F;&amp;#x53EF;&amp;#x4EE5;&amp;#x5728;&lt;code&gt;manifest&lt;/code&gt;&amp;#x6587;&amp;#x4EF6;&amp;#x4E2D;&amp;#x6307;&amp;#x5B9A;&amp;#x5C5E;&amp;#x6027;&lt;code&gt;android:installLocation&lt;/code&gt;&amp;#x8FDB;&amp;#x884C;&amp;#x6539;&amp;#x53D8;&amp;#x3002;&amp;#x4ECE;&amp;#x6280;&amp;#x672F;&amp;#x4E0A;&amp;#x6765;&amp;#x8BB2;&amp;#x5982;&amp;#x679C;&amp;#x4F60;&amp;#x5728;&amp;#x521B;&amp;#x5EFA;&amp;#x5185;&amp;#x90E8;&amp;#x5B58;&amp;#x50A8;&amp;#x6587;&amp;#x4EF6;&amp;#x7684;&amp;#x65F6;&amp;#x5019;&amp;#x5C06;&amp;#x6587;&amp;#x4EF6;&amp;#x5C5E;&amp;#x6027;&amp;#x8BBE;&amp;#x7F6E;&amp;#x6210;&amp;#x53EF;&amp;#x8BFB;&amp;#xFF0C;&amp;#x5176;&amp;#x4ED6;App&amp;#x80FD;&amp;#x591F;&amp;#x8BBF;&amp;#x95EE;&amp;#x81EA;&amp;#x5DF1;&amp;#x5E94;&amp;#x7528;&amp;#x7684;&amp;#x6570;&amp;#x636E;&amp;#xFF0C;&amp;#x524D;&amp;#x63D0;&amp;#x662F;&amp;#x4ED6;&amp;#x77E5;&amp;#x9053;&amp;#x4F60;&amp;#x8FD9;&amp;#x4E2A;&amp;#x5E94;&amp;#x7528;&amp;#x7684;&amp;#x5305;&amp;#x540D;&amp;#xFF0C;&amp;#x5982;&amp;#x679C;&amp;#x4E00;&amp;#x4E2A;&amp;#x6587;&amp;#x4EF6;&amp;#x7684;&amp;#x5C5E;&amp;#x6027;&amp;#x662F;&amp;#x79C1;&amp;#x6709;(private)&amp;#xFF0C;&amp;#x90A3;&amp;#x4E48;&amp;#x5373;&amp;#x4F7F;&amp;#x77E5;&amp;#x9053;&amp;#x5305;&amp;#x540D;&amp;#x5176;&amp;#x4ED6;&amp;#x5E94;&amp;#x7528;&amp;#x4E5F;&amp;#x65E0;&amp;#x6CD5;&amp;#x8BBF;&amp;#x95EE;&amp;#x3002;&lt;code&gt;Internal storage&lt;/code&gt;&amp;#x5927;&amp;#x5C0F;&amp;#x76F8;&amp;#x5BF9;&amp;#x6BD4;&amp;#x8F83;&amp;#x5B9D;&amp;#x8D35;&amp;#xFF0C;&amp;#x5176;&amp;#x5927;&amp;#x5C0F;&amp;#x7531;&amp;#x8BBE;&amp;#x5907;&amp;#x63D0;&amp;#x4F9B;&amp;#x5546;&amp;#x6839;&amp;#x636E;&amp;#x5B98;&amp;#x65B9;&amp;#x63A8;&amp;#x8350;&amp;#x7684;&amp;#x6700;&amp;#x5C0F;&amp;#x503C;&amp;#x8FDB;&amp;#x884C;&amp;#x8BBE;&amp;#x5B9A;&amp;#xFF0C;&amp;#x53EF;&amp;#x4EE5;&amp;#x4ECE;&amp;#x5B98;&amp;#x65B9;&amp;#x63D0;&amp;#x4F9B;&amp;#x7684;&lt;a href=&quot;http://static.googleusercontent.com/media/source.android.com/zh-CN//compatibility/android-cdd.pdf&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;compatibility document&lt;/a&gt; 7.6&amp;#x8282;&amp;#x67E5;&amp;#x770B;&amp;#xFF0C;&amp;#x4F46;&amp;#x5E76;&amp;#x6CA1;&amp;#x6709;&amp;#x89C4;&amp;#x5B9A;&amp;#x5355;&amp;#x4E2A;App&amp;#x6700;&amp;#x5927;&amp;#x53EF;&amp;#x4EE5;&amp;#x4F7F;&amp;#x7528;&amp;#x591A;&amp;#x5C11;&amp;#x3002;&lt;a id=&quot;more&quot;&gt;&lt;/a&gt;&lt;code&gt;Internal storage&lt;/code&gt;&amp;#x662F;&amp;#x7CFB;&amp;#x7EDF;&amp;#x672C;&amp;#x8EAB;&amp;#x548C;&amp;#x7CFB;&amp;#x7EDF;&amp;#x5E94;&amp;#x7528;&amp;#x7A0B;&amp;#x5E8F;&amp;#x4E3B;&amp;#x8981;&amp;#x7684;&amp;#x6570;&amp;#x636E;&amp;#x5B58;&amp;#x50A8;&amp;#x6240;&amp;#x5728;&amp;#x5730;&amp;#xFF0C;&amp;#x4E00;&amp;#x65E6;&amp;#x5185;&amp;#x90E8;&amp;#x5B58;&amp;#x50A8;&amp;#x7A7A;&amp;#x95F4;&amp;#x8017;&amp;#x5C3D;&amp;#xFF0C;&amp;#x624B;&amp;#x673A;&amp;#x4E5F;&amp;#x5C31;&amp;#x65E0;&amp;#x6CD5;&amp;#x4F7F;&amp;#x7528;&amp;#xFF0C;&amp;#x8981;&amp;#x5C3D;&amp;#x91CF;&amp;#x907F;&amp;#x514D;&amp;#x4F7F;&amp;#x7528;&amp;#x3002;&lt;code&gt;SharedPreferences&lt;/code&gt;&amp;#xFF0C; &lt;code&gt;SQLite&lt;/code&gt;&amp;#x6570;&amp;#x636E;&amp;#x5E93;&amp;#x4EE5;&amp;#x53CA;&lt;code&gt;webview&lt;/code&gt;&amp;#x4E00;&amp;#x4E9B;&amp;#x7F13;&amp;#x5B58;&amp;#x6570;&amp;#x636E;&amp;#x7B49;&amp;#x90FD;&amp;#x50A8;&amp;#x5B58;&amp;#x5728;&lt;code&gt;internal storage&lt;/code&gt;&amp;#x4E2D;&amp;#x3002;&amp;#x4E00;&amp;#x822C;&amp;#x7528;&lt;code&gt;Context&lt;/code&gt;&amp;#x6765;&amp;#x83B7;&amp;#x53D6;&amp;#x548C;&amp;#x64CD;&amp;#x4F5C;&amp;#x3002;&lt;code&gt;internal Storage&lt;/code&gt;&amp;#x8BFB;&amp;#x5199;&amp;#x662F;&amp;#x4E0D;&amp;#x9700;&amp;#x8981;&amp;#x6743;&amp;#x9650;&amp;#x58F0;&amp;#x660E;&amp;#x7684;&amp;#xFF0C;&amp;#x5E94;&amp;#x7528;&amp;#x672C;&amp;#x8EAB;&amp;#x6709;&amp;#x8BFB;&amp;#x5199;&lt;code&gt;internal storage&lt;/code&gt;&amp;#x76EE;&amp;#x5F55;&amp;#x7684;&amp;#x6743;&amp;#x9650;&amp;#x3002;&amp;#x7CFB;&amp;#x7EDF;&amp;#x63D0;&amp;#x4F9B;&amp;#x4E24;&amp;#x4E2A;api&amp;#x83B7;&amp;#x53D6;&lt;code&gt;internal storage&lt;/code&gt;&amp;#x7684;&amp;#x5BF9;&amp;#x5E94;&lt;code&gt;File&lt;/code&gt;&amp;#x5BF9;&amp;#x8C61;&amp;#xFF1A;&lt;code&gt;getFilesDir()&lt;/code&gt;&amp;#x548C;&lt;code&gt;getCacheDir()&lt;/code&gt;&amp;#xFF0C;&amp;#x6CE8;&amp;#x610F;&amp;#x7CFB;&amp;#x7EDF;&amp;#x5904;&amp;#x4E8E;&lt;code&gt;low storage&lt;/code&gt;&amp;#x65F6;&amp;#x4F1A;&amp;#x5220;&amp;#x9664;&amp;#x540E;&amp;#x8005;&amp;#x7684;&amp;#x5E94;&amp;#x7528;&amp;#x6570;&amp;#x636E;&amp;#xFF0C;&amp;#x4F46;&amp;#x6CA1;&amp;#x6709;warning&amp;#x3002;&amp;#x6839;&amp;#x636E;&amp;#x5B98;&amp;#x65B9;&amp;#x6587;&amp;#x6863;&amp;#xFF0C;Android&amp;#x63D0;&amp;#x4F9B;&amp;#x4E24;&amp;#x4E2A;&amp;#x5FEB;&amp;#x6377;&amp;#x65B9;&amp;#x6CD5;&amp;#x8BFB;&amp;#x5199;&lt;code&gt;internal storage&lt;/code&gt;&amp;#x6587;&amp;#x4EF6;&amp;#xFF1A;&lt;br&gt;&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;11&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;String filename = &amp;quot;myfile&amp;quot;;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;String string = &amp;quot;Hello world!&amp;quot;;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;FileOutputStream outputStream;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;try {&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  outputStream = openFileOutput(filename&amp;#xFF0C; Context.MODE_PRIVATE);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  outputStream.write(string.getBytes());&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  outputStream.close();&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;} catch (Exception e) {&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  e.printStackTrace();&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;}&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;10&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;public File getTempFile(Context context&amp;#xFF0C; String url) {&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    File file;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    try {&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        String fileName = Uri.parse(url).getLastPathSegment();&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        file = File.createTempFile(fileName&amp;#xFF0C; null&amp;#xFF0C; context.getCacheDir());&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    catch (IOException e) {&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        // Error while creating file&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    }&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    return file;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;}&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;h2 id=&quot;external-storage&quot;&gt;&lt;a href=&quot;#External-Storage&quot; class=&quot;headerlink&quot; title=&quot;External Storage&quot;&gt;&lt;/a&gt;External Storage&lt;/h2&gt;&lt;p&gt;&amp;#x901A;&amp;#x5E38;&amp;#x6765;&amp;#x8BF4;&amp;#xFF0C;&amp;#x624B;&amp;#x673A;&amp;#x8FDE;&amp;#x63A5;&amp;#x7535;&amp;#x8111;&amp;#xFF0C;&amp;#x80FD;&amp;#x88AB;&amp;#x7535;&amp;#x8111;&amp;#x8BC6;&amp;#x522B;&amp;#x7684;&amp;#x90E8;&amp;#x5206;&amp;#x4E00;&amp;#x5B9A;&amp;#x662F;&lt;code&gt;external storage&lt;/code&gt;&amp;#xFF0C;&amp;#x5728;Mac&amp;#x4E0B;&amp;#x53EF;&amp;#x4EE5;&amp;#x5B89;&amp;#x88C5;&amp;#x5B98;&amp;#x65B9;&amp;#x63D0;&amp;#x4F9B;&amp;#x7684;&amp;#x5DE5;&amp;#x5177;&lt;a href=&quot;https://www.android.com/filetransfer/&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;Android File Transfer&lt;/a&gt;&amp;#x67E5;&amp;#x770B;&amp;#x3002;&amp;#x8BFB;&amp;#x5199;&lt;code&gt;external storage&lt;/code&gt;&amp;#x9700;&amp;#x8981;&amp;#x58F0;&amp;#x660E;&amp;#x4EE5;&amp;#x4E0B;&amp;#x4E24;&amp;#x4E2A;&amp;#x6743;&amp;#x9650;&amp;#xFF1A;&lt;br&gt;&lt;figure class=&quot;highlight xml&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;tag&quot;&gt;&amp;lt;&lt;span class=&quot;name&quot;&gt;manifest&lt;/span&gt; &lt;span class=&quot;attr&quot;&gt;...&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;tag&quot;&gt;&amp;lt;&lt;span class=&quot;name&quot;&gt;uses-permission&lt;/span&gt; &lt;span class=&quot;attr&quot;&gt;android:name&lt;/span&gt;=&lt;span class=&quot;string&quot;&gt;&amp;quot;android.permission.WRITE_EXTERNAL_STORAGE&amp;quot;&lt;/span&gt; /&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    ...&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;tag&quot;&gt;&amp;lt;/&lt;span class=&quot;name&quot;&gt;manifest&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;figure class=&quot;highlight xml&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;tag&quot;&gt;&amp;lt;&lt;span class=&quot;name&quot;&gt;manifest&lt;/span&gt; &lt;span class=&quot;attr&quot;&gt;...&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;tag&quot;&gt;&amp;lt;&lt;span class=&quot;name&quot;&gt;uses-permission&lt;/span&gt; &lt;span class=&quot;attr&quot;&gt;android:name&lt;/span&gt;=&lt;span class=&quot;string&quot;&gt;&amp;quot;android.permission.READ_EXTERNAL_STORAGE&amp;quot;&lt;/span&gt; /&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    ...&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;tag&quot;&gt;&amp;lt;/&lt;span class=&quot;name&quot;&gt;manifest&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;&amp;#x5B98;&amp;#x65B9;&amp;#x6587;&amp;#x6863;&amp;#x5BF9;&amp;#x6B64;&amp;#x6709;&amp;#x5982;&amp;#x4E0B;&amp;#x89E3;&amp;#x91CA;&amp;#xFF1A;App&amp;#x5FC5;&amp;#x987B;&amp;#x83B7;&amp;#x5F97;&lt;code&gt;WRITE_EXTERNAL_STORAGE&lt;/code&gt;&amp;#x6743;&amp;#x9650;&amp;#x624D;&amp;#x80FD;&amp;#x5199;&lt;code&gt;external storage&lt;/code&gt;&amp;#xFF0C;&amp;#x58F0;&amp;#x660E;&amp;#x8BE5;&amp;#x6743;&amp;#x9650;&amp;#x9ED8;&amp;#x8BA4;&amp;#x4F1A;&amp;#x8BA4;&amp;#x4E3A;App&amp;#x4E5F;&amp;#x83B7;&amp;#x5F97;&lt;code&gt;READ_EXTERNAL_STORAGE&lt;/code&gt;&amp;#x6743;&amp;#x9650;&amp;#xFF1B;&amp;#x5F53;&amp;#x524D;App&amp;#x4E0D;&amp;#x9700;&amp;#x8981;&amp;#x4E13;&amp;#x95E8;&amp;#x6307;&amp;#x5B9A;&lt;code&gt;READ_EXTERNAL_STORAGE&lt;/code&gt;&amp;#x5C31;&amp;#x53EF;&amp;#x4EE5;&amp;#x8BFB;&lt;code&gt;external storage&lt;/code&gt;&amp;#xFF0C;&amp;#x4F46;&amp;#x662F;&amp;#x4E3A;&amp;#x4E86;&amp;#x517C;&amp;#x5BB9;&amp;#x6027;&amp;#xFF0C;&amp;#x5EFA;&amp;#x8BAE;&amp;#x6700;&amp;#x597D;&amp;#x663E;&amp;#x793A;&amp;#x58F0;&amp;#x660E;&amp;#x8BE5;&amp;#x6743;&amp;#x9650;&amp;#x3002;&amp;#x8BFB;&amp;#x5199;&lt;code&gt;external storage&lt;/code&gt;&amp;#x81F3;&amp;#x5C11;&amp;#x8981;&amp;#x4FDD;&amp;#x8BC1;&amp;#x5904;&amp;#x4E8E;&amp;#x53EF;&amp;#x7528;&amp;#x7684;&amp;#x72B6;&amp;#x6001;&amp;#xFF0C;&amp;#x7CFB;&amp;#x7EDF;&amp;#x63D0;&amp;#x4F9B;&amp;#x5982;&amp;#x4E0B;&amp;#x65B9;&amp;#x6CD5;&amp;#xFF1A;&lt;br&gt;&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;12&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;13&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;14&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;15&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;16&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;17&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;18&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;/* Checks if external storage is available for read and write */&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;public boolean isExternalStorageWritable() {&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    String state = Environment.getExternalStorageState();&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    if (Environment.MEDIA_MOUNTED.equals(state)) {&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        return true;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    }&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    return false;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;}&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;/* Checks if external storage is available to at least read */&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;public boolean isExternalStorageReadable() {&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    String state = Environment.getExternalStorageState();&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    if (Environment.MEDIA_MOUNTED.equals(state) ||&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        Environment.MEDIA_MOUNTED_READ_ONLY.equals(state)) {&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        return true;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    }&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    return false;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;}&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;&lt;code&gt;External storage&lt;/code&gt;&amp;#x6709;&amp;#x4E24;&amp;#x79CD;&amp;#x7C7B;&amp;#x578B;&amp;#x6587;&amp;#x4EF6;&amp;#xFF08;&amp;#x76EE;&amp;#x5F55;&amp;#xFF09;&amp;#xFF1A;&lt;code&gt;public files&lt;/code&gt;&amp;#x548C;&lt;code&gt;private files&lt;/code&gt;&amp;#x3002;&amp;#x524D;&amp;#x8005;&amp;#x53EF;&amp;#x4EE5;&amp;#x5B58;&amp;#x50A8;&amp;#x5404;&amp;#x4E2A;App&amp;#x90FD;&amp;#x53EF;&amp;#x4EE5;&amp;#x8BBF;&amp;#x95EE;&amp;#xFF0C;&amp;#x4E14;&amp;#x7528;&amp;#x6237;&amp;#x5220;&amp;#x9664;&amp;#x5E94;&amp;#x7528;&amp;#x540E;&amp;#x4FDD;&amp;#x7559;&amp;#x7684;&amp;#x6587;&amp;#x4EF6;&amp;#xFF0C;&amp;#x6BD4;&amp;#x5982;&amp;#x8BF4;&amp;#x7167;&amp;#x76F8;&amp;#x7684;&amp;#x76F8;&amp;#x7247;&amp;#xFF1B;&amp;#x540E;&amp;#x8005;&amp;#x6570;&amp;#x636E;&amp;#x7406;&amp;#x8BBA;&amp;#x4E0A;&amp;#x53EA;&amp;#x5C5E;&amp;#x4E8E;&amp;#x4F60;&amp;#x7684;App&amp;#x53BB;&amp;#x4F7F;&amp;#x7528;&amp;#xFF0C;&amp;#x800C;&amp;#x4E14;uninstall App&amp;#x540E;&amp;#x4E5F;&amp;#x4F1A;&amp;#x968F;&amp;#x7740;&amp;#x88AB;&amp;#x5220;&amp;#x9664;&amp;#xFF0C;&amp;#x6BD4;&amp;#x5982;&amp;#x8BF4;App&amp;#x4E0B;&amp;#x8F7D;&amp;#x7684;&amp;#x4E00;&amp;#x4E9B;&amp;#x4E34;&amp;#x65F6;&amp;#x5A92;&amp;#x4F53;&amp;#x6587;&amp;#x4EF6;&amp;#x3002;&amp;#x7CFB;&amp;#x7EDF;&amp;#x5206;&amp;#x522B;&amp;#x63D0;&amp;#x4F9B;&amp;#x4E24;&amp;#x4E2A;&amp;#x65B9;&amp;#x6CD5;&amp;#xFF0C;&amp;#x4F7F;&amp;#x7528;Demo&amp;#x5982;&amp;#x4E0B;&amp;#xFF1A;&lt;br&gt;&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;9&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;public File getAlbumStorageDir(String albumName) {&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    // Get the directory for the user&amp;apos;s public pictures directory. &lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    File file = new File(Environment.getExternalStoragePublicDirectory(&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;            Environment.DIRECTORY_PICTURES)&amp;#xFF0C; albumName);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    if (!file.mkdirs()) {&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        Log.e(LOG_TAG&amp;#xFF0C; &amp;quot;Directory not created&amp;quot;);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    }&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    return file;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;}&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;9&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;public File getAlbumStorageDir(Context context&amp;#xFF0C; String albumName) {&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    // Get the directory for the app&amp;apos;s private pictures directory. &lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    File file = new File(context.getExternalFilesDir(&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;            Environment.DIRECTORY_PICTURES)&amp;#xFF0C; albumName);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    if (!file.mkdirs()) {&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        Log.e(LOG_TAG&amp;#xFF0C; &amp;quot;Directory not created&amp;quot;);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    }&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    return file;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;}&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;&amp;#x6CE8;&amp;#x610F;&amp;#xFF1A;1. &amp;#x5C3D;&amp;#x91CF;&amp;#x4F7F;&amp;#x7528;&amp;#x7CFB;&amp;#x7EDF;&amp;#x89C4;&amp;#x5B9A;&amp;#x7684;&amp;#x6587;&amp;#x4EF6;&amp;#x7C7B;&amp;#x578B;(&lt;code&gt;DIRECTORY_PICTURES&lt;/code&gt;)&amp;#x547D;&amp;#x540D;&amp;#x6587;&amp;#x4EF6;&amp;#x5939;&amp;#xFF0C;&amp;#x53EF;&amp;#x4EE5;&amp;#x65B9;&amp;#x4FBF;&amp;#x7CFB;&amp;#x7EDF;(&amp;#x6BD4;&amp;#x5982;&lt;code&gt;media scanner&lt;/code&gt;)&amp;#x8BC6;&amp;#x522B;&amp;#x6587;&amp;#x4EF6;&amp;#x7C7B;&amp;#x578B;&amp;#xFF1B;2. api 8&amp;#x4EE5;&amp;#x4E0B;&amp;#x7684;&amp;#x7248;&amp;#x672C;&amp;#x5728;&amp;#x64CD;&amp;#x4F5C;&amp;#x6587;&amp;#x4EF6;&amp;#x7684;&amp;#x65F6;&amp;#x5019;&amp;#x6CA1;&amp;#x6709;&amp;#x4E13;&amp;#x95E8;&amp;#x4E3A;&amp;#x4EE5;&amp;#x4E0A;&amp;#x64CD;&amp;#x4F5C;&amp;#x63D0;&amp;#x4F9B;api&amp;#x652F;&amp;#x6301;&amp;#xFF0C;&amp;#x53EA;&amp;#x80FD;&amp;#x4F7F;&amp;#x7528;&lt;code&gt;Environment.getExternalStorageDirectory()&lt;/code&gt;&amp;#xFF0C;&amp;#x4E0D;&amp;#x5E26;&amp;#x53C2;&amp;#x6570;&amp;#xFF0C;&amp;#x4E5F;&amp;#x5C31;&amp;#x4E0D;&amp;#x80FD;&amp;#x81EA;&amp;#x5DF1;&amp;#x521B;&amp;#x5EFA;&amp;#x4E00;&amp;#x4E2A;&amp;#x76EE;&amp;#x5F55;&amp;#xFF0C;&amp;#x53EA;&amp;#x662F;&amp;#x8FD4;&amp;#x56DE;&amp;#x5916;&amp;#x90E8;&amp;#x5B58;&amp;#x50A8;&amp;#x7684;&amp;#x6839;&amp;#x8DEF;&amp;#x5F84;&amp;#xFF0C;&amp;#x7136;&amp;#x540E;&amp;#x81EA;&amp;#x884C;&amp;#x64CD;&amp;#x4F5C;&amp;#x3002;&lt;/p&gt;
&lt;h2 id=&quot;&amp;#x8DEF;&amp;#x5F84;&amp;#x793A;&amp;#x610F;&amp;#x56FE;&quot;&gt;&lt;a href=&quot;#&amp;#x8DEF;&amp;#x5F84;&amp;#x793A;&amp;#x610F;&amp;#x56FE;&quot; class=&quot;headerlink&quot; title=&quot;&amp;#x8DEF;&amp;#x5F84;&amp;#x793A;&amp;#x610F;&amp;#x56FE;&quot;&gt;&lt;/a&gt;&amp;#x8DEF;&amp;#x5F84;&amp;#x793A;&amp;#x610F;&amp;#x56FE;&lt;/h2&gt;&lt;img src=&quot;/2016/04/17/android-file-path/file_path.png&quot;&gt;
&lt;p&gt;&amp;#x6CE8;&amp;#x610F;&amp;#xFF1A;1. &lt;code&gt;Context.getExternalCacheDir()&lt;/code&gt;&amp;#x5F53;&amp;#x7A7A;&amp;#x95F4;&amp;#x4E0D;&amp;#x8DB3;&amp;#x65F6;&amp;#x4E0D;&amp;#x4F1A;&amp;#x5B9E;&amp;#x65F6;&amp;#x88AB;&amp;#x5220;&amp;#x9664;&amp;#xFF0C;&amp;#x53EF;&amp;#x80FD;&amp;#x8FD4;&amp;#x56DE;&amp;#x7A7A;&amp;#x5BF9;&amp;#x8C61;&amp;#xFF1B;2. &lt;code&gt;Context.getExternalFilesDir()&lt;/code&gt;&amp;#x4ECE;Android4.4&amp;#x4E4B;&amp;#x540E;&amp;#xFF0C;App&amp;#x4E0D;&amp;#x9700;&amp;#x8981;&amp;#x58F0;&amp;#x660E;&amp;#x8BFB;&amp;#x5199;&amp;#x6743;&amp;#x9650;&amp;#x5C31;&amp;#x53EF;&amp;#x8BBF;&amp;#x95EE;&amp;#xFF0C;&amp;#x5E76;&amp;#x4E14;&lt;code&gt;MediaStore&lt;/code&gt;&amp;#x4E0D;&amp;#x4F1A;&amp;#x626B;&amp;#x63CF;&amp;#x8BE5;&amp;#x8DEF;&amp;#x5F84;&amp;#x3002;&lt;code&gt;File&lt;/code&gt;&amp;#x7C7B;&amp;#x63D0;&amp;#x4F9B;&amp;#x4E24;&amp;#x4E2A;API&amp;#x7528;&amp;#x4E8E;&amp;#x83B7;&amp;#x53D6;&amp;#x7CFB;&amp;#x7EDF;&amp;#x5B58;&amp;#x50A8;&amp;#x7A7A;&amp;#x95F4;&amp;#x5927;&amp;#x5C0F;&amp;#xFF0C;&amp;#x5206;&amp;#x522B;&amp;#x662F;&amp;#xFF1A;&lt;code&gt;getFreeSpace()&lt;/code&gt;&amp;#x548C;&lt;code&gt;getTotalSpace()&lt;/code&gt;&amp;#xFF1B;&amp;#x56E0;&amp;#x4E3A;&amp;#x5728;&amp;#x5B58;&amp;#x50A8;&amp;#x7A7A;&amp;#x95F4;90%&amp;#x88AB;&amp;#x5360;&amp;#x7528;&amp;#x65F6;&amp;#xFF0C;&amp;#x5373;&amp;#x4F7F;&amp;#x6240;&amp;#x5B58;&amp;#x6587;&amp;#x4EF6;&amp;#x5C0F;&amp;#x4E8E;&amp;#x5269;&amp;#x4F59;&amp;#x7A7A;&amp;#x95F2;&amp;#x7A7A;&amp;#x95F4;&amp;#x4E5F;&amp;#x65E0;&amp;#x6CD5;&amp;#x4FDD;&amp;#x8BC1;&amp;#x6B63;&amp;#x786E;&amp;#x6267;&amp;#x884C;&amp;#xFF0C;&amp;#x56E0;&amp;#x4E3A;&amp;#x5B58;&amp;#x50A8;&amp;#x8FC7;&amp;#x7A0B;&amp;#x4E2D;&amp;#x6709;&amp;#x53EF;&amp;#x80FD;&amp;#x4EA7;&amp;#x751F;&amp;#x5927;&amp;#x91CF;&amp;#x7684;&amp;#x4E2D;&amp;#x95F4;&amp;#x6587;&amp;#x4EF6;&amp;#xFF0C;&amp;#x6240;&amp;#x4EE5;&amp;#x5B98;&amp;#x65B9;&amp;#x6587;&amp;#x4EF6;&amp;#x5EFA;&amp;#x8BAE;&amp;#x6CA1;&amp;#x5FC5;&amp;#x8981;&amp;#x68C0;&amp;#x6D4B;&amp;#x5269;&amp;#x4F59;&amp;#x7A7A;&amp;#x95F4;&amp;#xFF0C;&amp;#x53EA;&amp;#x9700;&amp;#x8981;&amp;#x6355;&amp;#x83B7;&lt;code&gt;IOException&lt;/code&gt;&amp;#x5E76;&amp;#x5904;&amp;#x7406;&amp;#x5373;&amp;#x53EF;&amp;#x3002;&lt;/p&gt;
&lt;h2 id=&quot;&amp;#x89E3;&amp;#x60D1;&amp;#x4E00;&amp;#x4E2A;&amp;#x8DEF;&amp;#x5F84;&amp;#x95EE;&amp;#x9898;&quot;&gt;&lt;a href=&quot;#&amp;#x89E3;&amp;#x60D1;&amp;#x4E00;&amp;#x4E2A;&amp;#x8DEF;&amp;#x5F84;&amp;#x95EE;&amp;#x9898;&quot; class=&quot;headerlink&quot; title=&quot;&amp;#x89E3;&amp;#x60D1;&amp;#x4E00;&amp;#x4E2A;&amp;#x8DEF;&amp;#x5F84;&amp;#x95EE;&amp;#x9898;&quot;&gt;&lt;/a&gt;&amp;#x89E3;&amp;#x60D1;&amp;#x4E00;&amp;#x4E2A;&amp;#x8DEF;&amp;#x5F84;&amp;#x95EE;&amp;#x9898;&lt;/h2&gt;&lt;p&gt;&amp;#x7528;&amp;#x4EE3;&amp;#x7801;&amp;#x67E5;&amp;#x770B;&amp;#x5404;&amp;#x4E2A;&amp;#x8DEF;&amp;#x5F84;&amp;#x540D;&amp;#x65F6;&amp;#x53D1;&amp;#x73B0;&amp;#x8F93;&amp;#x51FA;&amp;#x90FD;&amp;#x6709;&amp;#x4E2A;0&amp;#x7684;&amp;#x6587;&amp;#x4EF6;&amp;#x5C42;&amp;#x7EA7;&amp;#xFF0C;&amp;#x800C;&amp;#x4F7F;&amp;#x7528;&lt;code&gt;adb shell&lt;/code&gt;&amp;#x5374;&amp;#x770B;&amp;#x4E0D;&amp;#x5230;&amp;#x8BE5;&amp;#x8DEF;&amp;#x5F84;&amp;#x5C42;&amp;#x7EA7;(&amp;#x8FD9;&amp;#x4E00;&amp;#x90E8;&amp;#x5206;&amp;#x5185;&amp;#x5BB9;&amp;#x53C2;&amp;#x7167;&amp;#x7F51;&amp;#x4E0A;&amp;#x76F8;&amp;#x5173;Blog&amp;#xFF0C;&amp;#x5E76;&amp;#x6CA1;&amp;#x6709;&amp;#x67E5;&amp;#x770B;&amp;#x5168;&amp;#x90E8;&amp;#x76F8;&amp;#x5173;&amp;#x6E90;&amp;#x7801;)&amp;#x3002;&amp;#x7B80;&amp;#x5355;&amp;#x6765;&amp;#x8BF4;&amp;#xFF0C;Android4.2&amp;#x4E4B;&amp;#x540E;&amp;#xFF0C;Google&amp;#x641E;&amp;#x51FA;&amp;#x4E86;&amp;#x591A;&amp;#x7528;&amp;#x6237;&amp;#x7684;&amp;#x6982;&amp;#x5FF5;&amp;#xFF0C;0&amp;#x53EF;&amp;#x4EE5;&amp;#x7406;&amp;#x89E3;&amp;#x4E3A;&amp;#x4E3B;&amp;#x7528;&amp;#x6237;&amp;#xFF0C;&amp;#x7136;&amp;#x540E;&amp;#x4F9D;&amp;#x6B21;&amp;#x662F;10&amp;#x3001;11&amp;#x7B49;&amp;#xFF0C;&amp;#x5982;&amp;#x56FE;&amp;#x6240;&amp;#x793A;&amp;#xFF0C;&lt;code&gt;/data/media&lt;/code&gt;&amp;#x662F;&amp;#x5185;&amp;#x7F6E;SD&amp;#x5361;&amp;#x7684;&amp;#x6570;&amp;#x636E;&amp;#x5B58;&amp;#x50A8;&amp;#x4F4D;&amp;#x7F6E;&amp;#xFF0C;&amp;#x4F7F;&amp;#x7528;FUSE&amp;#x6280;&amp;#x672F;&amp;#x5C06;&amp;#x5176;&amp;#x865A;&amp;#x62DF;&amp;#x6210;&lt;code&gt;/dev/fuse&lt;/code&gt;&amp;#x8BBE;&amp;#x5907;&amp;#xFF0C;&amp;#x88AB;&amp;#x540C;&amp;#x65F6;&amp;#x6302;&amp;#x8F7D;&amp;#x5728;&lt;code&gt;/mnt&lt;/code&gt;&amp;#x7279;&amp;#x5B9A;&amp;#x76EE;&amp;#x5F55;&amp;#x4E0B;&amp;#x3002;&lt;/p&gt;
&lt;img src=&quot;/2016/04/17/android-file-path/pic_0.png&quot;&gt;
&lt;p&gt;&amp;#x4EE5;&amp;#x6211;&amp;#x7684;&amp;#x624B;&amp;#x673A;Nexus 5&amp;#x7B80;&amp;#x5355;&amp;#x67E5;&amp;#x770B;SD&amp;#x5361;&lt;code&gt;Mount&lt;/code&gt;&amp;#x7684;&amp;#x8BBE;&amp;#x7F6E;&amp;#x3002;&amp;#x9996;&amp;#x5148;&amp;#x770B;&amp;#x4E00;&amp;#x4E0B;&lt;code&gt;init.rc&lt;/code&gt;&amp;#x6587;&amp;#x4EF6;&amp;#xFF0C;&amp;#x5176;&amp;#x4E2D;&lt;code&gt;import /init.${ro.hardware}.rc&lt;/code&gt;&amp;#xFF1B;&amp;#x7136;&amp;#x540E;&amp;#x6211;&amp;#x4EEC;&amp;#x5728;&lt;code&gt;/dev/socket&lt;/code&gt;&amp;#x8F93;&amp;#x5165;&lt;code&gt;getprop&lt;/code&gt;&amp;#x770B;&amp;#x5230;&lt;code&gt;[ro.boot.hardware]: [hammerhead]&lt;/code&gt;&amp;#xFF0C;&amp;#x5B9E;&amp;#x9645;&amp;#x4E0A;&amp;#x6E90;&amp;#x7801;&amp;#x4E2D;&lt;code&gt;ro.hardware&lt;/code&gt;&amp;#x6700;&amp;#x540E;&amp;#x4F7F;&amp;#x7528;&amp;#x7684;&amp;#x662F;&lt;code&gt;ro.boot.hardwawre&lt;/code&gt;&amp;#x503C;&amp;#x3002;&amp;#x67E5;&amp;#x770B;&lt;code&gt;init.hammerhead.rc&lt;/code&gt;&amp;#x6587;&amp;#x4EF6;&amp;#xFF0C;&amp;#x5982;&amp;#x4E0B;&amp;#xFF1A;&lt;/p&gt;
&lt;img src=&quot;/2016/04/17/android-file-path/pic_1.png&quot;&gt;
&lt;p&gt;&amp;#x521B;&amp;#x5EFA;&amp;#x4E24;&amp;#x4E2A;&amp;#x5B58;&amp;#x50A8;&amp;#x76EE;&amp;#x5F55;&amp;#xFF0C;&amp;#x5176;&amp;#x4E2D;&amp;#xFF0C;&lt;code&gt;/mnt/shell/emulated&lt;/code&gt;&amp;#x662F;&amp;#x5B9E;&amp;#x9645;&amp;#x6302;&amp;#x8F7D;sdcard&amp;#x7684;&amp;#x76EE;&amp;#x5F55;&amp;#xFF0C;&lt;code&gt;/storage/emulated&lt;/code&gt;&amp;#x662F;&amp;#x6BCF;&amp;#x4E2A;&amp;#x7528;&amp;#x6237;&amp;#x4E3A;&amp;#x4ED6;&amp;#x4EEC;&amp;#x81EA;&amp;#x5DF1;&amp;#x6302;&amp;#x8F7D;sdcard&amp;#x7684;&amp;#x76EE;&amp;#x5F55;&amp;#x3002;SD&amp;#x5361;&amp;#x5B9E;&amp;#x9645;&amp;#x6302;&amp;#x8F7D;&amp;#x5230;&amp;#x7684;&amp;#x662F;&lt;code&gt;/mnt/shell/emulated/0&lt;/code&gt;&amp;#xFF0C; &amp;#x5176;&amp;#x4ED6;&amp;#x7684;&lt;code&gt;/storage/emulated/legacy/&lt;/code&gt;&amp;#xFF0C;&lt;code&gt;/sdcard/&lt;/code&gt;&amp;#xFF0C;&lt;code&gt;/mnt/sdcard/&lt;/code&gt;&amp;#x548C;&lt;code&gt;/storage/sdcard0/&lt;/code&gt;&amp;#x90FD;&amp;#x662F;&amp;#x5B83;&amp;#x7684;&amp;#x94FE;&amp;#x63A5;&amp;#x3002;Linux 2.6&amp;#x4E4B;&amp;#x540E;&amp;#x5F15;&amp;#x5165;&amp;#x4E86;&amp;#x4E00;&amp;#x4E2A;&amp;#x65B0;&amp;#x7684;&amp;#x6280;&amp;#x672F;&lt;code&gt;unshare&lt;/code&gt;&amp;#xFF0C;&amp;#x5B83;&amp;#x53EF;&amp;#x4EE5;&amp;#x4F7F;&amp;#x67D0;&amp;#x4E2A;&amp;#x5E94;&amp;#x7528;&amp;#x7A0B;&amp;#x5E8F;&amp;#x521B;&amp;#x5EFA;&amp;#x7684;&amp;#x6302;&amp;#x8F7D;&amp;#x70B9;&amp;#x7B49;&amp;#x4E0D;&amp;#x5171;&amp;#x4EAB;&amp;#xFF0C;&amp;#x53EA;&amp;#x6709;&amp;#x81EA;&amp;#x5DF1;&amp;#x53EF;&amp;#x89C1;&amp;#x3002;&lt;code&gt;dalvik_system_Zygote.cpp&lt;/code&gt;&amp;#x4E2D;&amp;#x7684;&lt;code&gt;mountEmulatedStorage()&lt;/code&gt;&amp;#x51FD;&amp;#x6570;&amp;#x4F1A;&amp;#x5728;&lt;code&gt;Zygote&lt;/code&gt;&amp;#x521B;&amp;#x5EFA;&amp;#x4E00;&amp;#x4E2A;&amp;#x65B0;&amp;#x7684;java&amp;#x8FDB;&amp;#x7A0B;&amp;#x65F6;&amp;#x8FD0;&amp;#x884C;&amp;#xFF0C;&amp;#x5148;&amp;#x5E94;&amp;#x7528;&lt;code&gt;unshare&lt;/code&gt;&amp;#xFF0C;&amp;#x7136;&amp;#x540E;&amp;#x518D;&amp;#x4EE5;&lt;code&gt;MS_BIND&lt;/code&gt;&amp;#x53C2;&amp;#x6570;&amp;#x628A;&lt;code&gt;/mnt/shell/emulated/0&lt;/code&gt;&amp;#x518D;&amp;#x6302;&amp;#x8F7D;&amp;#x5230;&lt;code&gt;/storage/emulated/0&lt;/code&gt;&amp;#x4E0B;&amp;#xFF1B;&amp;#x5176;&amp;#x4E2D;0&amp;#x662F;&amp;#x7528;&amp;#x6237;ID&amp;#xFF0C;&amp;#x65B0;&amp;#x5EFA;&amp;#x7528;&amp;#x6237;&amp;#x5F80;&amp;#x540E;&amp;#x6392;&amp;#xFF0C;&amp;#x6240;&amp;#x4EE5;&lt;code&gt;Environment&lt;/code&gt;&amp;#x5F97;&amp;#x5230;&lt;code&gt;external storage&lt;/code&gt;&amp;#x8DEF;&amp;#x5F84;&amp;#x4F1A;&amp;#x6709;&amp;#x7528;&amp;#x6237;ID&amp;#x8FD9;&amp;#x4E2A;&amp;#x5C42;&amp;#x7EA7;&amp;#x3002;&lt;code&gt;adb shell&lt;/code&gt;&amp;#x4E0D;&amp;#x662F;&amp;#x901A;&amp;#x8FC7; &lt;code&gt;Zygote&lt;/code&gt;&amp;#x6765;&amp;#x521B;&amp;#x5EFA;&amp;#x7684;&amp;#xFF0C;&amp;#x6CA1;&amp;#x6709;&amp;#x6B64;&amp;#x6302;&amp;#x8F7D;&amp;#x70B9;&amp;#xFF0C;&amp;#x6240;&amp;#x4EE5;&amp;#x4E0D;&amp;#x80FD;&amp;#x8BBF;&amp;#x95EE;&lt;code&gt;/storage/emulated/0&lt;/code&gt;&amp;#x3002;&lt;/p&gt;
&lt;h2 id=&quot;&amp;#x53C2;&amp;#x8003;&quot;&gt;&lt;a href=&quot;#&amp;#x53C2;&amp;#x8003;&quot; class=&quot;headerlink&quot; title=&quot;&amp;#x53C2;&amp;#x8003;&quot;&gt;&lt;/a&gt;&amp;#x53C2;&amp;#x8003;&lt;/h2&gt;&lt;ol&gt;
&lt;li&gt;&lt;a href=&quot;http://developer.android.com/training/basics/data-storage/files.html&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;http://developer.android.com/training/basics/data-storage/files.html&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://source.android.com/devices/storage/index.html&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;https://source.android.com/devices/storage/index.html&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;http://developer.android.com/guide/topics/data/data-storage.html#filesInternal&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;http://developer.android.com/guide/topics/data/data-storage.html#filesInternal&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;http://www.code06.com/mobile/xuhui_7810/78048.html&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;http://www.code06.com/mobile/xuhui_7810/78048.html&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;http://zzqhost.com/?post=15&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;http://zzqhost.com/?post=15&lt;/a&gt;&lt;/li&gt;
&lt;/ol&gt;
</content>
    
    <summary type="html">
    
      &lt;!-- toc --&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;#internal-storage&quot;&gt;Internal Storage&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;#external-storage&quot;&gt;External Storage&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;#路径示意图&quot;&gt;路径示意图&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;#解惑一个路径问题&quot;&gt;解惑一个路径问题&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;#参考&quot;&gt;参考&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;!-- tocstop --&gt;
&lt;p&gt;Android有两种文件存储空间：内部存储(&lt;code&gt;internal storage&lt;/code&gt;)和外部存储(&lt;code&gt;external storage&lt;/code&gt;)，这主要是因为早期Android设备存储主要由内置的非易失性内存和可插拔的存储(比如&lt;code&gt;micro SD&lt;/code&gt;卡)两部分组成，而随着现在设备提供商把存储都内置到手机中，已经没有外部存储一说了，但系统级别还是保持这两种存储空间。&lt;/p&gt;
&lt;h2 id=&quot;Internal-Storage&quot;&gt;&lt;a href=&quot;#Internal-Storage&quot; class=&quot;headerlink&quot; title=&quot;Internal Storage&quot;&gt;&lt;/a&gt;Internal Storage&lt;/h2&gt;&lt;p&gt;&lt;code&gt;Internal storage&lt;/code&gt;总是可用的，默认只允许你的App访问，当用户删除App时，系统会自动把&lt;code&gt;internal storage&lt;/code&gt;数据一并清除。App安装时默认安装在&lt;code&gt;internal storage&lt;/code&gt;，但是可以在&lt;code&gt;manifest&lt;/code&gt;文件中指定属性&lt;code&gt;android:installLocation&lt;/code&gt;进行改变。从技术上来讲如果你在创建内部存储文件的时候将文件属性设置成可读，其他App能够访问自己应用的数据，前提是他知道你这个应用的包名，如果一个文件的属性是私有(private)，那么即使知道包名其他应用也无法访问。&lt;code&gt;Internal storage&lt;/code&gt;大小相对比较宝贵，其大小由设备提供商根据官方推荐的最小值进行设定，可以从官方提供的&lt;a href=&quot;http://static.googleusercontent.com/media/source.android.com/zh-CN//compatibility/android-cdd.pdf&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;compatibility document&lt;/a&gt; 7.6节查看，但并没有规定单个App最大可以使用多少。
    
    </summary>
    
      <category term="Android学习笔记" scheme="http://yoursite.com/categories/Android%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/"/>
    
    
      <category term="Android" scheme="http://yoursite.com/tags/Android/"/>
    
  </entry>
  
  <entry>
    <title>APK签名原理解析</title>
    <link href="http://yoursite.com/2016/04/17/apk-sign-theroy/"/>
    <id>http://yoursite.com/2016/04/17/apk-sign-theroy/</id>
    <published>2016-04-16T16:48:32.000Z</published>
    <updated>2016-04-16T17:00:43.000Z</updated>
    
    <content type="html">&lt;!-- toc --&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;#&amp;#x76F8;&amp;#x5173;&amp;#x6982;&amp;#x5FF5;&quot;&gt;&amp;#x76F8;&amp;#x5173;&amp;#x6982;&amp;#x5FF5;&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;#&amp;#x7B7E;&amp;#x540D;&amp;#x539F;&amp;#x7406;&quot;&gt;&amp;#x7B7E;&amp;#x540D;&amp;#x539F;&amp;#x7406;&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;#&amp;#x9A8C;&amp;#x8BC1;&amp;#x8FC7;&amp;#x7A0B;&quot;&gt;&amp;#x9A8C;&amp;#x8BC1;&amp;#x8FC7;&amp;#x7A0B;&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;#&amp;#x53C2;&amp;#x8003;&quot;&gt;&amp;#x53C2;&amp;#x8003;&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;!-- tocstop --&gt;
&lt;h2 id=&quot;&amp;#x76F8;&amp;#x5173;&amp;#x6982;&amp;#x5FF5;&quot;&gt;&lt;a href=&quot;#&amp;#x76F8;&amp;#x5173;&amp;#x6982;&amp;#x5FF5;&quot; class=&quot;headerlink&quot; title=&quot;&amp;#x76F8;&amp;#x5173;&amp;#x6982;&amp;#x5FF5;&quot;&gt;&lt;/a&gt;&amp;#x76F8;&amp;#x5173;&amp;#x6982;&amp;#x5FF5;&lt;/h2&gt;&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;Message Digest(&amp;#x6570;&amp;#x5B57;&amp;#x6458;&amp;#x8981;)&lt;/strong&gt;&lt;br&gt;&amp;#x5C06;&amp;#x4EFB;&amp;#x610F;&amp;#x957F;&amp;#x5EA6;&amp;#x7684;&amp;#x6D88;&amp;#x606F;&amp;#x53D8;&amp;#x6210;&amp;#x56FA;&amp;#x5B9A;&amp;#x957F;&amp;#x5EA6;&amp;#x7684;&amp;#x77ED;&amp;#x6D88;&amp;#x606F;&amp;#xFF0C;&amp;#x5B83;&amp;#x7C7B;&amp;#x4F3C;&amp;#x4E8E;&amp;#x4E00;&amp;#x4E2A;&amp;#x81EA;&amp;#x53D8;&amp;#x91CF;&amp;#x662F;&amp;#x6D88;&amp;#x606F;&amp;#x7684;&amp;#x51FD;&amp;#x6570;&amp;#xFF0C;&amp;#x4E5F;&amp;#x5C31;&amp;#x662F;Hash&amp;#x51FD;&amp;#x6570;&amp;#x3002;&amp;#x6570;&amp;#x5B57;&amp;#x6458;&amp;#x8981;&amp;#x662F;&amp;#x91C7;&amp;#x7528;&amp;#x5355;&amp;#x9879;Hash&amp;#x51FD;&amp;#x6570;&amp;#x5C06;&amp;#x9700;&amp;#x8981;&amp;#x52A0;&amp;#x5BC6;&amp;#x7684;&amp;#x660E;&amp;#x6587;&amp;#x201C;&amp;#x6458;&amp;#x8981;&amp;#x201D;&amp;#x6210;&amp;#x4E00;&amp;#x4E32;&amp;#x56FA;&amp;#x5B9A;&amp;#x957F;&amp;#x5EA6;(128&amp;#x4F4D;)&amp;#x7684;&amp;#x5BC6;&amp;#x6587;&amp;#x8FD9;&amp;#x4E00;&amp;#x4E32;&amp;#x5BC6;&amp;#x6587;&amp;#x53C8;&amp;#x79F0;&amp;#x4E3A;&amp;#x6570;&amp;#x5B57;&amp;#x6307;&amp;#x7EB9;&amp;#xFF0C;&amp;#x5B83;&amp;#x6709;&amp;#x56FA;&amp;#x5B9A;&amp;#x7684;&amp;#x957F;&amp;#x5EA6;&amp;#xFF0C;&amp;#x800C;&amp;#x4E14;&amp;#x4E0D;&amp;#x540C;&amp;#x7684;&amp;#x660E;&amp;#x6587;&amp;#x6458;&amp;#x8981;&amp;#x6210;&amp;#x5BC6;&amp;#x6587;&amp;#xFF0C;&amp;#x5176;&amp;#x7ED3;&amp;#x679C;&amp;#x603B;&amp;#x662F;&amp;#x4E0D;&amp;#x540C;&amp;#x7684;&amp;#xFF0C;&amp;#x800C;&amp;#x540C;&amp;#x6837;&amp;#x7684;&amp;#x660E;&amp;#x6587;&amp;#x5176;&amp;#x6458;&amp;#x8981;&amp;#x5FC5;&amp;#x5B9A;&amp;#x4E00;&amp;#x81F4;&amp;#x3002;&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Signature(&amp;#x6570;&amp;#x5B57;&amp;#x7B7E;&amp;#x540D;)&lt;/strong&gt;&lt;br&gt;&amp;#x6570;&amp;#x5B57;&amp;#x7B7E;&amp;#x540D;&amp;#x662F;&amp;#x975E;&amp;#x5BF9;&amp;#x79F0;&amp;#x5BC6;&amp;#x94A5;&amp;#x52A0;&amp;#x5BC6;&amp;#x6280;&amp;#x672F;&amp;#x4E0E;&amp;#x6570;&amp;#x5B57;&amp;#x6458;&amp;#x8981;&amp;#x6280;&amp;#x672F;&amp;#x7684;&amp;#x5E94;&amp;#x7528;&amp;#x3002;&amp;#x5C06;&amp;#x4FE1;&amp;#x606F;&amp;#x6458;&amp;#x8981;&amp;#x7528;&amp;#x53D1;&amp;#x9001;&amp;#x8005;&amp;#x7684;&amp;#x79C1;&amp;#x94A5;&amp;#x52A0;&amp;#x5BC6;&amp;#xFF0C;&amp;#x4E0E;&amp;#x539F;&amp;#x6587;&amp;#x4E00;&amp;#x8D77;&amp;#x4F20;&amp;#x9001;&amp;#x7ED9;&amp;#x63A5;&amp;#x6536;&amp;#x8005;&amp;#x3002;&amp;#x63A5;&amp;#x6536;&amp;#x8005;&amp;#x53EA;&amp;#x6709;&amp;#x7528;&amp;#x53D1;&amp;#x9001;&amp;#x8005;&amp;#x7684;&amp;#x516C;&amp;#x94A5;&amp;#x624D;&amp;#x80FD;&amp;#x89E3;&amp;#x5BC6;&amp;#x88AB;&amp;#x52A0;&amp;#x5BC6;&amp;#x7684;&amp;#x4FE1;&amp;#x606F;&amp;#x6458;&amp;#x8981;&amp;#xFF0C;&amp;#x7136;&amp;#x540E;&amp;#x63A5;&amp;#x6536;&amp;#x8005;&amp;#x7528;&amp;#x76F8;&amp;#x540C;&amp;#x7684;Hash&amp;#x51FD;&amp;#x6570;&amp;#x5BF9;&amp;#x6536;&amp;#x5230;&amp;#x7684;&amp;#x539F;&amp;#x6587;&amp;#x4EA7;&amp;#x751F;&amp;#x4E00;&amp;#x4E2A;&amp;#x4FE1;&amp;#x606F;&amp;#x6458;&amp;#x8981;&amp;#xFF0C;&amp;#x4E0E;&amp;#x89E3;&amp;#x5BC6;&amp;#x7684;&amp;#x4FE1;&amp;#x606F;&amp;#x6458;&amp;#x8981;&amp;#x505A;&amp;#x6BD4;&amp;#x5BF9;&amp;#x3002;&amp;#x5982;&amp;#x679C;&amp;#x76F8;&amp;#x540C;&amp;#xFF0C;&amp;#x5219;&amp;#x8BF4;&amp;#x660E;&amp;#x6536;&amp;#x5230;&amp;#x7684;&amp;#x4FE1;&amp;#x606F;&amp;#x662F;&amp;#x5B8C;&amp;#x6574;&amp;#x7684;&amp;#xFF0C;&amp;#x5728;&amp;#x4F20;&amp;#x8F93;&amp;#x8FC7;&amp;#x7A0B;&amp;#x4E2D;&amp;#x6CA1;&amp;#x6709;&amp;#x88AB;&amp;#x4FEE;&amp;#x6539;&amp;#xFF1B;&amp;#x4E0D;&amp;#x540C;&amp;#x5219;&amp;#x8BF4;&amp;#x660E;&amp;#x4FE1;&amp;#x606F;&amp;#x88AB;&amp;#x4FEE;&amp;#x6539;&amp;#x8FC7;&amp;#xFF0C;&amp;#x56E0;&amp;#x6B64;&amp;#x6570;&amp;#x5B57;&amp;#x7B7E;&amp;#x540D;&amp;#x80FD;&amp;#x4FDD;&amp;#x8BC1;&amp;#x4FE1;&amp;#x606F;&amp;#x7684;&amp;#x5B8C;&amp;#x6574;&amp;#x6027;&amp;#x3002;&amp;#x5E76;&amp;#x4E14;&amp;#x7531;&amp;#x4E8E;&amp;#x53EA;&amp;#x6709;&amp;#x53D1;&amp;#x9001;&amp;#x8005;&amp;#x624D;&amp;#x6709;&amp;#x52A0;&amp;#x5BC6;&amp;#x6458;&amp;#x8981;&amp;#x7684;&amp;#x79C1;&amp;#x94A5;&amp;#xFF0C;&amp;#x6240;&amp;#x4EE5;&amp;#x6211;&amp;#x4EEC;&amp;#x53EF;&amp;#x4EE5;&amp;#x786E;&amp;#x5B9A;&amp;#x4FE1;&amp;#x606F;&amp;#x4E00;&amp;#x5B9A;&amp;#x662F;&amp;#x53D1;&amp;#x9001;&amp;#x8005;&amp;#x53D1;&amp;#x9001;&amp;#x7684;(&amp;#x53D1;&amp;#x9001;&amp;#x8005;&amp;#x7684;&amp;#x8EAB;&amp;#x4EFD;&amp;#x8BA4;&amp;#x8BC1;)&amp;#x3002;&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Certification(&amp;#x6570;&amp;#x5B57;&amp;#x8BC1;&amp;#x4E66;)&lt;/strong&gt;&lt;br&gt;&amp;#x6570;&amp;#x5B57;&amp;#x8BC1;&amp;#x4E66;&amp;#x662F;&amp;#x4E00;&amp;#x4E2A;&amp;#x7ECF;&amp;#x8BC1;&amp;#x4E66;&amp;#x6388;&amp;#x6743;&amp;#x4E2D;&amp;#x5FC3;&amp;#x6570;&amp;#x5B57;&amp;#x7B7E;&amp;#x540D;&amp;#x7684;&amp;#x5305;&amp;#x542B;&amp;#x516C;&amp;#x5F00;&amp;#x5BC6;&amp;#x94A5;&amp;#x62E5;&amp;#x6709;&amp;#x8005;&amp;#x4FE1;&amp;#x606F;&amp;#x4EE5;&amp;#x53CA;&amp;#x516C;&amp;#x5F00;&amp;#x5BC6;&amp;#x94A5;&amp;#x7684;&amp;#x6587;&amp;#x4EF6;&amp;#x3002;&amp;#x6700;&amp;#x7B80;&amp;#x5355;&amp;#x7684;&amp;#x8BC1;&amp;#x4E66;&amp;#x5305;&amp;#x542B;&amp;#x4E00;&amp;#x4E2A;&amp;#x516C;&amp;#x5F00;&amp;#x5BC6;&amp;#x94A5;&amp;#x3001;&amp;#x540D;&amp;#x79F0;&amp;#x4EE5;&amp;#x53CA;&amp;#x8BC1;&amp;#x4E66;&amp;#x6388;&amp;#x6743;&amp;#x4E2D;&amp;#x5FC3;&amp;#x7684;&amp;#x6570;&amp;#x5B57;&amp;#x7B7E;&amp;#x540D;&amp;#x3002;&amp;#x6570;&amp;#x5B57;&amp;#x8BC1;&amp;#x4E66;&amp;#x8FD8;&amp;#x6709;&amp;#x4E00;&amp;#x4E2A;&amp;#x91CD;&amp;#x8981;&amp;#x7684;&amp;#x7279;&amp;#x5F81;&amp;#x5C31;&amp;#x662F;&amp;#x53EA;&amp;#x5728;&amp;#x7279;&amp;#x5B9A;&amp;#x7684;&amp;#x65F6;&amp;#x95F4;&amp;#x6BB5;&amp;#x5185;&amp;#x6709;&amp;#x6548;&amp;#x3002;&lt;a id=&quot;more&quot;&gt;&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Certification Authority(CA&amp;#x673A;&amp;#x6784;)&lt;/strong&gt;&lt;br&gt;&amp;#x53D7;&amp;#x4FE1;&amp;#x4EFB;&amp;#x7684;&amp;#x7B2C;&amp;#x4E09;&amp;#x65B9;&amp;#xFF0C;&amp;#x627F;&amp;#x62C5;&amp;#x516C;&amp;#x94A5;&amp;#x4F53;&amp;#x7CFB;&amp;#x4E2D;&amp;#x516C;&amp;#x94A5;&amp;#x7684;&amp;#x5408;&amp;#x6CD5;&amp;#x6027;&amp;#x68C0;&amp;#x9A8C;&amp;#x7684;&amp;#x8D23;&amp;#x4EFB;&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;&amp;#x6839;&amp;#x8BC1;&amp;#x4E66;&lt;/strong&gt;&lt;br&gt;&amp;#x662F;&amp;#x672A;&amp;#x88AB;&amp;#x7B7E;&amp;#x540D;&amp;#x7684;&amp;#x516C;&amp;#x94A5;&amp;#x8BC1;&amp;#x4E66;&amp;#x6216;&amp;#x81EA;&amp;#x7B7E;&amp;#x540D;&amp;#x7684;&amp;#x8BC1;&amp;#x4E66;;&amp;#x662F;CA&amp;#x8BA4;&amp;#x8BC1;&amp;#x4E2D;&amp;#x5FC3;&amp;#x7ED9;&amp;#x81EA;&amp;#x5DF1;&amp;#x9881;&amp;#x53D1;&amp;#x7684;&amp;#x8BC1;&amp;#x4E66;&amp;#xFF0C;&amp;#x662F;&amp;#x4FE1;&amp;#x4EFB;&amp;#x94FE;&amp;#x7684;&amp;#x8D77;&amp;#x59CB;&amp;#x70B9;&amp;#x3002;&amp;#x5B89;&amp;#x88C5;&amp;#x6839;&amp;#x8BC1;&amp;#x4E66;&amp;#x610F;&amp;#x5473;&amp;#x7740;&amp;#x5BF9;&amp;#x8FD9;&amp;#x4E2A;CA&amp;#x8BA4;&amp;#x8BC1;&amp;#x4E2D;&amp;#x5FC3;&amp;#x7684;&amp;#x4FE1;&amp;#x4EFB;&amp;#x3002;&amp;#x7528;&amp;#x6237;&amp;#x5728;&amp;#x4F7F;&amp;#x7528;&amp;#x81EA;&amp;#x5DF1;&amp;#x7684;&amp;#x6570;&amp;#x5B57;&amp;#x8BC1;&amp;#x4E66;&amp;#x4E4B;&amp;#x524D;&amp;#x5FC5;&amp;#x987B;&amp;#x5148;&amp;#x4E0B;&amp;#x8F7D;&amp;#x6839;&amp;#x8BC1;&amp;#x4E66;&amp;#x3002;&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;&amp;#x6570;&amp;#x5B57;&amp;#x8BC1;&amp;#x4E66;&amp;#x683C;&amp;#x5F0F;(&amp;#x666E;&amp;#x904D;&amp;#x91C7;&amp;#x7528;X.509V3&amp;#x6807;&amp;#x51C6;)&lt;/strong&gt;  &lt;/li&gt;
&lt;li&gt;&lt;strong&gt;&amp;#x6570;&amp;#x5B57;&amp;#x8BC1;&amp;#x4E66;&amp;#x5B58;&amp;#x50A8;&amp;#x683C;&amp;#x5F0F;&lt;/strong&gt;&lt;br&gt;&amp;#x5E26;&amp;#x6709;&amp;#x79C1;&amp;#x94A5;&amp;#x7684;&amp;#x8BC1;&amp;#x4E66;&amp;#x7531;Public Key Cryptography Standards #12(PKCS#12)&amp;#x6807;&amp;#x51C6;&amp;#x5B9A;&amp;#x4E49;&amp;#xFF0C;&amp;#x5305;&amp;#x542B;&amp;#x4E86;&amp;#x516C;&amp;#x94A5;&amp;#x548C;&amp;#x79C1;&amp;#x94A5;&amp;#x7684;&amp;#x4E8C;&amp;#x8FDB;&amp;#x5236;&amp;#x683C;&amp;#x5F0F;&amp;#x7684;&amp;#x8BC1;&amp;#x4E66;&amp;#x5F62;&amp;#x5F0F;&amp;#xFF0C;&amp;#x4EE5;pfx&amp;#x4F5C;&amp;#x4E3A;&amp;#x8BC1;&amp;#x4E66;&amp;#x6587;&amp;#x4EF6;&amp;#x540E;&amp;#x7F00;&amp;#x540D;&amp;#x3002;&lt;br&gt;&amp;#x4E8C;&amp;#x8FDB;&amp;#x5236;&amp;#x7F16;&amp;#x7801;&amp;#x7684;&amp;#x8BC1;&amp;#x4E66;&amp;#x4E2D;&amp;#x6CA1;&amp;#x6709;&amp;#x79C1;&amp;#x94A5;&amp;#xFF0C;DER&amp;#x7F16;&amp;#x7801;&amp;#x4E8C;&amp;#x8FDB;&amp;#x5236;&amp;#x683C;&amp;#x5F0F;&amp;#x7684;&amp;#x8BC1;&amp;#x4E66;&amp;#x6587;&amp;#x4EF6;&amp;#xFF0C;&amp;#x4EE5;cer&amp;#x4F5C;&amp;#x4E3A;&amp;#x8BC1;&amp;#x4E66;&amp;#x6587;&amp;#x4EF6;&amp;#x540E;&amp;#x7F00;&amp;#x540D;&amp;#x3002;&lt;br&gt;Base64&amp;#x7F16;&amp;#x7801;&amp;#x7684;&amp;#x8BC1;&amp;#x4E66;&amp;#x4E2D;&amp;#x6CA1;&amp;#x6709;&amp;#x79C1;&amp;#x94A5;&amp;#xFF0C;BASE64&amp;#x7F16;&amp;#x7801;&amp;#x683C;&amp;#x5F0F;&amp;#x7684;&amp;#x8BC1;&amp;#x4E66;&amp;#x6587;&amp;#x4EF6;&amp;#xFF0C;&amp;#x4EE5;cer&amp;#x4F5C;&amp;#x4E3A;&amp;#x8BC1;&amp;#x4E66;&amp;#x6587;&amp;#x4EF6;&amp;#x540E;&amp;#x7F00;&amp;#x540D;&amp;#x3002;&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&quot;&amp;#x7B7E;&amp;#x540D;&amp;#x539F;&amp;#x7406;&quot;&gt;&lt;a href=&quot;#&amp;#x7B7E;&amp;#x540D;&amp;#x539F;&amp;#x7406;&quot; class=&quot;headerlink&quot; title=&quot;&amp;#x7B7E;&amp;#x540D;&amp;#x539F;&amp;#x7406;&quot;&gt;&lt;/a&gt;&amp;#x7B7E;&amp;#x540D;&amp;#x539F;&amp;#x7406;&lt;/h2&gt;&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;&amp;#x7B7E;&amp;#x540D;&amp;#x76EE;&amp;#x7684;&lt;/strong&gt;&lt;br&gt;&amp;#x4E3A;&amp;#x4E86;&amp;#x4FDD;&amp;#x8BC1;&amp;#x6BCF;&amp;#x4E2A;&amp;#x5E94;&amp;#x7528;&amp;#x7A0B;&amp;#x5E8F;&amp;#x5F00;&amp;#x53D1;&amp;#x5546;&amp;#x5408;&amp;#x6CD5;ID&amp;#xFF0C;&amp;#x9632;&amp;#x6B62;&amp;#x90E8;&amp;#x5206;&amp;#x5F00;&amp;#x653E;&amp;#x5546;&amp;#x53EF;&amp;#x80FD;&amp;#x901A;&amp;#x8FC7;&amp;#x4F7F;&amp;#x7528;&amp;#x76F8;&amp;#x540C;&amp;#x7684;Package Name&amp;#x6765;&amp;#x6DF7;&amp;#x6DC6;&amp;#x66FF;&amp;#x6362;&amp;#x5DF2;&amp;#x7ECF;&amp;#x5B89;&amp;#x88C5;&amp;#x7684;&amp;#x7A0B;&amp;#x5E8F;&amp;#xFF0C;&amp;#x6211;&amp;#x4EEC;&amp;#x9700;&amp;#x8981;&amp;#x5BF9;&amp;#x6211;&amp;#x4EEC;&amp;#x53D1;&amp;#x5E03;&amp;#x7684;APK&amp;#x6587;&amp;#x4EF6;&amp;#x8FDB;&amp;#x884C;&amp;#x552F;&amp;#x4E00;&amp;#x7B7E;&amp;#x540D;&amp;#xFF0C;&amp;#x4FDD;&amp;#x8BC1;&amp;#x6211;&amp;#x4EEC;&amp;#x6BCF;&amp;#x6B21;&amp;#x53D1;&amp;#x5E03;&amp;#x7684;&amp;#x7248;&amp;#x672C;&amp;#x7684;&amp;#x4E00;&amp;#x81F4;&amp;#x6027;(&amp;#x5982;&amp;#x81EA;&amp;#x52A8;&amp;#x66F4;&amp;#x65B0;&amp;#x4E0D;&amp;#x4F1A;&amp;#x56E0;&amp;#x4E3A;&amp;#x7248;&amp;#x672C;&amp;#x4E0D;&amp;#x4E00;&amp;#x81F4;&amp;#x800C;&amp;#x65E0;&amp;#x6CD5;&amp;#x5B89;&amp;#x88C5;)&amp;#xFF1B;&amp;#x4E5F;&amp;#x5C31;&amp;#x662F;&amp;#x8BF4;Android&amp;#x4E0D;&amp;#x5141;&amp;#x8BB8;&amp;#x6709;&amp;#x5305;&amp;#x540D;&amp;#x76F8;&amp;#x540C;&amp;#x7684;&amp;#x5E94;&amp;#x7528;&amp;#x540C;&amp;#x65F6;&amp;#x5B58;&amp;#x5728;&amp;#x624B;&amp;#x673A;&amp;#x4E2D;&amp;#xFF1B;&amp;#x540C;&amp;#x65F6;&amp;#xFF0C;&amp;#x5728;&amp;#x6743;&amp;#x9650;&amp;#x68C0;&amp;#x67E5;&amp;#x65B9;&amp;#x9762;&amp;#xFF0C;&amp;#x5BF9;&amp;#x4E8E;&amp;#x7533;&amp;#x8BF7;&amp;#x6743;&amp;#x9650;&amp;#x7684;  protection level &amp;#x4E3A; signature &amp;#x6216;&amp;#x8005; signatureOrSystem &amp;#x7684;&amp;#xFF0C;&amp;#x4F1A;&amp;#x68C0;&amp;#x67E5;&amp;#x6743;&amp;#x9650;&amp;#x7533;&amp;#x8BF7;&amp;#x8005;&amp;#x548C;&amp;#x6743;&amp;#x9650;&amp;#x58F0;&amp;#x660E;&amp;#x8005;&amp;#x7684;&amp;#x8BC1;&amp;#x4E66;&amp;#x662F;&amp;#x5426;&amp;#x662F;&amp;#x4E00;&amp;#x81F4;&amp;#x7684;&amp;#x3002;&lt;br&gt;Android&amp;#x8981;&amp;#x6C42;&amp;#x6240;&amp;#x6709;&amp;#x5DF2;&amp;#x5B89;&amp;#x88C5;&amp;#x7684;&amp;#x5E94;&amp;#x7528;&amp;#x7A0B;&amp;#x5E8F;&amp;#x90FD;&amp;#x4F7F;&amp;#x7528;&amp;#x6570;&amp;#x5B57;&amp;#x8BC1;&amp;#x4E66;&amp;#x505A;&amp;#x7B7E;&amp;#x540D;&amp;#xFF0C;&amp;#x6570;&amp;#x5B57;&amp;#x8BC1;&amp;#x4E66;&amp;#x7684;&amp;#x79C1;&amp;#x94A5;&amp;#x7531;&amp;#x5E94;&amp;#x7528;&amp;#x5F00;&amp;#x53D1;&amp;#x8005;&amp;#x6301;&amp;#x6709;&amp;#x3002;&amp;#x8BC1;&amp;#x4E66;&amp;#x4E0D;&amp;#x9700;&amp;#x8981;&amp;#x8BC1;&amp;#x4E66;&amp;#x8BA4;&amp;#x8BC1;&amp;#x4E2D;&amp;#x5FC3;&amp;#x7B7E;&amp;#x540D;&amp;#xFF0C;&amp;#x662F;&amp;#x81EA;&amp;#x7B7E;&amp;#x540D;&amp;#x8BC1;&amp;#x4E66;&amp;#xFF01;&amp;#x6CA1;&amp;#x6709;&amp;#x6B63;&amp;#x786E;&amp;#x7B7E;&amp;#x540D;&amp;#x7684;&amp;#x5E94;&amp;#x7528;&amp;#xFF0C;Android&amp;#x7CFB;&amp;#x7EDF;&amp;#x4E0D;&amp;#x4F1A;&amp;#x5B89;&amp;#x88C5;&amp;#x6216;&amp;#x8FD0;&amp;#x884C;&amp;#xFF1B;&amp;#x6570;&amp;#x5B57;&amp;#x8BC1;&amp;#x4E66;&amp;#x662F;&amp;#x6709;&amp;#x6709;&amp;#x6548;&amp;#x671F;&amp;#x7684;&amp;#xFF0C;&amp;#x5E94;&amp;#x8BE5;&amp;#x6BD4;&amp;#x6240;&amp;#x6709;&amp;#x7528;&amp;#x8FD9;&amp;#x4E2A;&amp;#x8BC1;&amp;#x4E66;&amp;#x7B7E;&amp;#x540D;&amp;#x7684;&amp;#x5E94;&amp;#x7528;&amp;#x5BFF;&amp;#x547D;&amp;#x957F;&amp;#xFF0C;&amp;#x4E0D;&amp;#x7136;&amp;#x4E00;&amp;#x65E6;&amp;#x8BC1;&amp;#x4E66;&amp;#x5931;&amp;#x6548;&amp;#xFF0C;&amp;#x6301;&amp;#x6709;&amp;#x6570;&amp;#x5B57;&amp;#x8BC1;&amp;#x4E66;&amp;#x7684;&amp;#x7A0B;&amp;#x5E8F;&amp;#x65E0;&amp;#x6CD5;&amp;#x6B63;&amp;#x5E38;&amp;#x5347;&amp;#x7EA7;&amp;#xFF1B;Android Market&amp;#x8981;&amp;#x6C42;&amp;#x6240;&amp;#x6709;&amp;#x5E94;&amp;#x7528;&amp;#x6570;&amp;#x5B57;&amp;#x8BC1;&amp;#x4E66;&amp;#x6709;&amp;#x6548;&amp;#x671F;&amp;#x6301;&amp;#x7EED;&amp;#x5230;2033&amp;#x5E74;10&amp;#x6708;22&amp;#x65E5;&amp;#x4EE5;&amp;#x540E;&amp;#x3002;&lt;br&gt;Keytool&amp;#x662F;&amp;#x7528;&amp;#x6765;&amp;#x7BA1;&amp;#x7406;&amp;#x79C1;&amp;#x94A5;&amp;#x4ED3;&amp;#x5E93;(keystore)&amp;#x548C;&amp;#x4E0E;&amp;#x4E4B;&amp;#x76F8;&amp;#x5173;X.509&amp;#x8BC1;&amp;#x4E66;&amp;#x94FE;&amp;#xFF0C;&amp;#x662F;&amp;#x4E2A;&amp;#x5BC6;&amp;#x94A5;&amp;#x548C;&amp;#x8BC1;&amp;#x4E66;&amp;#x7BA1;&amp;#x7406;&amp;#x5DE5;&amp;#x5177;&amp;#x3002;&amp;#x5B83;&amp;#x4F7F;&amp;#x7528;&amp;#x6237;&amp;#x80FD;&amp;#x591F;&amp;#x7BA1;&amp;#x7406;&amp;#x81EA;&amp;#x5DF1;&amp;#x7684;&amp;#x516C;&amp;#x94A5;/&amp;#x79C1;&amp;#x94A5;&amp;#x5BF9;&amp;#x53CA;&amp;#x76F8;&amp;#x5173;&amp;#x8BC1;&amp;#x4E66;&amp;#xFF0C;&amp;#x7528;&amp;#x4E8E;&amp;#xFF08;&amp;#x901A;&amp;#x8FC7;&amp;#x6570;&amp;#x5B57;&amp;#x7B7E;&amp;#x540D;&amp;#xFF09;&amp;#x81EA;&amp;#x6211;&amp;#x8BA4;&amp;#x8BC1;&amp;#xFF08;&amp;#x7528;&amp;#x6237;&amp;#x5411;&amp;#x522B;&amp;#x7684;&amp;#x7528;&amp;#x6237;/&amp;#x670D;&amp;#x52A1;&amp;#x8BA4;&amp;#x8BC1;&amp;#x81EA;&amp;#x5DF1;&amp;#xFF09;&amp;#x6216;&amp;#x6570;&amp;#x636E;&amp;#x5B8C;&amp;#x6574;&amp;#x6027;&amp;#x4EE5;&amp;#x53CA;&amp;#x8BA4;&amp;#x8BC1;&amp;#x670D;&amp;#x52A1;&amp;#xFF0C;&amp;#x901A;&amp;#x5E38;&amp;#x5B58;&amp;#x5728;keystore&amp;#x6587;&amp;#x4EF6;&amp;#x4E2D;&amp;#x3002;&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Debug&amp;#x7B7E;&amp;#x540D;&lt;/strong&gt;&lt;br&gt;Eclipse ADT &amp;#x6216;&amp;#x8005; android studio&amp;#x8C03;&amp;#x8BD5;&amp;#x65F6;&amp;#xFF0C;&amp;#x4F7F;&amp;#x7528;debug&amp;#x7B7E;&amp;#x540D;&amp;#xFF0C;&amp;#x9ED8;&amp;#x8BA4;&amp;#x8DEF;&amp;#x5F84;&amp;#x662F; ~/.android/debug&amp;#x3002;keystore&amp;#xFF0C;Keystore password &amp;#x548C; Key password &amp;#x90FD;&amp;#x4E3A; android&amp;#xFF0C;&amp;#x8BA9;&amp;#x6211;&amp;#x770B;&amp;#x770B;&amp;#x8FD9;&amp;#x4E2A;debug&amp;#x3002;keystore&amp;#x8BE6;&amp;#x7EC6;&amp;#x4FE1;&amp;#x606F;&amp;#xFF0C;&amp;#x8F93;&amp;#x5165;keytool -list -keystore debug.keystore  
&amp;#x5176;&amp;#x4E2D;&amp;#xFF0C;JKS&amp;#x662F;&amp;#x9ED8;&amp;#x8BA4;&amp;#x683C;&amp;#x5F0F;&amp;#xFF0C;&amp;#x5176;&amp;#x4ED6;&amp;#x6709;JCEKS(&amp;#x5B58;&amp;#x50A8;&amp;#x5BF9;&amp;#x79F0;&amp;#x5BC6;&amp;#x94A5;)&amp;#xFF0C;PKCS#12(&amp;#x901A;&amp;#x7528;&amp;#x683C;&amp;#x5F0F;&amp;#xFF0C;RSA&amp;#x516C;&amp;#x53F8;&amp;#x6807;&amp;#x51C6;&amp;#xFF0C;&amp;#x5FAE;&amp;#x8F6F;&amp;#x548C;Java&amp;#x90FD;&amp;#x652F;&amp;#x6301;)&amp;#xFF0C;JKS&amp;#x53EA;&amp;#x80FD;&amp;#x5B58;&amp;#x50A8;&amp;#x975E;&amp;#x5BF9;&amp;#x79F0;&amp;#x5BC6;&amp;#x94A5;(&amp;#x79C1;&amp;#x94A5;+X509&amp;#x516C;&amp;#x94A5;&amp;#x8BC1;&amp;#x4E66;)&amp;#x3002;&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Android&amp;#x7CFB;&amp;#x7EDF;&amp;#x7B7E;&amp;#x540D;&lt;/strong&gt;&lt;br&gt;&amp;#x8C37;&amp;#x6B4C;CTS(&amp;#x517C;&amp;#x5BB9;&amp;#x6027;&amp;#x6D4B;&amp;#x8BD5;)&amp;#x9700;&amp;#x8981;&amp;#x7CFB;&amp;#x7EDF;&amp;#x7B7E;&amp;#x540D;&amp;#x3002;&amp;#x4E2A;&amp;#x4EBA;&amp;#x7406;&amp;#x89E3;&amp;#x5C31;&amp;#x662F;&amp;#x5382;&amp;#x5546;&amp;#x4E3A;&amp;#x81EA;&amp;#x5DF1;&amp;#x786C;&amp;#x4EF6;&amp;#x5B9A;&amp;#x5236;&amp;#x7684;Android&amp;#x7CFB;&amp;#x7EDF;&amp;#x5FC5;&amp;#x987B;&amp;#x901A;&amp;#x8FC7;CTS&amp;#x6D4B;&amp;#x8BD5;&amp;#x624D;&amp;#x80FD;&amp;#x4FDD;&amp;#x8BC1;&amp;#x5F00;&amp;#x53D1;&amp;#x7684;Android&amp;#x5E94;&amp;#x7528;&amp;#x90FD;&amp;#x80FD;&amp;#x5728;&amp;#x4E0A;&amp;#x9762;&amp;#x8FD0;&amp;#x884C;&amp;#xFF0C;&amp;#x624D;&amp;#x80FD;&amp;#x7533;&amp;#x8BF7;Android Market&amp;#x3002;&amp;#x5B9A;&amp;#x5236;&amp;#x7684;&amp;#x7CFB;&amp;#x7EDF;&amp;#x5FC5;&amp;#x987B;&amp;#x8981;&amp;#x8FDB;&amp;#x884C;&amp;#x7CFB;&amp;#x7EDF;&amp;#x7B7E;&amp;#x540D;&amp;#xFF0C;&amp;#x9632;&amp;#x6B62;&amp;#x88AB;&amp;#x522B;&amp;#x4EBA;&amp;#x76D7;&amp;#x7528;&amp;#x3002;&amp;#x6E90;&amp;#x7801;&amp;#x63D0;&amp;#x4F9B;make_key&amp;#x811A;&amp;#x672C;&amp;#x8C03;&amp;#x7528;openssh&amp;#x751F;&amp;#x6210;&amp;#x79C1;&amp;#x94A5;&amp;#x548C;&amp;#x8BC1;&amp;#x4E66;&amp;#x4E24;&amp;#x4E2A;&amp;#x6587;&amp;#x4EF6;&amp;#xFF0C;&amp;#x7136;&amp;#x540E;&amp;#x4F7F;&amp;#x7528;Android&amp;#x6E90;&amp;#x7801;&amp;#x63D0;&amp;#x4F9B;signapk&amp;#x8FDB;&amp;#x884C;&amp;#x7B7E;&amp;#x540D;&amp;#xFF0C;&amp;#x4E3B;&amp;#x8981;&amp;#x662F;ROM&amp;#x79FB;&amp;#x690D;&amp;#x65F6;&amp;#x4F7F;&amp;#x7528;&amp;#x3002;&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;APK&amp;#x7B7E;&amp;#x540D;&lt;/strong&gt;&lt;br&gt;keytool&amp;#x751F;&amp;#x6210;&amp;#x7B7E;&amp;#x540D;&amp;#x6587;&amp;#x4EF6;keystore&amp;#xFF0C;&amp;#x9ED8;&amp;#x8BA4;&amp;#x6253;&amp;#x5305;&amp;#x811A;&amp;#x672C;(sdk\tools\ant\build.xml)&amp;#x8C03;&amp;#x7528;signapk&amp;#x8FDB;&amp;#x884C;&amp;#x7B7E;&amp;#x540D;&amp;#xFF0C;signapk&amp;#x6E90;&amp;#x7801;&amp;#x5728;&amp;#x9644;&amp;#x4EF6;&amp;#x4E2D;&amp;#x63D0;&amp;#x4F9B;&amp;#xFF0C;&amp;#x7B7E;&amp;#x540D;&amp;#x8FC7;&amp;#x7A0B;&amp;#x4E3B;&amp;#x8981;&amp;#x6D89;&amp;#x53CA;&amp;#x4E09;&amp;#x4E2A;&amp;#x6587;&amp;#x4EF6;&amp;#xFF0C;MANIFEST.MF&amp;#xFF0C;CERT.SF&amp;#x548C;CERT.RSA&amp;#xFF0C;&amp;#x5B58;&amp;#x653E;&amp;#x5728;META-INF&amp;#x6587;&amp;#x4EF6;&amp;#x5939;&amp;#x4E2D;&amp;#x3002;&lt;br&gt;MANIFEST.MF&amp;#xFF1A;&amp;#x6240;&amp;#x6709;&amp;#x6587;&amp;#x4EF6;&amp;#x4E0E;&amp;#x5176;SHA1&amp;#x6458;&amp;#x8981;&amp;#x503C;&amp;#xFF0C;&amp;#x4F46;&amp;#x662F;&amp;#x4E0D;&amp;#x4F1A;&amp;#x5305;&amp;#x542B;META-INF&amp;#x4E2D;&amp;#x7684;&amp;#x4E09;&amp;#x4E2A;&amp;#x6587;&amp;#x4EF6;&amp;#x3002;&lt;img src=&quot;/2016/04/17/apk-sign-theroy/manifest.png&quot;&gt;
CERT.SF&amp;#xFF1A;&amp;#x6574;&amp;#x4E2A;MANIFEST.MF&amp;#x7684;SHA1&amp;#x6458;&amp;#x8981;&amp;#x503C;&amp;#xFF1B;&amp;#x9488;&amp;#x5BF9;MANIFEST.MF&amp;#x6587;&amp;#x4EF6;&amp;#x4E2D;&amp;#x6BCF;&amp;#x4E00;&amp;#x4E2A;&amp;#x6587;&amp;#x4EF6;&amp;#x4E09;&amp;#x884C;&amp;#x6570;&amp;#x636E;(&amp;#x7A7A;&amp;#x884C;&amp;#x7B97;&amp;#x4E00;&amp;#x884C;)&amp;#x751F;&amp;#x6210;&amp;#x5176;&amp;#x5BF9;&amp;#x5E94;&amp;#x7684;SHA1-Digest&amp;#x3002;&lt;img src=&quot;/2016/04/17/apk-sign-theroy/certsf.png&quot;&gt;
CERT.RSA&amp;#xFF1A;&amp;#x683C;&amp;#x5F0F;&amp;#x4E3A;PKCS7&amp;#x7684;&amp;#x6570;&amp;#x5B57;&amp;#x8BC1;&amp;#x4E66;&amp;#xFF0C;&amp;#x5176;&amp;#x4E2D;&amp;#x8BC1;&amp;#x4E66;&amp;#x53D1;&amp;#x884C;&amp;#x8005;&amp;#x5BF9;&amp;#x8BC1;&amp;#x4E66;&amp;#x7684;&amp;#x7B7E;&amp;#x540D;&amp;#x662F;&amp;#x5BF9;CERT.SF&amp;#x6587;&amp;#x4EF6;&amp;#x7684;&amp;#x6570;&amp;#x5B57;&amp;#x7B7E;&amp;#x540D;&amp;#xFF0C;&amp;#x6240;&amp;#x4EE5;&amp;#x662F;&amp;#x81EA;&amp;#x7B7E;&amp;#x540D;&amp;#x8BC1;&amp;#x4E66;&amp;#x3002;&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&quot;&amp;#x9A8C;&amp;#x8BC1;&amp;#x8FC7;&amp;#x7A0B;&quot;&gt;&lt;a href=&quot;#&amp;#x9A8C;&amp;#x8BC1;&amp;#x8FC7;&amp;#x7A0B;&quot; class=&quot;headerlink&quot; title=&quot;&amp;#x9A8C;&amp;#x8BC1;&amp;#x8FC7;&amp;#x7A0B;&quot;&gt;&lt;/a&gt;&amp;#x9A8C;&amp;#x8BC1;&amp;#x8FC7;&amp;#x7A0B;&lt;/h2&gt;&lt;p&gt;&amp;#x6839;&amp;#x636E;Oracle&amp;#x5B98;&amp;#x65B9;&amp;#x5173;&amp;#x4E8E;jarsigner&amp;#x6587;&amp;#x6863;&amp;#xFF0C;&amp;#x5206;&amp;#x4E09;&amp;#x6B65;&amp;#xFF1A;  &lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;&amp;#x9A8C;&amp;#x8BC1;CERT.SF&amp;#x6587;&amp;#x4EF6;(&amp;#x4F7F;&amp;#x7528;&amp;#x516C;&amp;#x94A5;&amp;#x62FF;&amp;#x5230;CERT.SF&amp;#x7684;&amp;#x6458;&amp;#x8981;&amp;#x4E0E;&amp;#x5F53;&amp;#x524D;CERT.SF&amp;#x6587;&amp;#x4EF6;&amp;#x7684;&amp;#x6458;&amp;#x8981;&amp;#x8FDB;&amp;#x884C;&amp;#x6BD4;&amp;#x5BF9;)&amp;#x3002;  &lt;/li&gt;
&lt;li&gt;&amp;#x9A8C;&amp;#x8BC1;CERT.SF&amp;#x4E2D;&amp;#x6BCF;&amp;#x4E00;&amp;#x9879;&amp;#x662F;&amp;#x5426;&amp;#x4E0E;MANIFEST&amp;#x5BF9;&amp;#x5E94;&amp;#x9879;&amp;#x4E00;&amp;#x81F4;(&amp;#x5176;&amp;#x4E2D;CERT.SF&amp;#x6587;&amp;#x4EF6;&amp;#x4E2D;manifest&amp;#x9879;&amp;#x7684;SHA1&amp;#x503C;&amp;#x4E0D;&amp;#x8981;&amp;#x6C42;&amp;#x4E00;&amp;#x6837;&amp;#xFF0C;&amp;#x5176;&amp;#x4F59;&amp;#x6BCF;&amp;#x4E00;&amp;#x9879;&amp;#x8981;&amp;#x6C42;&amp;#x4E00;&amp;#x6837;)&amp;#x3002;  &lt;/li&gt;
&lt;li&gt;&amp;#x9488;&amp;#x5BF9;CERT.SF&amp;#x6BCF;&amp;#x4E00;&amp;#x9879;&amp;#xFF0C;&amp;#x8BFB;&amp;#x53D6;&amp;#x5BF9;&amp;#x5E94;&amp;#x6587;&amp;#x4EF6;&amp;#xFF0C;&amp;#x8BA1;&amp;#x7B97;&amp;#x5176;digest&amp;#x4E0E;MANIFEST&amp;#x5BF9;&amp;#x5E94;&amp;#x9879;&amp;#x8FDB;&amp;#x884C;&amp;#x5BF9;&amp;#x6BD4;&amp;#x3002;&amp;#x5982;&amp;#x679C;&amp;#x653B;&amp;#x51FB;&amp;#x8005;&amp;#x4FEE;&amp;#x6539;&amp;#x7A0B;&amp;#x5E8F;&amp;#xFF0C;&amp;#x6CA1;&amp;#x6709;&amp;#x79C1;&amp;#x94A5;&amp;#x65E0;&amp;#x6CD5;&amp;#x751F;&amp;#x6210;CERT.RSA&amp;#x4E2D;&amp;#x7684;&amp;#x6570;&amp;#x5B57;&amp;#x7B7E;&amp;#x540D;&amp;#xFF0C;&amp;#x6240;&amp;#x4EE5;&amp;#x79C1;&amp;#x94A5;&amp;#x4E00;&amp;#x5B9A;&amp;#x8981;&amp;#x4FDD;&amp;#x7BA1;&amp;#x597D;&amp;#xFF01;CERT.RSA&amp;#x548C;CERT.SF&amp;#x6587;&amp;#x4EF6;&amp;#x7684;&amp;#x540E;&amp;#x7F00;&amp;#x540D;&amp;#x4E0D;&amp;#x80FD;&amp;#x53D8;&amp;#xFF0C;&amp;#x540D;&amp;#x5B57;&amp;#x53EF;&amp;#x4EE5;&amp;#x968F;&amp;#x610F;&amp;#x8D77;&amp;#xFF0C;&amp;#x4F46;&amp;#x5FC5;&amp;#x987B;&amp;#x76F8;&amp;#x540C;&amp;#x3002;&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id=&quot;&amp;#x53C2;&amp;#x8003;&quot;&gt;&lt;a href=&quot;#&amp;#x53C2;&amp;#x8003;&quot; class=&quot;headerlink&quot; title=&quot;&amp;#x53C2;&amp;#x8003;&quot;&gt;&lt;/a&gt;&amp;#x53C2;&amp;#x8003;&lt;/h2&gt;&lt;ol&gt;
&lt;li&gt;&lt;a href=&quot;http://baike.baidu.com/view/16501.htm&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;http://baike.baidu.com/view/16501.htm&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;http://docs.oracle.com/javase/8/docs/technotes/tools/windows/jarsigner.html&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;http://docs.oracle.com/javase/8/docs/technotes/tools/windows/jarsigner.html&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://developer.android.com/tools/publishing/app-signing.html&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;https://developer.android.com/tools/publishing/app-signing.html&lt;/a&gt;&lt;/li&gt;
&lt;/ol&gt;
</content>
    
    <summary type="html">
    
      &lt;!-- toc --&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;#相关概念&quot;&gt;相关概念&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;#签名原理&quot;&gt;签名原理&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;#验证过程&quot;&gt;验证过程&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;#参考&quot;&gt;参考&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;!-- tocstop --&gt;
&lt;h2 id=&quot;相关概念&quot;&gt;&lt;a href=&quot;#相关概念&quot; class=&quot;headerlink&quot; title=&quot;相关概念&quot;&gt;&lt;/a&gt;相关概念&lt;/h2&gt;&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;Message Digest(数字摘要)&lt;/strong&gt;&lt;br&gt;将任意长度的消息变成固定长度的短消息，它类似于一个自变量是消息的函数，也就是Hash函数。数字摘要是采用单项Hash函数将需要加密的明文“摘要”成一串固定长度(128位)的密文这一串密文又称为数字指纹，它有固定的长度，而且不同的明文摘要成密文，其结果总是不同的，而同样的明文其摘要必定一致。&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Signature(数字签名)&lt;/strong&gt;&lt;br&gt;数字签名是非对称密钥加密技术与数字摘要技术的应用。将信息摘要用发送者的私钥加密，与原文一起传送给接收者。接收者只有用发送者的公钥才能解密被加密的信息摘要，然后接收者用相同的Hash函数对收到的原文产生一个信息摘要，与解密的信息摘要做比对。如果相同，则说明收到的信息是完整的，在传输过程中没有被修改；不同则说明信息被修改过，因此数字签名能保证信息的完整性。并且由于只有发送者才有加密摘要的私钥，所以我们可以确定信息一定是发送者发送的(发送者的身份认证)。&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Certification(数字证书)&lt;/strong&gt;&lt;br&gt;数字证书是一个经证书授权中心数字签名的包含公开密钥拥有者信息以及公开密钥的文件。最简单的证书包含一个公开密钥、名称以及证书授权中心的数字签名。数字证书还有一个重要的特征就是只在特定的时间段内有效。
    
    </summary>
    
      <category term="Android学习笔记" scheme="http://yoursite.com/categories/Android%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/"/>
    
    
      <category term="Android" scheme="http://yoursite.com/tags/Android/"/>
    
  </entry>
  
</feed>
